Check from v4.9.163 to v4.9.164
Commit count: 32
checking f5fd34f057e48a390a4a103406121f21179e353e ......
checking 5ebcee949fa04456053207541a0cbe51b42e552f ......
	 orig commit -> 7fbe078c37aba3088359c9256c1a1d0c3e39ee81 ......
checking 0da773c5430967f38fa96d4557abfc1d1b9c7bf1 ......
	 orig commit -> d20dc1493db438fbbfb7733adc82f472dd8a0789 ......
checking 883f7c326fda9a2727f5bb62b6f90d24e258b785 ......
	 orig commit -> 5c27ff5db1491a947264d6d4e4cbe43ae6535bae ......
checking 3decc9df1099da2452e0be4c10ec2f4b545ab338 ......
	 orig commit -> b761dcf1217760a42f7897c31dcb649f59b2333e ......
checking a3a870c02d9bf411d67d86db7bda882a0dcc19d0 ......
	 orig commit -> 7dc661bd8d3261053b69e4e2d0050cd1ee540fc1 ......
checking 4f964aa5eac7e3bd6f1b74e03ac3d2a4b5ac7c22 ......
	 orig commit -> f764c58b7faa26f5714e6907f892abc2bc0de4f8 ......
checking 83fe8732906d4a8815069e50aab0bc2ec35babbd ......
	 orig commit -> da8ab57863ed7e912d10b179b6bdc652f635bd19 ......
checking 7cbb0ab1bf66473d82ddbe81f1f7b21a7e403c95 ......
	 orig commit -> 2a5ff07a0eb945f291e361aa6f6becca8340ba46 ......
checking 0bea3824197f0b58ca66bf564d4d63070607329f ......
	 orig commit -> 69ffaebb90369ce08657b5aea4896777b9d6e8fc ......
checking 8fa3e87926a3d038d441789e8205b2a9c52babc2 ......
	 orig commit -> ad6c9986bcb627c7c22b8f9e9a934becc27df87c ......
checking 510c625222a11ba0e4f0a4bf2d9dfe0c4862d7b0 ......
	 orig commit -> 7cc9f7003a969d359f608ebb701d42cafe75b84a ......
checking 713b91c0c05d7bf80b49bc0f1c44b036c22d2807 ......
	 orig commit -> ae3b564179bfd06f32d051b9e5d72ce4b2a07c37 ......
checking 2f3d0e94ae1b3cd59bb438c3858d1adde58a3ccb ......
	 orig commit -> 97f0082a0592212fc15d4680f5a4d80f79a1687c ......
checking c4bec922def2285707cd3be3a80be46467ad8cde ......
	 orig commit -> 6ff7b060535e87c2ae14dd8548512abfdda528fb ......
checking 92382cd957f41af4ed649e00575d8b20e0ff929f ......
	 orig commit -> 797a22bd5298c2674d927893f46cadf619dad11d ......
checking f46dc1577e0ca92b0bb8be8ab061dcdc89706fb5 ......
	 orig commit -> 8511a653e9250ef36b95803c375a7be0e2edb628 ......
checking 038a48c3714e5e05394a8794ebe81752244494d3 ......
	 orig commit -> c07d27927f2f2e96fcd27bb9fb330c9ea65612d0 ......
checking de42e2ee71626945b96b4be68cb57399683a99a2 ......
	 orig commit -> e15ce4b8d11227007577e6dc1364d288b8874fbe ......
checking 9b0e9c285be4e51ccca5d09f9f7894e5637a735d ......
	 orig commit -> 59cbf56fcd98ba2a715b6e97c4e43f773f956393 ......
checking 40852d58feb5cf1fb0aafd257cba175e528f75ee ......
	 orig commit -> 9d3e1368bb45893a75a5dfb7cd21fdebfa6b47af ......
checking e8273cea4c3369618f9f1ccc2b65e792954655c5 ......
	 orig commit -> ee60ad219f5c7c4fb2f047f88037770063ef785f ......
checking a0f1f55ba4e58caa419a3688b365f0de90697fe8 ......
	 orig commit -> ae9819e339b451da7a86ab6fe38ecfcb6814e78a ......
checking 3b3ce4cc16cbda324f7bafccf422e5de0d93ab25 ......
	 orig commit -> 9417d81f4f8adfe20a12dd1fadf73a618cbd945d ......
checking 0651889ba732ff66d582872d5097f3e5309c49dd ......
	 orig commit -> ee74d0bd4325efb41e38affe5955f920ed973f23 ......
checking 312354581b2dfb07369588cd70a3ce711ca9416d ......
	 orig commit -> 95d6ebd53c79522bf9502dbc7e89e0d63f94dae4 ......
		 95d6ebd53c79522bf9502dbc7e89e0d63f94dae4 has problem. Fixes commit -> ee74d0bd4325efb41e38affe5955f920ed973f23
commit 0651889ba732ff66d582872d5097f3e5309c49dd
Author: Eric Dumazet <edumazet@google.com>
Date:   Mon Mar 11 13:48:44 2019 -0700

    net/x25: reset state in x25_connect()
    
    [ Upstream commit ee74d0bd4325efb41e38affe5955f920ed973f23 ]
    
    In case x25_connect() fails and frees the socket neighbour,
    we also need to undo the change done to x25->state.
    
    Before my last bug fix, we had use-after-free so this
    patch fixes a latent bug.
    
    syzbot report :
    
    kasan: CONFIG_KASAN_INLINE enabled
    kasan: GPF could be caused by NULL-ptr deref or user memory access
    general protection fault: 0000 [#1] PREEMPT SMP KASAN
    CPU: 1 PID: 16137 Comm: syz-executor.1 Not tainted 5.0.0+ #117
    Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
    RIP: 0010:x25_write_internal+0x1e8/0xdf0 net/x25/x25_subr.c:173
    Code: 00 40 88 b5 e0 fe ff ff 0f 85 01 0b 00 00 48 8b 8b 80 04 00 00 48 ba 00 00 00 00 00 fc ff df 48 8d 79 1c 48 89 fe 48 c1 ee 03 <0f> b6 34 16 48 89 fa 83 e2 07 83 c2 03 40 38 f2 7c 09 40 84 f6 0f
    RSP: 0018:ffff888076717a08 EFLAGS: 00010207
    RAX: ffff88805f2f2292 RBX: ffff8880a0ae6000 RCX: 0000000000000000
    kobject: 'loop5' (0000000018d0d0ee): kobject_uevent_env
    RDX: dffffc0000000000 RSI: 0000000000000003 RDI: 000000000000001c
    RBP: ffff888076717b40 R08: ffff8880950e0580 R09: ffffed100be5e46d
    R10: ffffed100be5e46c R11: ffff88805f2f2363 R12: ffff888065579840
    kobject: 'loop5' (0000000018d0d0ee): fill_kobj_path: path = '/devices/virtual/block/loop5'
    R13: 1ffff1100ece2f47 R14: 0000000000000013 R15: 0000000000000013
    FS:  00007fb88cf43700(0000) GS:ffff8880ae900000(0000) knlGS:0000000000000000
    CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
    CR2: 00007f9a42a41028 CR3: 0000000087a67000 CR4: 00000000001406e0
    DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
    DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
    Call Trace:
     x25_release+0xd0/0x340 net/x25/af_x25.c:658
     __sock_release+0xd3/0x2b0 net/socket.c:579
     sock_close+0x1b/0x30 net/socket.c:1162
     __fput+0x2df/0x8d0 fs/file_table.c:278
     ____fput+0x16/0x20 fs/file_table.c:309
     task_work_run+0x14a/0x1c0 kernel/task_work.c:113
     get_signal+0x1961/0x1d50 kernel/signal.c:2388
     do_signal+0x87/0x1940 arch/x86/kernel/signal.c:816
     exit_to_usermode_loop+0x244/0x2c0 arch/x86/entry/common.c:162
     prepare_exit_to_usermode arch/x86/entry/common.c:197 [inline]
     syscall_return_slowpath arch/x86/entry/common.c:268 [inline]
     do_syscall_64+0x52d/0x610 arch/x86/entry/common.c:293
     entry_SYSCALL_64_after_hwframe+0x49/0xbe
    RIP: 0033:0x457f29
    Code: ad b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 7b b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
    RSP: 002b:00007fb88cf42c78 EFLAGS: 00000246 ORIG_RAX: 000000000000002a
    RAX: fffffffffffffe00 RBX: 0000000000000003 RCX: 0000000000457f29
    RDX: 0000000000000012 RSI: 0000000020000080 RDI: 0000000000000004
    RBP: 000000000073bf00 R08: 0000000000000000 R09: 0000000000000000
    R10: 0000000000000000 R11: 0000000000000246 R12: 00007fb88cf436d4
    R13: 00000000004be462 R14: 00000000004cec98 R15: 00000000ffffffff
    Modules linked in:
    
    Fixes: 95d6ebd53c79 ("net/x25: fix use-after-free in x25_device_event()")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Cc: andrew hendry <andrew.hendry@gmail.com>
    Reported-by: syzbot <syzkaller@googlegroups.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking b89d3ce010277c9d86905e7a09e3df5fd703636a ......
	 orig commit -> a843dc4ebaecd15fca1f4d35a97210f72ea1473b ......
checking 8aad2336a4eb556d2a89f9ee19b641ab0c30626f ......
	 orig commit -> 1e027960edfaa6a43f9ca31081729b716598112b ......
checking a582b20fd743237ce145b45aacf9f6c24962029a ......
	 orig commit -> 6caabe7f197d3466d238f70915d65301f1716626 ......
checking e0c435a3abf70ae99ff75cf4057bf43401c56541 ......
	 orig commit -> 163d1c3d6f17556ed3c340d3789ea93be95d6c28 ......
checking ccc2aae5c4df7c6830b79280bf6fd1bf57dd5a72 ......
	 orig commit -> 4aa68e07d845562561f5e73c04aa521376e95252 ......
checking 45eaae2527707aaf871821eaccc5cbf9d3b841b2 ......
	 orig commit -> 8b23570ab001c1982c8a068cde468ff067255314 ......
