Check from v4.9.2 to v4.9.3
Commit count: 210
checking 584fd7872c1bc29d3b752bebb6a5b470018f83e8 ......
checking 3999c535da7add2f5283303d77eb56434e660fd6 ......
	 orig commit -> eaa496ffaaf19591fe471a36cef366146eeb9153 ......
checking 7ff469ceba2652241778e75f263205fe7932b376 ......
	 orig commit -> eab1c4e2d0ad4509ccb8476a604074547dc202e0 ......
	 orig commit -> eaa496ffaaf19591fe471a36cef366146eeb9153 ......
checking ec3d5c521af86e53690c8850def2d2f6a35e7756 ......
	 orig commit -> ba9f93f82abafe2552eac942ebb11c2df4f8dd7f ......
		 ba9f93f82abafe2552eac942ebb11c2df4f8dd7f has problem. Fixes commit -> 60f59ce0278557f7896d5158ae6d12a4855a72cc
commit 6fea974494af50921a5201ebb30c65dde30a1a2b
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Wed Dec 21 11:18:55 2016 -0600

    rtlwifi: rtl_usb: Fix missing entry in USB driver's private data
    
    commit 60f59ce0278557f7896d5158ae6d12a4855a72cc upstream.
    
    These drivers need to be able to reference "struct ieee80211_hw" from
    the driver's private data, and vice versa. The USB driver failed to
    store the address of ieee80211_hw in the private data. Although this
    bug has been present for a long time, it was not exposed until
    commit ba9f93f82aba ("rtlwifi: Fix enter/exit power_save").
    
    Fixes: ba9f93f82aba ("rtlwifi: Fix enter/exit power_save")
    Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
    Signed-off-by: Kalle Valo <kvalo@codeaurora.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking cf365b117388a50902d56988e69dd6f70b7662fc ......
	 orig commit -> c1a9eeb938b5433947e5ea22f89baff3182e7075 ......
checking 34db201f0de7138d3646946f5d33e178c93efca6 ......
	 orig commit -> 9bf11ecce5a2758e5a097c2f3a13d08552d0d6f9 ......
checking 1b9c2556809ad30ef8e28398d77b6b007e7be6c0 ......
	 orig commit -> ff97f2399edac1e0fb3fa7851d5fbcbdf04717cf ......
checking 91192ae41e6f638d580bd0e3e6fd2d311eaf5adf ......
	 orig commit -> a1b7a4dea6166cf46be895bce4aac67ea5160fe8 ......
checking b96e4e87d2b0fee921ceafa4f5ae1c90e9121db4 ......
	 orig commit -> 20e73b000bcded44a91b79429d8fa743247602ad ......
checking d9c7c9fa600acb0d587678cc71565316d11ec7ad ......
	 orig commit -> 7a21272b088894070391a94fdd1c67014020fa1d ......
checking aa38f370b25acc478be36e237e882e78f71c67e5 ......
	 orig commit -> b24a978c377be5f14e798cb41238e66fe51aab2f ......
checking 3c382dda47e4b51de6d67847ddfc9c10962c4ca3 ......
	 orig commit -> 2e1d23370e75d7d89350d41b4ab58c7f6a0e26b2 ......
checking c00203386d50c1d2f2621163b9d7a533de4819fc ......
	 orig commit -> 1bb33a98702d8360947f18a44349df75ba555d5d ......
checking f8b20705a383357ddca04ea648a7ac8fccd438ef ......
	 orig commit -> ef388e2054feedaeb05399ed654bdb06f385d294 ......
checking 12815dd15c480c0d595401e4eec54542025607f6 ......
	 orig commit -> 0f352f8ee8412bd9d34fb2a6411241da61175c0e ......
checking cd4bf1d416ef199223fa41eb8225f2a137c0be99 ......
	 orig commit -> 96a3aefb8ffde23180130460b0b2407b328eb727 ......
checking b88398de18331ed448739866bf9fe3743e7c1bbf ......
	 orig commit -> 356a3225222e5bc4df88aef3419fb6424f18ab69 ......
checking 4bb31bccea381ebadf0e1bc4433026613c15ce68 ......
	 orig commit -> bb3be7e7c1c18e1b141d4cadeb98cc89ecf78099 ......
		 bb3be7e7c1c18e1b141d4cadeb98cc89ecf78099 has problem. Fixes commit -> 99c794c639a65cc7b74f30a674048fd100fe9ac8
commit f9e583edf1a71b7b40d5c5c492319a07ebe82d71
Author: Brian Foster <bfoster@redhat.com>
Date:   Sun Sep 17 14:07:04 2017 -0700

    xfs: skip bmbt block ino validation during owner change
    
    commit 99c794c639a65cc7b74f30a674048fd100fe9ac8 upstream.
    
    Extent swap uses xfs_btree_visit_blocks() to fix up bmbt block
    owners on v5 (!rmapbt) filesystems. The bmbt scan uses
    xfs_btree_lookup_get_block() to read bmbt blocks which verifies the
    current owner of the block against the parent inode of the bmbt.
    This works during extent swap because the bmbt owners are updated to
    the opposite inode number before the inode extent forks are swapped.
    
    The modified bmbt blocks are marked as ordered buffers which allows
    everything to commit in a single transaction. If the transaction
    commits to the log and the system crashes such that recovery of the
    extent swap is required, log recovery restarts the bmbt scan to fix
    up any bmbt blocks that may have not been written back before the
    crash. The log recovery bmbt scan occurs after the inode forks have
    been swapped, however. This causes the bmbt block owner verification
    to fail, leads to log recovery failure and requires xfs_repair to
    zap the log to recover.
    
    Define a new invalid inode owner flag to inform the btree block
    lookup mechanism that the current inode may be invalid with respect
    to the current owner of the bmbt block. Set this flag on the cursor
    used for change owner scans to allow this operation to work at
    runtime and during log recovery.
    
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Fixes: bb3be7e7c ("xfs: check for bogus values in btree block headers")
    Cc: stable@vger.kernel.org
    Reviewed-by: Darrick J. Wong <darrick.wong@oracle.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Darrick J. Wong <darrick.wong@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking b85f32481d93a23488d208fca4558e84515dc0f4 ......
	 orig commit -> d2a047f31e86941fa896e0e3271536d50aba415e ......
checking 4081d4a79a95252486569b014b9a666ad5bfdbee ......
	 orig commit -> c44a1f22626c153976289e1cd67bdcdfefc16e1f ......
checking a585e1c4ec939d1cc5ce8776c606733d046072da ......
	 orig commit -> 7710517fc37b1899722707883b54694ea710b3c0 ......
checking bdbfd4ee6bc7aa37062f0222a143b3c3fee7282e ......
	 orig commit -> 200237d6746faaeaf7f4ff4abbf13f3917cee60a ......
checking 06ac11df915d5d607780b86fa7d98f1ab57dab16 ......
	 orig commit -> f782088c9e5d08e9494c63e68b4e85716df3e5f8 ......
checking 553937d3cce8d3806655771099928ab5525fa7e4 ......
	 orig commit -> 656152e552e5cbe0c11ad261b524376217c2fb13 ......
checking 3d6e3b12bb4eac5cadb4733530c1967fe9e3d6a9 ......
	 orig commit -> 0260d8ff5f76617e3a55a1c471383ecb4404c3ad ......
checking 4a323331d8c963aaba4f19f84f16c052bd7eb156 ......
	 orig commit -> 2755fc4438501c8c28e7783df890e889f6772bee ......
checking cf168f2ff8bae8a4eb966c3c0f055086c1fae87d ......
	 orig commit -> 974ae922efd93b07b6cdf989ae959883f6f05fd8 ......
checking cf4fb510473b4529a0969b1d0af898b7a844bc36 ......
	 orig commit -> 65c5f419788d623a0410eca1866134f5e4628594 ......
checking 3903257660338c41c22a2464407c8ff93c42e00b ......
	 orig commit -> fba3e594ef0ad911fa8f559732d588172f212d71 ......
checking 2b7dae91a1341302077798ddc38e8bfd8a012cf1 ......
	 orig commit -> fd26a88093bab6529ea2de819114ca92dbd1d71d ......
checking 49dc19915d3b0893a698a2d78f732beaff119a4d ......
	 orig commit -> 93533c7855c3c78c8a900cac65c8d669bb14935d ......
checking b49ef758f6003a7ed0afb37b33fc96e238752497 ......
	 orig commit -> 98efe8af1c9ffac47e842b7a75ded903e2f028da ......
checking 63fa793e757dfc08c09865d68936ce3d67a00047 ......
	 orig commit -> bec9d48d7a303a5bb95c05961ff07ec7eeb59058 ......
checking f380ee72a7a498c934afe3aa67a50242b935f540 ......
	 orig commit -> 5d829300bee000980a09ac2ccb761cb25867b67c ......
checking 3978c5bb004312fd267aed7279fe64b119e126b0 ......
	 orig commit -> 04197b341f23b908193308b8d63d17ff23232598 ......
checking 2f092422e1ce1f155c6a9da147a78759f0e04f40 ......
	 orig commit -> 399372349a7f9b2d7e56e4fa4467c69822d07024 ......
checking a11f90ca5f306a1c38db4f24db8bff97ffb87bd2 ......
	 orig commit -> 4fd29ec47212c8cbf98916af519019ccc5e58e49 ......
checking ae8b6cb40cb29dfa760641ce55d5b9c0c153a1f2 ......
	 orig commit -> e6fc6fcf4447c9266038c55c25e4c7c14bee110c ......
checking 56d22b9125421217fdea41250cce9dfa0013b483 ......
	 orig commit -> 26a137e31ffe6fbfdb008554a8d9b3d55bd5c86e ......
checking 4ffac6f06dfa77ead74d448d07079e37339e4da0 ......
	 orig commit -> 2ef32dee97fcf41987722a37eb6ff1a983915e99 ......
checking f482823e99f045bc5f1bd54626188219dfd1ad46 ......
	 orig commit -> ee3d532fcb64872bc20be0ee58f7afdb9fa82abe ......
		 ee3d532fcb64872bc20be0ee58f7afdb9fa82abe has problem. Fixes commit -> 2ef32dee97fcf41987722a37eb6ff1a983915e99
commit 4ffac6f06dfa77ead74d448d07079e37339e4da0
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Nov 8 18:22:11 2016 -0200

    drm/i915/gen9: fix the WM memory bandwidth WA for Y tiling cases
    
    commit 2ef32dee97fcf41987722a37eb6ff1a983915e99 upstream.
    
    The previous spec version said "double Ytile planes minimum lines",
    and I interpreted this as referring to what the spec calls "Y tile
    minimum", but in fact it was referring to what the spec calls "Minimum
    Scanlines for Y tile". I noticed that Mahesh Kumar had a different
    interpretation, so I sent and email to the spec authors and got
    clarification on the correct meaning. Also, BSpec was updated and
    should be clear now.
    
    Fixes: ee3d532fcb64 ("drm/i915/gen9: unconditionally apply the memory bandwidth WA")
    Cc: stable@vger.kernel.org
    Cc: Mahesh Kumar <mahesh1.kumar@intel.com>
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Reviewed-by: Matt Roper <matthew.d.roper@intel.com>
    Link: http://patchwork.freedesktop.org/patch/msgid/1478636531-6081-1-git-send-email-paulo.r.zanoni@intel.com
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 2bdb638de2fc9c2c1aa15ecdf28e295786a02ea1 ......
	 orig commit -> 1c4672ce4eeaeaadeea8adabaad21262b7172607 ......
checking 9ab30a6529b5d853f45b77593caada1a44156ed8 ......
	 orig commit -> 4349bd775cc8fd75cb648e3a2036a690f497de5c ......
checking 5417f59cb9962a847a3148ff3fa959b7f7502559 ......
	 orig commit -> 6b7df3ce92ac82ec3f4a2953b6fed77da7b38aaa ......
checking dae9151a88f775f88dd43595b8288f9aac13eedb ......
	 orig commit -> ebb299a51059017ec253bd30781a83d1f6e11b24 ......
checking b3539f813578419c6b386a669405284df5c5950d ......
	 orig commit -> 99e5cde5eae78bef95bfe7c16ccda87fb070149b ......
checking 1aaa777ec0095f66d9717d07c224b374fbb5f08a ......
	 orig commit -> 1c7de2b4ff886a45fbd2f4c3d4627e0f37a9dd77 ......
checking c444cc34534b779d2f2b0edda17444c7a6aab9b5 ......
	 orig commit -> 1600f62534b7b3da7978b43b52231a54c24df287 ......
checking e2822904ace59b89c054123534b6da6bb82c72c6 ......
	 orig commit -> d76d2fe05fd93673d184af77255bbbc63780f4ea ......
checking 890661544739d929cf4c5d9bce460f66ff18cb6c ......
	 orig commit -> b88214ce4d7064992452765028bd50702414f15f ......
checking 04b97a6be2eddd984ea176bc470d87248d9213d9 ......
	 orig commit -> 7254383341bc6e1a61996accd836009f0c922b21 ......
checking 090cce6f6f88ecf34cee068080800a27b70e993c ......
	 orig commit -> a45e2611b9bbd81288d97d02ce7e74a60a698d43 ......
checking 6e4bcf8539afce37430c4e56b1520535f0f5ea7a ......
	 orig commit -> 45e9320f3a4ef9588ee50a2eb1891c4bfdbb07df ......
checking 257349bedca317b10b25d489082bd32a38480aae ......
	 orig commit -> c4a407b91f4b644145492e28723f9f880efb1da0 ......
checking a299abd230818ceb4e68520ba2f442194267cc50 ......
	 orig commit -> 230436b3ef3fd7d4a1da19edf5e87bb2d74e0fc2 ......
checking 725ba1a3ebc49478f76dea369563a79c86546fbd ......
	 orig commit -> 35782b233f37e48ecc469d9c7232f3f6a7fad41a ......
		 35782b233f37e48ecc469d9c7232f3f6a7fad41a has problem. Fixes commit -> 2ab56a59ca880eebb3b89704ca1952f388151d29
checking 5cc85ef4ffe6c3f1d35b75975c5731248c5af4a7 ......
	 orig commit -> e2342ca832726a840ca6bd196dd2cc073815b08a ......
checking 60a931c20d1a401b79ff742142225c300d545af0 ......
	 orig commit -> 82a301cb0ea2df8a5c88213094a01660067c7fb4 ......
checking d33a490770e5b5bde66b2773b6e0162039dae11a ......
	 orig commit -> 1803b9a52c4e5a5dbb8a27126f6bc06939359753 ......
checking eb64cbc5665d6756cebe85977e493fe0507f0bdb ......
	 orig commit -> caf4b9e2b326cc2a5005a5c557274306536ace61 ......
checking c3edfe038a75ff264fd97cf29f7773e3143df14f ......
	 orig commit -> ee71e5f1e7d25543ee63a80451871f8985b8d431 ......
checking 39b7e1c2fdda93d632c38b457f865dcacc8fa01a ......
	 orig commit -> a2c435cc99862fd3d165e1b66bf48ac72c839c62 ......
checking d018dc9540f729699f6f96802e67c1dac1a4769d ......
	 orig commit -> 56e4e76c68fcb51547b5299e5b66a135935ff414 ......
checking e6ce55f7be903ec5cecfa0953fb4960d72b961a7 ......
	 orig commit -> 58010fa6f71c9577922b22e46014b95a4ec80fa0 ......
checking a7c9666735f4953199bdebdbc04a85e34fff97a2 ......
	 orig commit -> 9c433ad5083fd4a4a3c721d86cbfbd0b2a2326a5 ......
checking cdeaed7dda7bc0946d9fbf5ea75821c130f95a4b ......
	 orig commit -> 174122c39c369ed924d2608fc0be0171997ce800 ......
checking a05aa258b237535df67926204b359b1dacc03ed1 ......
	 orig commit -> 9e6e7c74315095fd40f41003850690c711e44420 ......
checking 5d7d362abc408e69ee229459fba21f833f2f5bf1 ......
	 orig commit -> 6afcf8ef0ca0a69d014f8edb613d94821f0ae700 ......
		 6afcf8ef0ca0a69d014f8edb613d94821f0ae700 has problem. Fixes commit -> fc280fe871449ead4bdbd1665fa52c7c01c64765
commit c0a602ad31ee8ee84fb1df35c2ced661b7bddd07
Author: Rabin Vincent <rabinv@axis.com>
Date:   Thu Apr 20 14:37:46 2017 -0700

    mm: prevent NR_ISOLATE_* stats from going negative
    
    commit fc280fe871449ead4bdbd1665fa52c7c01c64765 upstream.
    
    Commit 6afcf8ef0ca0 ("mm, compaction: fix NR_ISOLATED_* stats for pfn
    based migration") moved the dec_node_page_state() call (along with the
    page_is_file_cache() call) to after putback_lru_page().
    
    But page_is_file_cache() can change after putback_lru_page() is called,
    so it should be called before putback_lru_page(), as it was before that
    patch, to prevent NR_ISOLATE_* stats from going negative.
    
    Without this fix, non-CONFIG_SMP kernels end up hanging in the
    while(too_many_isolated()) { congestion_wait() } loop in
    shrink_active_list() due to the negative stats.
    
     Mem-Info:
      active_anon:32567 inactive_anon:121 isolated_anon:1
      active_file:6066 inactive_file:6639 isolated_file:4294967295
                                                        ^^^^^^^^^^
      unevictable:0 dirty:115 writeback:0 unstable:0
      slab_reclaimable:2086 slab_unreclaimable:3167
      mapped:3398 shmem:18366 pagetables:1145 bounce:0
      free:1798 free_pcp:13 free_cma:0
    
    Fixes: 6afcf8ef0ca0 ("mm, compaction: fix NR_ISOLATED_* stats for pfn based migration")
    Link: http://lkml.kernel.org/r/1492683865-27549-1-git-send-email-rabin.vincent@axis.com
    Signed-off-by: Rabin Vincent <rabinv@axis.com>
    Acked-by: Michal Hocko <mhocko@suse.com>
    Cc: Ming Ling <ming.ling@spreadtrum.com>
    Cc: Minchan Kim <minchan@kernel.org>
    Cc: Vlastimil Babka <vbabka@suse.cz>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking dc1b6d0aed97a5e7c95afd1a2eff20151f440513 ......
	 orig commit -> 59749e6ce53735d8b696763742225f126e94603f ......
checking 058a4a534c2392ce6a70ea8372b635de2af1d48f ......
	 orig commit -> 91a45f71078a6569ec3ca5bef74e1ab58121d80e ......
checking cd6d9ffffc4c2ce545e9d8dfcc7fe562cb02b4ea ......
	 orig commit -> e2a91f4f42018994d7424d405900d17eba6555d0 ......
checking 66c6770379368ba0738a61c2317edc0ca324b902 ......
	 orig commit -> 3999f52e3198e76607446ab1a4610c1ddc406c56 ......
checking 17df3e74fb5174bc9fc078fd640dc3b2762f0ca1 ......
	 orig commit -> 1d74e7ed5dc1903ac081574a9b6aa94e7ba4ad45 ......
checking 1d8286ccbcc6f2f5abca386430825e4c3983edc7 ......
	 orig commit -> 16652a936e96f5dae53c3fbd38a570497baadaa8 ......
checking 74e365e69687bb250fa71ba5ba389cd2680d843f ......
	 orig commit -> c0af52437254fda8b0cdbaae5a9b6d9327f1fcd5 ......
checking 65f796837e0051e11334b0c075b153d5d3d4d2c5 ......
	 orig commit -> bed570307ed78f21b77cb04a1df781dee4a8f05a ......
checking 3b198ddd5855a5073bac27571394963b87d26613 ......
	 orig commit -> 34c535793bcbf9263cf22f8a52101f796cdfab8e ......
		 34c535793bcbf9263cf22f8a52101f796cdfab8e has problem. Fixes commit -> 0702bc4d2fe793018ad9aa0eb14bff7f526c4095
commit a8e5ec201e3ab74a8afda07338e9fd8d0fccb5bb
Author: Jonas Gorski <jonas.gorski@gmail.com>
Date:   Thu Aug 9 10:59:01 2018 +0200

    irqchip/bcm7038-l1: Hide cpu offline callback when building for !SMP
    
    [ Upstream commit 0702bc4d2fe793018ad9aa0eb14bff7f526c4095 ]
    
    When compiling bmips with SMP disabled, the build fails with:
    
    drivers/irqchip/irq-bcm7038-l1.o: In function `bcm7038_l1_cpu_offline':
    drivers/irqchip/irq-bcm7038-l1.c:242: undefined reference to `irq_set_affinity_locked'
    make[5]: *** [vmlinux] Error 1
    
    Fix this by adding and setting bcm7038_l1_cpu_offline only when actually
    compiling for SMP. It wouldn't have been used anyway, as it requires
    CPU_HOTPLUG, which in turn requires SMP.
    
    Fixes: 34c535793bcb ("irqchip/bcm7038-l1: Implement irq_cpu_offline() callback")
    Signed-off-by: Jonas Gorski <jonas.gorski@gmail.com>
    Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>
    Signed-off-by: Sasha Levin <alexander.levin@microsoft.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 5cbea795f4d13184ff42307daea5a7dc7c046e5f ......
	 orig commit -> d1d111e073840b8dbc1ae90ba3fc274736451bdc ......
checking 825e6a0f7c51cc2c7e56604d2ea89c86aebef914 ......
	 orig commit -> 9a11a18902bc3b904353063763d06480620245a6 ......
checking c4c11b4bdbf684540f9baf9f17fc1c7fb688f1fb ......
	 orig commit -> 9a29d0fbc2d9ad99fb8a981ab72548cc360e9d4c ......
checking 3dd50a5e2be97d1c68545a44851be97294bfdcc7 ......
	 orig commit -> 8456066a57940b3884aa080c58b166567dc9de39 ......
checking 0e79a6b4567704970076a5b933bc1736234610ec ......
	 orig commit -> a91918cd3ea11f91c68e08e1e8ce1b560447a80e ......
checking 962a12f8e523b984d77cb5063a722a8d9536cffc ......
	 orig commit -> af15769ffab13d777e55fdef09d0762bf0c249c4 ......
checking 5157e98aa024c5ef3d5c3b27cb7203f34073ed26 ......
	 orig commit -> 7b93ca43b7e21fbe6fb1a6f4ecce4a2f70f424a0 ......
checking d451b3cc89c7f0c037281272d70539cd612ba539 ......
	 orig commit -> 5faf071d08ddd1c1be66deaa93a09ccf43f5b538 ......
checking 574bac4f402239d8dc5cb15952a93eba0602c646 ......
	 orig commit -> c8eabf821cac120afb78ca251b07cbf520406a7e ......
checking d61a969f0e941de5ec682d6236cc9d5fa54bf85b ......
	 orig commit -> a823a17981a73faa115bc0f7eda0190763075e2c ......
checking 311742c40da94fed4e4492c38ed456963ed4ecd6 ......
	 orig commit -> 3b89e4b77ef9c2f985964fab17032db98f074ed0 ......
checking afd7e2b4258aa4b01720a2d65846030b3a06689f ......
	 orig commit -> aec0e86172a79eb5e44aff1055bb953fe4d47c59 ......
checking ef41459ab279edd5fa11da4efac4aa0155c06a35 ......
	 orig commit -> 65ca7f5f7d1cdde6c25172fe6107cd16902f826f ......
checking 2148835de3c2410bfb6c64037187a1b72f6d6488 ......
	 orig commit -> 432abf68a79332282329286d190e21fe3ac02a31 ......
checking 48ffae87e91346382790af10d793cba4d2e1d341 ......
	 orig commit -> 24c790fbf5d8f54c8c82979db11edea8855b74bf ......
checking 54eed7ab1367f3d802ba516a60967e8547224a55 ......
	 orig commit -> e2a33c34ddff22ee208d80abdd12b88a98d6cb60 ......
checking 5dd700e897e4d1f74fde0826ed2ed7db08c47327 ......
	 orig commit -> bae203d58b7dce89664071b3fafe20cedaa3e4f6 ......
checking 6c9f628468723e85fa59651e258bd462091692ad ......
	 orig commit -> 0f6f9302b819ca352cfd4f42c18ec08d521f9cae ......
checking 36a6f7005f38b86b938ab3b697ca61a6693eec1e ......
	 orig commit -> 937ff9ded8b6ebe8963ade55bdd77a61ded88075 ......
checking 7af503c02b33504c82a88bc165e5ef77239faebd ......
	 orig commit -> f8d17344a60921c2387759fc0a85aa64299d1ec6 ......
checking 411873a0390e8378bb47e1d5e03fb0b95fd2efb4 ......
	 orig commit -> 20979202ee6e4c68dab7bcf408787225a656d18e ......
checking e3b665ef41106381a7ad3e6bbdf2ebba7682cc25 ......
	 orig commit -> cbf2e548ca8ad4bb274d014e9a70bd841d29948e ......
checking 447433e5f804b1a73beb9b1051b9f847541442f0 ......
	 orig commit -> 792f497b22afd0563b94dd8fa129a05f762a2c25 ......
checking 584cb7dd15a3779a8f9a4ac2ec117f1f73bda83d ......
	 orig commit -> e9572fdd13e299cfba03abbfd2786c84ac055249 ......
checking 2aca9a4fe104e6e8d7ddca7042fe6d5379ead7f9 ......
	 orig commit -> 4fccd4a1e8944033bcd7693ea4e8fb478cd2059a ......
checking 81616a9f751e9b08a90d13c79e6ca73a74c4b446 ......
	 orig commit -> c0d04e9112ad59d73f23f3b0f6726c5e798dfcbf ......
checking a69a6ebd036a6c7edf89db09ca358927c158dbe4 ......
	 orig commit -> e36ce99ee0815d7919a7b589bfb66f3de50b6bc7 ......
checking 29e7b170db90a852b51409a76870cdbe57341a9b ......
	 orig commit -> 4538bfbf2d9f1fc48c07ac0cc0ee58716fe7fe96 ......
checking af3cd3f0a805ab701f1e56ed93c676c77b7d2169 ......
	 orig commit -> 13edb767aa609b6efb7c0c2b57fbd72a6ded0eed ......
checking 7a13086bd4575738f385d062e3676e3b13af966c ......
	 orig commit -> a608a9d52fa4168efd478d684039ed545a69dbcd ......
checking 36c1bc65d211b929dda601f78c444c228d8df27f ......
	 orig commit -> 3df8d9208569ef0b2313e516566222d745f3b94b ......
checking bedcab8723cec3bf367ed28b6baa5350d54ef701 ......
	 orig commit -> a01aa6c9f40fe03c82032e7f8b3bcf1e6c93ac0e ......
checking e641c92fd2ae2c4a54810cae66c161c9cc5b06a4 ......
	 orig commit -> 7f847dd31736f1284538e54f46cf10e63929eb7f ......
checking 629138cd28becfed37527a02219150e1c2aa580a ......
	 orig commit -> bc4725d9029e2c8205fbaf1105e193d1c4e463bb ......
checking 47e3472507f0fe563da9291785c1f01693ee22e4 ......
	 orig commit -> a75dcb5848359f488c32c0aef8711d9bd37a77b8 ......
checking 4e1dfb0035e1625cb46e229034887bbc4b159d4f ......
	 orig commit -> 328cf6927bb72cadefddebbc9a23c793108147a2 ......
checking 15e0355a1ec51e1eaf140dddeaf55d70eb91d183 ......
	 orig commit -> 31b239824ece321c09bdb8e61e1d14814eaba38b ......
checking ac86312e0870ad6d35b97cc79964acbf58e99424 ......
	 orig commit -> 40a50f8b307de8d08f3fa37c312fc16a7dd233e5 ......
checking a24f1f3520e61d46ca7867871d12345b4e5c2215 ......
	 orig commit -> fcf7cf1551cae54e747a771f5808240f2a37708f ......
checking 45816391e1a5f32e25b8eb2f0c18033ea4b4b6a4 ......
	 orig commit -> 2fa436b3a2a7009c11a3bc03fe0ff4c26e80fd87 ......
checking cd84516473a78a6932b1e034e71742e14842e8dc ......
	 orig commit -> 1c3d185a9a0b136a58e73b02912d593d0303d1da ......
checking 1d9c33f1b45ccc1dfbf55c97d7e1d02155e05787 ......
	 orig commit -> 2c57b18adb93fc070039538f1ce375d3d3e99bbb ......
checking 8b4879154a67442705bb1af6610832ee06689785 ......
	 orig commit -> d4cb3fd9b548b8bfe2a712ec920b9ebabd3547ab ......
checking 5af6f56bb16ca7a90220f2757cbfa05e02d11976 ......
	 orig commit -> d62145929992f331fdde924d5963ab49588ccc7d ......
checking c008309f53e57af31c4a7210b4e2c68b1412c899 ......
	 orig commit -> 19ec31230eb3084431bc2e565fd085f79f564274 ......
checking 5f7fd4d2f94d41ec3a7d31c5731e70a6d200c74f ......
	 orig commit -> 7931ec86c1b738e4e90e58c6d95e5f720d45ee56 ......
checking 96a0c8ee7ce6a32c455ff87d4fc4a69fc87c70d1 ......
	 orig commit -> 65e4345c8ef8811bbb4860fe5f2df10646b7f2e1 ......
checking a673f99884e355284eba0d6ffa82bc8ec5365554 ......
	 orig commit -> b321a38d2407c7e425c54bc09be909a34e49f740 ......
checking fc322290fc06e53aa515f7db575f9a6c3eb84029 ......
	 orig commit -> e09ee853c92011860a4bd2fbdf6126f60fc16bd3 ......
checking 5d46c4e9a05e4e6cebddf49f7483127390306f5c ......
	 orig commit -> 5026c9cb0744a9cd40242743ca91a5d712f468c6 ......
checking af776953108b860bf6b4ccb7040969b93fb75080 ......
	 orig commit -> 967b274e02e18c9fbb4d19b96a89bd0afbc77b7a ......
checking c1ec6ba3d7c71a28d9a14f4abb1999fd5db80e2f ......
	 orig commit -> e35d6d7c4e6532a89732cf4bace0e910ee684c88 ......
checking fb0a00fb0843136baee7812b7319c2b4db2592aa ......
	 orig commit -> 1f5ecaf985c46889278f51fcb7bc143f60f4eb14 ......
checking 5f6136debf7eefa8e585c2fa52b72403f324fe77 ......
	 orig commit -> 0cff18cbab4f55581d9da86e4286655d9723d7d2 ......
checking 5ef54ae37b130ba8c01b90e451d059c9fa2dbfa3 ......
	 orig commit -> 4d75a171b67ffc3f4dadbd654c9d281091300eb2 ......
checking 93f6891a383f92f88793da1e46cb018bdef8c18a ......
	 orig commit -> 015105b12183556771e111e93f5266851e7c5582 ......
checking d387f98cb0c1e70ad45daacfb96acec4a5e0cb60 ......
	 orig commit -> dc8ee9dbdba509fb58e23ba79f2e6059fe5d8b3b ......
checking a10a1b797a0fc6b352c69826c5e9cf09e2056250 ......
	 orig commit -> 982555fc26f9d8bcdbd5f9db0378fe0682eb4188 ......
checking b429e37b80fd6738ce3d1d6450cc5b4f40ac12a4 ......
	 orig commit -> 03274445c01562d5352ea522431ab8c6175e2bbf ......
checking 8da83724d4918b35700fcbce4bfeac39fa2138f5 ......
	 orig commit -> 3c3dd1e058cb01e835dcade4b54a6f13ffaeaf7c ......
checking e7c72dccd7250c8379fef1cc2551c3c55009a4e4 ......
	 orig commit -> 4763601a56f155ddf94ef35fc2c41504a2de15f5 ......
checking 2eb09ccfa45b4367a7f416936cf757b95063d015 ......
	 orig commit -> 5563bb5743cb09bde0d0f4660a5e5b19c26903bf ......
checking 64244edf304bf06389e2b95ebd17fcc6e86e553c ......
	 orig commit -> 7b01738112608ce47083178ae2b9ebadf02d32cc ......
checking 8ecf70fb0889754e27bbc2852fa331734dc4d61a ......
	 orig commit -> 3bc02bce908c7250781376052248f5cd60a4e3d4 ......
checking d7550d7d6ae2c769a32a48d7a02c351dc61efe3f ......
	 orig commit -> 8c300fe282fa254ea730c92cb0983e2642dc1fff ......
checking 5e3c2920e9f2f21d132df92318c5df2751da0b1f ......
	 orig commit -> 9418ee15f718939aa7e650fd586d73765eb21f20 ......
checking 81f1f24d1873f56c6810fcc1ca5d2ae965c01dfc ......
	 orig commit -> 51c1685d956221576e165dd88a20063b169bae5a ......
checking 6af3ba285acb67b092f6f40033f6ab848eba1a15 ......
	 orig commit -> 8f8983a5683623b62b339d159573f95a1fce44f3 ......
checking 63d92d10a8208afeed87522a4b4b09e309c8622a ......
	 orig commit -> 1c111b6c3844a142e03bcfc2fa17bfbdea08e9dc ......
checking 799dfdeb33a0f8d08c4a6d6781b20a4011825ee4 ......
	 orig commit -> cb4d5ce588c5ff68e0fdd30370a0e6bc2c0a736b ......
checking 6db52153fea3c4cca32712106202955d034e7fad ......
	 orig commit -> c95a9f83711bf53faeb4ed9bbb63a3f065613dfb ......
checking 1bd67e85edf1826afbc592028bce941e0425f2dc ......
	 orig commit -> fde1faf872ed86d88e245191bc15a8e57368cd1c ......
checking 6ea44fb2183c6e4c4c7888e35498717f9d637c39 ......
	 orig commit -> 75dd211e773afcbc264677b0749d1cf7d937ab2d ......
checking e7cf756c89326f8dcee8a109d092d73acc59d72e ......
	 orig commit -> 91a1ff4d53c5184d383d0baeeaeab6f9736f2ff3 ......
checking ac81f1fa956f217b5a111631b81e7d7c9b6ebd73 ......
	 orig commit -> b05aebc25fdc5aeeac3ee29f0dc9f58dd07c13cc ......
checking bd52ddb0996af221523f7572840c6875bc0d4b8b ......
	 orig commit -> 5c75633ef751dd4cd8f443dc35152c1ae563162e ......
checking 9de856caff86c18f092a03a16f06f1422796be94 ......
	 orig commit -> 21ce57840243c7b70fbc1ebd3dceeb70bb6e9e09 ......
checking b2aa55142ea5cff7217f2633e85602d2279ff92e ......
	 orig commit -> 3dca01114dcecb1cf324534cd8d75fd1306a516b ......
checking 4de811c61ac562295adae03c06f581c167efd307 ......
	 orig commit -> 5afeef2366db14587b65558bbfd5a067542e07fb ......
checking 65914eeb39f47f44766b62a008e632b077b21100 ......
	 orig commit -> 0dd408425eb21ddf26a692b3c8044c9e7d1a7948 ......
checking 2e5167b239e62bce68e839dc53fffa8d8d2dd7e4 ......
	 orig commit -> ef079936d3cd09e63612834fe2698eeada0d8e3f ......
checking 0556702bf34e6c464b7ca0e14f66a87e8959aea0 ......
	 orig commit -> c4ac4496e835b78a45dfbf74f6173932217e4116 ......
checking 9401cc62b7f5acbb65d689e4da2b1b00c85861c3 ......
	 orig commit -> 90507d54f712d81b74815ef3a4bbb555cd9fab2f ......
checking 69017618a61ea173bea773a4934a63030ac9998f ......
	 orig commit -> 2330d0a853da260d8a9834a70df448032b9ff623 ......
checking a66274a9b2f4d570cdb4f44417bfc7efd97a8bab ......
	 orig commit -> 4f9785cc99feeb3673993b471f646b4dbaec2cc1 ......
checking 32631d1a739f919db4dea05c98543fa4fcfcb7c6 ......
	 orig commit -> a323fefc6f5079844dc62ffeb54f491d0242ca35 ......
checking b5264ea24484c8d34a0db7ed9085ab41cfc00576 ......
	 orig commit -> cc0909248258f679c4bb4cd315565d40abaf6bc6 ......
checking dda7611ec4a5ced89cebb3a9c48afc9c846a1f83 ......
	 orig commit -> 5d9b0f859babe96175cd33d7162a9463a875ffde ......
checking 69c415ed5c98c03e7f12c5e2cd7d7e5f7708e4f4 ......
	 orig commit -> 76ab439ed1b68778e9059c79ecc5d14de76c89a8 ......
checking 2a4ae7bc3d8d8e4b92dbac37c90ba1708e7e5c80 ......
	 orig commit -> f09d1886a41e9063b43da493ef0e845ac8afd2fa ......
checking 6ae3e89aa6b1cc3ae129922c7132ffea0aa6b19c ......
	 orig commit -> a5bc01949e3b19d8a23b5eabc6fc71bb50dc820e ......
checking 9acba5179d6c08f5499de52cb543d2b2fbb98cc2 ......
	 orig commit -> 28bedb5ae463b9f7e5195cbc93f1795e374bdef8 ......
checking cb02cce9a7f8eea6f6c8432f296074d20829ff0f ......
	 orig commit -> 4dea70778c0f48b4385c7720c363ec8d37a401b4 ......
checking 9e6c400bb58220c46a2e5e616a1fbf756f011489 ......
	 orig commit -> a5a1b9514154437aa1ed35c291191f82fd3e941a ......
checking 78ccc1966c9e3dc379a89fb3efb06db35a297680 ......
	 orig commit -> 2a7cfdf37b7c08ac29df4c62ea5ccb01474b6597 ......
checking a2118d0974095b994a8aa7b32a6a213b961f4f3e ......
	 orig commit -> 90797aee5d6902b49a453c97d83c326408aeb5a8 ......
checking 3bf5e7410178eb0f95f2c51c984d67b77a8e61d3 ......
	 orig commit -> ee8665e28e8d90ce69d4abe5a469c14a8707ae0e ......
		 ee8665e28e8d90ce69d4abe5a469c14a8707ae0e has problem. Fixes commit -> 80e457699a8dbdd70f2d26911e46f538645c55fc
commit 34ba2f04a480101c3d60918a45f68ff66973ef49
Author: Yu Chen <chenyu56@huawei.com>
Date:   Fri Dec 1 13:41:20 2017 +0200

    usb: xhci: fix panic in xhci_free_virt_devices_depth_first
    
    commit 80e457699a8dbdd70f2d26911e46f538645c55fc upstream.
    
    Check vdev->real_port 0 to avoid panic
    [    9.261347] [<ffffff800884a390>] xhci_free_virt_devices_depth_first+0x58/0x108
    [    9.261352] [<ffffff800884a814>] xhci_mem_cleanup+0x1bc/0x570
    [    9.261355] [<ffffff8008842de8>] xhci_stop+0x140/0x1c8
    [    9.261365] [<ffffff80087ed304>] usb_remove_hcd+0xfc/0x1d0
    [    9.261369] [<ffffff80088551c4>] xhci_plat_remove+0x6c/0xa8
    [    9.261377] [<ffffff80086e928c>] platform_drv_remove+0x2c/0x70
    [    9.261384] [<ffffff80086e6ea0>] __device_release_driver+0x80/0x108
    [    9.261387] [<ffffff80086e7a1c>] device_release_driver+0x2c/0x40
    [    9.261392] [<ffffff80086e5f28>] bus_remove_device+0xe0/0x120
    [    9.261396] [<ffffff80086e2e34>] device_del+0x114/0x210
    [    9.261399] [<ffffff80086e9e00>] platform_device_del+0x30/0xa0
    [    9.261403] [<ffffff8008810bdc>] dwc3_otg_work+0x204/0x488
    [    9.261407] [<ffffff80088133fc>] event_work+0x304/0x5b8
    [    9.261414] [<ffffff80080e31b0>] process_one_work+0x148/0x490
    [    9.261417] [<ffffff80080e3548>] worker_thread+0x50/0x4a0
    [    9.261421] [<ffffff80080e9ea0>] kthread+0xe8/0x100
    [    9.261427] [<ffffff8008083680>] ret_from_fork+0x10/0x50
    
    The problem can occur if xhci_plat_remove() is called shortly after
    xhci_plat_probe(). While xhci_free_virt_devices_depth_first been
    called before the device has been setup and get real_port initialized.
    The problem occurred on Hikey960 and was reproduced by Guenter Roeck
    on Kevin with chromeos-4.4.
    
    Fixes: ee8665e28e8d ("xhci: free xhci virtual devices with leaf nodes first")
    Cc: Guenter Roeck <groeck@google.com>
    Reviewed-by: Guenter Roeck <groeck@chromium.org>
    Tested-by: Guenter Roeck <linux@roeck-us.net>
    Signed-off-by: Fan Ning <fanning4@hisilicon.com>
    Signed-off-by: Li Rui <lirui39@hisilicon.com>
    Signed-off-by: yangdi <yangdi10@hisilicon.com>
    Signed-off-by: Yu Chen <chenyu56@huawei.com>
    Signed-off-by: Mathias Nyman <mathias.nyman@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 40359f91569496e77494116dddf8dd317f29d9e5 ......
	 orig commit -> 6c97cfc1a097b1e0786c836e92b7a72b4d031e25 ......
checking 9da8e3e48e8805810096f1fbd9e764c0baece561 ......
	 orig commit -> 2b985467371a58ae44d76c7ba12b0951fee6ed98 ......
checking 9bdd47c53b7cf79f68ef5038e9494261f060f64e ......
	 orig commit -> e71d363d9c611c99fb78f53bfee99616e7fe352c ......
checking 2b95c939cb88c3182e9dd681d4cf40b70985b8a5 ......
	 orig commit -> 7e4da3fcf7c9fe042f2f7cb7bf23861a899b4a8f ......
checking 735daeec9e6062cad8aab412d0c04d26ae8e13e7 ......
	 orig commit -> bcdbeb844773333d2d1c08004f3b3e25921040e5 ......
checking 05b0f2fc3c2f9efda47439557e0d51faca7e43ed ......
	 orig commit -> 0a8fd1346254974c3a852338508e4a4cddbb35f1 ......
checking da4543b3bce001ccc8a283ed64933dea13fb7b77 ......
	 orig commit -> 1c069b057dcf64fada952eaa868d35f02bb0cfc2 ......
checking 46427c247b6204f95d7406df9f43843306b0b7ab ......
	 orig commit -> add333a81a16abbd4f106266a2553677a165725f ......
checking b946777664dba9e3d5712073c173544c12762351 ......
	 orig commit -> faab50984fe6636e616c7cc3d30308ba391d36fd ......
checking 404954e5b8a675ea5b4ef4dc4c5a74b1ff3ad410 ......
	 orig commit -> 0994b0a257557e18ee8f0b7c5f0f73fe2b54eec1 ......
checking 72271ae49d6bf4011f5861fcae9e29dfbf87fb65 ......
	 orig commit -> 674aea07e38200ea6f31ff6d5f200f0cf6cdb325 ......
checking 4a37dbe68289b5bddb43656385a230d13d56f6dc ......
	 orig commit -> c48400baa02155a5ddad63e8554602e48782278c ......
checking 5de2dd7f1be18c1ee72c4aa4aeccb191982c1e7c ......
	 orig commit -> 6def85a396ce7796bd9f4561c6ae8138833f7a52 ......
checking 84fd8feb5bb50508ba336c7eaf2f377e0b241521 ......
	 orig commit -> 32eb12a6c11034867401d56b012e3c15d5f8141e ......
checking 26a401a6a52f7b838ce65b3b48e314c0a4aaa348 ......
	 orig commit -> 4c881451d3017033597ea186cf79ae41a73e1ef8 ......
checking f39969ab0418a9ef7da3f6e571359449b3497d83 ......
	 orig commit -> 6ef4e07ecd2db21025c446327ecf34414366498b ......
checking fe4fc2d67d0bfa0a1b5178e4f3c0f3ae7b29f737 ......
	 orig commit -> a6d3e7d35d088b2aabad1688b740e17bfdf566c5 ......
checking f0f7f38e80688776a21e6a91025a4851c06c6ee3 ......
	 orig commit -> 8581f1b5ee0837e55197f036406bc99746ac94b2 ......
checking 73d4256359899b239a8bb58546369afebeb4fc40 ......
	 orig commit -> 9169757ae67bc927750ae907624e65cc15b4fe5a ......
checking 5652dd3f005d7947c588ced586e09c48d68be7ae ......
	 orig commit -> b72eb5ffa6d8601d9ba72619d75fb5b27723743a ......
checking 8f8157c2a72af9cbd0e868ef64b90565b818a445 ......
	 orig commit -> 81d873a87114b05dbb74d1fbf0c4322ba4bfdee4 ......
checking 8c775affbbd69486588ee3105e7fe357874d33fb ......
	 orig commit -> c7858bf16c0b2cc62f475f31e6df28c3a68da1d6 ......
checking 5e7598a625eead50e6d783797de828fe22e86f25 ......
	 orig commit -> 35f432a03e41d3bf08c51ede917f94e2288fbe8c ......
checking 3c4eef31670361212d4f762c9420fa9a4ff160c0 ......
	 orig commit -> 2983f296f2327bc517e3b29344fce82271160197 ......
checking c7b1b7951d9d08a7b9ec19354fa8f33b5d1e9ddb ......
	 orig commit -> ef37427ac5677331145ab27a17e6f5f1b43f0c11 ......
checking 5f390df2baf73050b7af522ded2b2e070d21caa2 ......
	 orig commit -> 143fca77cce906d35f7a60ccef648e888df589f2 ......
checking 0c8033357b1d8fc4bba43cf1f87d2f61f3dd3fd2 ......
	 orig commit -> 41744213602a206f24adcb4a2b7551db3c700e72 ......
checking e569eef6298adbcc98ca029cc6763b1d854b1bed ......
	 orig commit -> b4a9eb4cd5966c8aad3d007d206a2cbda97d6928 ......
checking d259b685373231b8c85f95633e0a702352077ef6 ......
	 orig commit -> 42d97eb0ade31e1bc537d086842f5d6e766d9d51 ......
checking be4e3aec56679ecf0c7d4130c976c838a4855ef8 ......
	 orig commit -> 1d0f953086f090a022f2c0e1448300c15372db46 ......
checking 5b2c3cafcafc38a9cdf789d7d3a515eae88bdb3b ......
	 orig commit -> c7efff9284dfde95a11aaa811c9d8ec8167f0f6e ......
checking 71c88fc3bde7582c551aaa0a2db0aefb3c98aa62 ......
	 orig commit -> 85bcf96caba8b4a7c0805555638629ba3c67ea0c ......
checking 755259ba2a3a40f67d36325a1b34d8f0a1d63894 ......
	 orig commit -> e7c9a3d9e432200fd4c17855c2c23ac784d6e833 ......
checking ea991c8354c3dab7f7fe6c3a747bc473b9c935e2 ......
	 orig commit -> 01d1f7a99e457952aa51849ed7c1cc4ced7bca4b ......
checking 7090b8da3836ea69c79da8d71141a318269c26a8 ......
	 orig commit -> b4e8a0eb718749455601fa7b283febc42cca8957 ......
checking cf49219364fd1529567fba45b22eee98b4f0e6c5 ......
	 orig commit -> 65c8aea07de11b6507efa175edb44bd8b4488218 ......
