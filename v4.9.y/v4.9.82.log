Check from v4.9.82 to v4.9.83
Commit count: 76
checking 80c1c8322c331586a86e58d3f95026a1265ab396 ......
checking 08e4d04569874f79963a40890e790d2b4c33ed30 ......
	 orig commit -> 16c3ada89cff9a8c2a0eea34ffa1aa20af3f6008 ......
checking 30c68fb6582728657000627af186a99280c50721 ......
	 orig commit -> 586b2a4befad88cd87b372a1cea01e58c6811ea9 ......
checking cc98b53d798024d10aa863f4a42bb6ff8bea6615 ......
	 orig commit -> ae72e95b5e4ded145bfc6926ad9457b74e3af41a ......
checking 677adefd395e12e957e58c0cbe8017fffde18ede ......
	 orig commit -> 5c1037196b9ee75897c211972de370ed1336ec8f ......
checking 37ed2c8e496727675e71eaf9f5cc44a43cf4596a ......
	 orig commit -> b0ab681285aa66064f2de5b74191c0cabba381ff ......
checking 53e0f2656e81913d9d78b20f00016e109ead44fd ......
	 orig commit -> 3343647813fdf0f2409fbf5816ee3e0622168079 ......
checking c7bbb6d4c41a8fe36b671010defd89d96ae59637 ......
	 orig commit -> 5628a8ca14149ba4226e3bdce3a04c3b688435ad ......
checking 012e79b98f1a5eead31ea465518af35700a64c10 ......
	 orig commit -> c0eb027e5aef70b71e5a38ee3e264dc0b497f343 ......
checking 95a440bc9f4dd1a865dfa00c49b664b951a492a3 ......
checking aa72eecb4b0d11c3e198707440c5a97a56e7050f ......
	 orig commit -> 24dbc6000f4b9b0ef5a9daecb161f1907733765a ......
checking 14eb41363919106e50092ed85acb682f30b898bd ......
	 orig commit -> 9de29eac8d2189424d81c0d840cd0469aa3d41c8 ......
checking 06be007aa436aae3200ca31fc13fb66568e4ac4b ......
	 orig commit -> b399151cb48db30ad1e0e93dd40d68c6d007b637 ......
checking b0809f54222508397a240e83f52ae165b5f21a73 ......
	 orig commit -> 961888b1d76d84efc66a8f5604b06ac12ac2f978 ......
checking 90ca269463c55e99e3e91c667a821c6303f207ec ......
	 orig commit -> ea00f301285ea2f07393678cd2b6057878320c9d ......
checking 297f8eafece7c4fcabe60b7fc445d497541487e2 ......
	 orig commit -> 8fa80c503b484ddc1abbd10c7cb2ab81f3824a50 ......
checking be1ea502e31a47e3afd1c82964f35c78c80d271e ......
	 orig commit -> be3233fbfcb8f5acb6e3bcd0895c3ef9e100d470 ......
checking 191752d5d3d0a670842e6fb35291c98f8f818b66 ......
	 orig commit -> 4105c69703cdeba76f384b901712c9397b04e9c2 ......
checking 0472707cf4111fee248b212dd50691ad52427f45 ......
	 orig commit -> 2cbc0d66de0480449c75636f55697c7ff3af61fc ......
checking 60d7b9c7961bc2acc95280212b981f0e5686d586 ......
	 orig commit -> ce676638fe7b284132a7d7d5e7e7ad81bab9947e ......
checking 3aad6fe914e49d71e725e4b231f082593cf38260 ......
	 orig commit -> 21e433bdb95bdf3aa48226fd3d33af608437f293 ......
checking 96652962e667387964b5e997811043dd1e698e84 ......
	 orig commit -> 206587a9fb764d71f035dc7f6d3b6488f5d5b304 ......
checking 7b9dd0d16070cd5f38f4ff9dec7b8651e78f3a0e ......
	 orig commit -> 928a4c39484281f8ca366f53a1db79330d058401 ......
checking 765b60870ae6d2c51ad985b62fcbc60e0c62c824 ......
	 orig commit -> d37fc6d360a404b208547ba112e7dabb6533c7fc ......
checking 70f822be66083155a96c157825907dfeffc621cd ......
	 orig commit -> 1751342095f0d2b36fa8114d8e12c5688c455ac4 ......
checking 3740b9f09a94660636e33bb1aa577ad8702ca7b6 ......
	 orig commit -> df5d45aa08f848b79caf395211b222790534ccc7 ......
checking 7b559f7f08a835ff0e720afb67c18db3e1bf1b86 ......
	 orig commit -> 6b8cf5cc9965673951f1ab3f0e3cf23d06e3e2ee ......
checking c1a5f89b138321e3645af2603efaef1197125660 ......
	 orig commit -> f8975cb1b8a36d0839b6365235778dd9df1d04ca ......
checking e55af9d39b6f649a815080005ceb766e5acf08f4 ......
	 orig commit -> cdd10409914184c7eee5ae3e11beb890c9c16c61 ......
checking 65eacaf594d32d2a60003df23c17b8e24fbeee58 ......
	 orig commit -> 6ffb5b4f248fe53e0361b8cbc2a523b432566442 ......
checking 56d435814c9653346be9dffd3d99965992eb25a5 ......
	 orig commit -> e8bfa0422469cdfc86be3f525f621b1d44d2481b ......
checking 34cad5572f162d39b7dfcabcb3a6ae28bf3dac9d ......
	 orig commit -> 7ac1f59c09a61e6af6622df6809e003b0af07f3d ......
checking 910a2e4931cc08cbb0323d8d24df6c5482a535b2 ......
	 orig commit -> ca32e0c4bf9ca4b87089c5a5ce945e5f2ec890da ......
checking 6d0fe11189f37c91a9386b0b862f00167fd65afc ......
	 orig commit -> 566bd8902e7fa20bd412ed753e09e89c1c96939c ......
checking 15c5e601b7ccd1c2f6785eee4f69822329a90961 ......
	 orig commit -> 6dd0d2d22aa363fec075cb2577ba273ac8462e94 ......
checking 9cb1674008e435d2c0145b352bc66b964d7b37ff ......
	 orig commit -> ff26cc10aec128c3f86b5611fd5f59c71d49c0e3 ......
checking b3685e8e2b6ddec107f62f03ada6302cfc3a7bce ......
	 orig commit -> d1bf2d30728f310f72296b54f0651ecdb09cbb12 ......
checking 9708d4743f317bd0eb12d76f52fc27e2c59d9b6d ......
	 orig commit -> 3fa4680b860bf48b437d6a2c039789c4abe202ae ......
checking ae34caee36c6d34322c5afdc54c6a92881a224e4 ......
	 orig commit -> 6f301e06de4cf9ab7303f5acd43e64fcd4aa04be ......
checking 1d808f828f4cc97bd2f7dbafce2e9a33f3d8a86d ......
	 orig commit -> 4c1baad223906943b595a887305f2e8124821dad ......
checking ee3d989b3d59dbbb3b5c3eb33434b5ef38b3023e ......
	 orig commit -> 852f6927594d0d3e8632c889b2ab38cbc46476ad ......
checking 5c1c0b9267dd288aa7fa0356590111a89cfd6f90 ......
	 orig commit -> 87b3524cb5058fdc7c2afdb92bdb2e079661ddc4 ......
checking e41b3b8972ff3d2a2b6233dbd852241988d1356d ......
checking e6701adbbabbb078bf332bf99bd05eae7a4c64ac ......
	 orig commit -> 8dd601fa8317243be887458c49f6c29c2f3d719f ......
checking b2a6141782cd9934e8810e1b73b13e5252811e0c ......
	 orig commit -> ec897569ad7dbc6d595873a487c3fac23f463f76 ......
checking c9aca68ee52c86ce7b5037b76808dd0519edd110 ......
	 orig commit -> 7ac8ff95f48cbfa609a060fd6a1e361dd62feeb3 ......
checking 869182f45e38e4c62722b20a5c6f4bc48b2e60c3 ......
	 orig commit -> d15d662e89fc667b90cd294b0eb45694e33144da ......
		 d15d662e89fc667b90cd294b0eb45694e33144da has problem. Fixes commit -> 7bd80091567789f1c0cb70eb4737aac8bcd2b6b9
d85739367c6d56e475c281945c68fdb05ca74b4c
commit 0d7252d33dcb8e79d3d46da96e43ce3d56f29c2e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Mar 5 22:00:55 2018 +0100

    ALSA: seq: Don't allow resizing pool in use
    
    commit d85739367c6d56e475c281945c68fdb05ca74b4c upstream.
    
    This is a fix for a (sort of) fallout in the recent commit
    d15d662e89fc ("ALSA: seq: Fix racy pool initializations") for
    CVE-2018-1000004.
    As the pool resize deletes the existing cells, it may lead to a race
    when another thread is writing concurrently, eventually resulting a
    UAF.
    
    A simple workaround is not to allow the pool resizing when the pool is
    in use.  It's an invalid behavior in anyway.
    
    Fixes: d15d662e89fc ("ALSA: seq: Fix racy pool initializations")
    Reported-by: 范龙飞 <long7573@126.com>
    Reported-by: Nicolai Stange <nstange@suse.de>
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit ec0011620b81d701151b10e108e6cd9e374f8759
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Mar 5 22:06:09 2018 +0100

    ALSA: seq: More protection for concurrent write and ioctl races
    
    commit 7bd80091567789f1c0cb70eb4737aac8bcd2b6b9 upstream.
    
    This patch is an attempt for further hardening against races between
    the concurrent write and ioctls.  The previous fix d15d662e89fc
    ("ALSA: seq: Fix racy pool initializations") covered the race of the
    pool initialization at writer and the pool resize ioctl by the
    client->ioctl_mutex (CVE-2018-1000004).  However, basically this mutex
    should be applied more widely to the whole write operation for
    avoiding the unexpected pool operations by another thread.
    
    The only change outside snd_seq_write() is the additional mutex
    argument to helper functions, so that we can unlock / relock the given
    mutex temporarily during schedule() call for blocking write.
    
    Fixes: d15d662e89fc ("ALSA: seq: Fix racy pool initializations")
    Reported-by: 范龙飞 <long7573@126.com>
    Reported-by: Nicolai Stange <nstange@suse.de>
    Reviewed-and-tested-by: Nicolai Stange <nstange@suse.de>
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 0d7252d33dcb8e79d3d46da96e43ce3d56f29c2e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Mar 5 22:00:55 2018 +0100

    ALSA: seq: Don't allow resizing pool in use
    
    commit d85739367c6d56e475c281945c68fdb05ca74b4c upstream.
    
    This is a fix for a (sort of) fallout in the recent commit
    d15d662e89fc ("ALSA: seq: Fix racy pool initializations") for
    CVE-2018-1000004.
    As the pool resize deletes the existing cells, it may lead to a race
    when another thread is writing concurrently, eventually resulting a
    UAF.
    
    A simple workaround is not to allow the pool resizing when the pool is
    in use.  It's an invalid behavior in anyway.
    
    Fixes: d15d662e89fc ("ALSA: seq: Fix racy pool initializations")
    Reported-by: 范龙飞 <long7573@126.com>
    Reported-by: Nicolai Stange <nstange@suse.de>
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 344c9ac65ea678fafaff5074361dead24a038c27 ......
	 orig commit -> 5e35dc0338d85ccebacf3f77eca1e5dea73155e8 ......
checking bb1a422bd6e93fa0899e0e2ea1ce488ac651d0b4 ......
	 orig commit -> fdcc968a3b290407bcba9d4c90e2fba6d8d928f1 ......
checking d8fff0e75a0b229c42360a22866768e1b863e079 ......
	 orig commit -> 61fcf8ece9b6b09450250c4ca40cc3b81a96a68d ......
		 61fcf8ece9b6b09450250c4ca40cc3b81a96a68d has problem. Fixes commit -> 54947cd64c1b8290f64bb2958e343c07270e3a58
71db96ddfa72671bd43cacdcc99ca178d90ba267
commit 61963d34e92b4238d6c80632fc69bcf11b8f191c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Feb 26 15:36:38 2018 +0100

    ALSA: hda - Fix pincfg at resume on Lenovo T470 dock
    
    commit 71db96ddfa72671bd43cacdcc99ca178d90ba267 upstream.
    
    We've added a quirk to enable the recent Lenovo dock support, where it
    overwrites the pin configs of NID 0x17 and 19, not only updating the
    pin config cache.  It works right after the boot, but the problem is
    that the pin configs are occasionally cleared when the machine goes to
    PM.  Meanwhile the quirk writes the pin configs only at the pre-probe,
    so this won't be applied any longer.
    
    For addressing that issue, this patch moves the code to overwrite the
    pin configs into HDA_FIXUP_ACT_INIT section so that it's always
    applied at both probe and resume time.
    
    Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=195161
    Fixes: 61fcf8ece9b6 ("ALSA: hda/realtek - Enable Thinkpad Dock device for ALC298 platform")
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit 5e51318e088c684c8f665556b2c4d2142aa8f85a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Dec 3 10:44:15 2018 +0100

    ALSA: hda/realtek - Fix speaker output regression on Thinkpad T570
    
    commit 54947cd64c1b8290f64bb2958e343c07270e3a58 upstream.
    
    We've got a regression report for some Thinkpad models (at least
    T570s) which shows the too low speaker output volume.  The bisection
    leaded to the commit 61fcf8ece9b6 ("ALSA: hda/realtek - Enable Thinkpad
    Dock device for ALC298 platform"), and it's basically adding the two
    pin configurations for the dock, and looks harmless.
    
    The real culprit seems, though, that the DAC assignment for the
    speaker pin is implicitly assumed on these devices, i.e. pin NID 0x14
    to be coupled with DAC NID 0x03.  When more pins are configured by the
    commit above, the auto-parser changes the DAC assignment, and this
    resulted in the regression.
    
    As a workaround, just provide the fixed pin / DAC mapping table for
    this Thinkpad fixup function.  It's no generic solution, but the
    problem itself is pretty much device-specific, so must be good
    enough.
    
    Bugzilla: https://bugzilla.redhat.com/show_bug.cgi?id=1554304
    Fixes: 61fcf8ece9b6 ("ALSA: hda/realtek - Enable Thinkpad Dock device for ALC298 platform")
    Cc: <stable@vger.kernel.org>
    Reported-and-tested-by: Jeremy Cline <jcline@redhat.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 61963d34e92b4238d6c80632fc69bcf11b8f191c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Feb 26 15:36:38 2018 +0100

    ALSA: hda - Fix pincfg at resume on Lenovo T470 dock
    
    commit 71db96ddfa72671bd43cacdcc99ca178d90ba267 upstream.
    
    We've added a quirk to enable the recent Lenovo dock support, where it
    overwrites the pin configs of NID 0x17 and 19, not only updating the
    pin config cache.  It works right after the boot, but the problem is
    that the pin configs are occasionally cleared when the machine goes to
    PM.  Meanwhile the quirk writes the pin configs only at the pre-probe,
    so this won't be applied any longer.
    
    For addressing that issue, this patch moves the code to overwrite the
    pin configs into HDA_FIXUP_ACT_INIT section so that it's always
    applied at both probe and resume time.
    
    Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=195161
    Fixes: 61fcf8ece9b6 ("ALSA: hda/realtek - Enable Thinkpad Dock device for ALC298 platform")
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 31cb8df3f8ea21d1d33d371b160fddd903888e19 ......
	 orig commit -> 447cae58cecd69392b74a4a42cd0ab9cabd816af ......
checking 3dc694f4a436ec5f8017161ff8e8a8e49856014d ......
	 orig commit -> 3f2f7c553d077be6a30cb96b2976a2c940bf5335 ......
		 3f2f7c553d077be6a30cb96b2976a2c940bf5335 has problem. Fixes commit -> d5078193e56bb24f4593f00102a3b5e07bb84ee0
checking 921f860ade863666b8b4be9ec5d0347bb8891ea4 ......
	 orig commit -> ea56fb282368ea08c2a313af6b55cb597aec4db1 ......
checking 39e0a6bd07182815062c74fc73ce0ea94578ce00 ......
	 orig commit -> 26d99834f89e76514076d9cd06f61e56e6a509b8 ......
checking efb1cbc229f122bc1d1b5e85bdd2da971c953f2e ......
	 orig commit -> 900c9981680067573671ecc5cbfa7c5770be3a40 ......
checking b48edd6d7658a9fdb05c162f1f099245e7cd22e5 ......
	 orig commit -> e8f1bc1493855e32b7a2a019decc3c353d94daf6 ......
checking bc0d431e74adb5967fe39bc07aad68a6a865612d ......
	 orig commit -> 55237a5f2431a72435e3ed39e4306e973c0446b7 ......
checking 0f4adc1468fe5495e25e6da520d438f947f6cd7e ......
	 orig commit -> 1846430c24d66e85cc58286b3319c82cd54debb2 ......
checking ecd72fd604b1f3aa3ec03962e4676760a8e1a1b4 ......
	 orig commit -> e89166990f11c3f21e1649d760dd35f9e410321c ......
checking fffc0fcaebebefd06b07838e4aad5ef5f30803fd ......
	 orig commit -> ce512d79d0466a604793addb6b769d12ee326822 ......
checking 28130f4d2340a87ea4b84e55f43016ebf86b9a2e ......
	 orig commit -> c713fb071edc0efc01a955f65a006b0e1795d2eb ......
checking 81c1ef9a0fcf696f443346ff2315e698a1d2b69e ......
	 orig commit -> 724ba8b30b044aa0d94b1cd374fc15806cdd6f18 ......
checking dca0dc604aa37fda4681227250522dd9abe47298 ......
	 orig commit -> 9cb18db0701f6b74f0c45c23ad767b3ebebe37f6 ......
checking e1afa7bb38d5379f29fa015e9402e946a226afe8 ......
	 orig commit -> eac56aa3bc8af3d9b9850345d0f2da9d83529134 ......
checking 3d95c4faf85e3c5b67cda113d13bf701a40ee1d0 ......
	 orig commit -> 2e6522c565522a2e18409c315c49d78c8b74807b ......
		 2e6522c565522a2e18409c315c49d78c8b74807b has problem. Fixes commit -> ec897569ad7dbc6d595873a487c3fac23f463f76
commit b2a6141782cd9934e8810e1b73b13e5252811e0c
Author: James Hogan <jhogan@kernel.org>
Date:   Wed Jan 31 22:24:45 2018 +0000

    usb: Move USB_UHCI_BIG_ENDIAN_* out of USB_SUPPORT
    
    commit ec897569ad7dbc6d595873a487c3fac23f463f76 upstream.
    
    Move the Kconfig symbols USB_UHCI_BIG_ENDIAN_MMIO and
    USB_UHCI_BIG_ENDIAN_DESC out of drivers/usb/host/Kconfig, which is
    conditional upon USB && USB_SUPPORT, so that it can be freely selected
    by platform Kconfig symbols in architecture code.
    
    For example once the MIPS_GENERIC platform selects are fixed in commit
    2e6522c56552 ("MIPS: Fix typo BIG_ENDIAN to CPU_BIG_ENDIAN"), the MIPS
    32r6_defconfig warns like so:
    
    warning: (MIPS_GENERIC) selects USB_UHCI_BIG_ENDIAN_MMIO which has unmet direct dependencies (USB_SUPPORT && USB)
    warning: (MIPS_GENERIC) selects USB_UHCI_BIG_ENDIAN_DESC which has unmet direct dependencies (USB_SUPPORT && USB)
    
    Fixes: 2e6522c56552 ("MIPS: Fix typo BIG_ENDIAN to CPU_BIG_ENDIAN")
    Signed-off-by: James Hogan <jhogan@kernel.org>
    Cc: Corentin Labbe <clabbe.montjoie@gmail.com>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Cc: Paul Burton <paul.burton@mips.com>
    Cc: linux-usb@vger.kernel.org
    Cc: linux-mips@linux-mips.org
    Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
    Patchwork: https://patchwork.linux-mips.org/patch/18559/
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking cbd0c0fc54e2fa27d05779cb984fe9c989652be8 ......
	 orig commit -> 10a0cd6e4932b5078215b1ec2c896597eec0eff9 ......
checking 7318454518ad56ad38b60dbb3d185fd14d0d0b93 ......
	 orig commit -> af27d9403f5b80685b79c88425086edccecaf711 ......
checking f0b59c20145b4d8a0739960b2ad2b292fa365ef7 ......
	 orig commit -> 9f0372488cc9243018a812e8cfbf27de650b187b ......
checking 4a36f437bed1305495196274b08cf5b8d9b4a76d ......
	 orig commit -> 06f29cc81f0350261f59643a505010531130eea0 ......
checking 539deabfccb0a5d7e17daa432b385ffe608e0ccb ......
	 orig commit -> abbc3f9395c76d554a9ed27d4b1ebfb5d9b0e4ca ......
checking 99a89d8fb506abaaf5f88e99cd29bb288d805c8e ......
	 orig commit -> f69120ce6c024aa634a8fc25787205e42f0ccbe6 ......
checking 9cb2d0bc289e8edfdd6b5fb9962fd41b4c6e9b16 ......
	 orig commit -> 3876bbe27d04b848750d5310a37d6b76b593f648 ......
checking b7dc0f532107ec150ccaf381d926c07f6c3fa30d ......
	 orig commit -> 5b8b58063029f02da573120ef4dc9079822e3cda ......
checking 9172bbcdef221d76976c8df9caafe8ada07c3389 ......
	 orig commit -> 3a61b527b4e1f285d21b6e9e623dc45cf8bb391f ......
checking d7b2a68485787a655a4e7f71def1d08289f644e6 ......
	 orig commit -> 239b5f64e12b1f09f506c164dff0374924782979 ......
checking aed3b970e68235dcf465b18f4c12a7efd09fb177 ......
	 orig commit -> dc2db1dc5fb9ab3a43b305c2720fee5278dbee2a ......
