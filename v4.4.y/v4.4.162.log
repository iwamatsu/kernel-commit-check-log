Check from v4.4.162 to v4.4.163
Commit count: 116
checking 7a4269707deb6ab22d488eb1a9eedae3ef88abc5 ......
checking 8474c9b8cc8b7f29c719d26f4fbca5cb957634fc ......
	 orig commit -> 53c13ba8ed39e89f21a0b98f4c8a241bb44e483d ......
checking 80ab1e24e2c03585fe4883aaf591cfe07da96edd ......
	 orig commit -> 94d7ee0baa8b764cf64ad91ed69464c1a6a0066b ......
checking 8a1d3de19b0afbf069baf704afecfbeba9059fce ......
	 orig commit -> 9bd616e3dbedfc103f158197c8ad93678849b1ed ......
checking 74ede0af32f565ac5b7222c8722cc7da6951bef4 ......
	 orig commit -> b59167ac7bafd804c91e49ad53c6d33a7394d4c8 ......
checking 4a2b54a750bf18be02997944464396485b7ef284 ......
	 orig commit -> baa9be4ffb55876923dc9716abc0a448e510ba30 ......
checking c057f7581524a8d845e6a102e1b75faa0dac2bd6 ......
	 orig commit -> 13c1c5e4d7f887cba36c5e3df3faa22071c1469f ......
checking 506617d92fc31de7e1a769da660924d42097210f ......
	 orig commit -> 665c365a77fbfeabe52694aedf3446d5f2f1ce42 ......
checking 87f8db65811b5bdb7686d0e53fab486d9fc2fff8 ......
	 orig commit -> 9ae24af3669111d418242caec8dd4ebd9ba26860 ......
checking 17275e092a0126211eec3114d64c639feee7cacd ......
	 orig commit -> f976d0e5747ca65ccd0fb2a4118b193d70aa1836 ......
checking 17eb02cc26926b879015590a86380e431048057e ......
	 orig commit -> 0295e39595e1146522f2722715dba7f7fba42217 ......
checking 6ede39a8e1f64babac7e50e989f8b6535e7e7dde ......
	 orig commit -> a3671a4f973ee9d9621d60166cc3b037c397d604 ......
checking 3700bfc36c3cef29533951d31b37b041628bb5b2 ......
	 orig commit -> efa61c8cf2950ab5c0e66cff3cabe2a2b24e81ba ......
checking d1ce094c3c90434844c6580be7290517762422d6 ......
	 orig commit -> 169b803397499be85bdd1e3d07d6f5e3d4bd669e ......
checking f2adb1f6f9d691f8d518b6b44ea20618e636ffee ......
	 orig commit -> d312fefea8387503375f728855c9a62de20c9665 ......
checking 333de2f4131efde180eba58abe231f4ad35d8451 ......
	 orig commit -> 9039f3ef446e9ffa200200c934f049add9e58426 ......
checking 2e3ae534fb98c7a6a5cf3e80a190181154328f80 ......
checking abd46fca025ccb8781303a4956e2bf031a7e8c01 ......
	 orig commit -> da71577545a52be3e0e9225a946e5fd79cfab015 ......
checking 628a149b00d1eb16687e61f8d93676db3e49071c ......
	 orig commit -> ff002269a4ee9c769dbf9365acef633ebcbd6cbe ......
checking 8de8589c09dc78c5245b73d6b31a615a5aed52b6 ......
	 orig commit -> 7de414a9dd91426318df7b63da024b2b07e53df5 ......
checking fee37f15abcc273766186e13c2ff0338f14035cd ......
	 orig commit -> b336decab22158937975293aea79396525f92bb3 ......
checking 104ed9e3d12651ba6a95aad7f229c966386f2f83 ......
	 orig commit -> 6b839b6cf9eada30b086effb51e5d6076bafc761 ......
checking d5df0bdcceba33e121fe338dd85db9f86cedd1f4 ......
	 orig commit -> 30549aab146ccb1275230c3b4b4bc6b4181fd54e ......
checking 98528072a2a9f7936bb2cbda6bf0f34545a45adf ......
	 orig commit -> b6168562c8ce2bd5a30e213021650422e08764dc ......
checking 7fc851d0f813c939e72f26d37bd8cd876abc8241 ......
	 orig commit -> 38b4f18d56372e1e21771ab7b0357b853330186c ......
checking 97749034bdb4aa8dea0ff7b08f9e08823a535ebb ......
	 orig commit -> 4ba4c566ba8448a05e6257e0b98a21f1a0d55315 ......
checking 2647feb650d7d48f85a957621d8404d9e34cccdb ......
	 orig commit -> ee1abcf689353f36d9322231b4320926096bdee0 ......
checking ef1cb6b06b39482a043d3c06a53e88c689c9463d ......
	 orig commit -> dc012f3628eaecfb5ba68404a5c30ef501daf63d ......
checking 4100be3e8177049f5bf40769a18f708fc2c3a9b7 ......
	 orig commit -> 0fe5119e267f3e3d8ac206895f5922195ec55a8a ......
		 0fe5119e267f3e3d8ac206895f5922195ec55a8a has problem. Fixes commit -> 278e2148c07559dd4ad8602f22366d61eb2ee7b7
commit 0effb9fb3dfeac514d8ce8a2ba3da970793711ba
Author: Hangbin Liu <liuhangbin@gmail.com>
Date:   Fri Feb 22 21:22:32 2019 +0800

    Revert "bridge: do not add port to router list when receives query with source 0.0.0.0"
    
    commit 278e2148c07559dd4ad8602f22366d61eb2ee7b7 upstream.
    
    This reverts commit 5a2de63fd1a5 ("bridge: do not add port to router list
    when receives query with source 0.0.0.0") and commit 0fe5119e267f ("net:
    bridge: remove ipv6 zero address check in mcast queries")
    
    The reason is RFC 4541 is not a standard but suggestive. Currently we
    will elect 0.0.0.0 as Querier if there is no ip address configured on
    bridge. If we do not add the port which recives query with source
    0.0.0.0 to router list, the IGMP reports will not be about to forward
    to Querier, IGMP data will also not be able to forward to dest.
    
    As Nikolay suggested, revert this change first and add a boolopt api
    to disable none-zero election in future if needed.
    
    Reported-by: Linus Lüssing <linus.luessing@c0d3.blue>
    Reported-by: Sebastian Gottschall <s.gottschall@newmedia-net.de>
    Fixes: 5a2de63fd1a5 ("bridge: do not add port to router list when receives query with source 0.0.0.0")
    Fixes: 0fe5119e267f ("net: bridge: remove ipv6 zero address check in mcast queries")
    Signed-off-by: Hangbin Liu <liuhangbin@gmail.com>
    Acked-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking a1519237965f31b5780c8f63e6c3649600fb5754 ......
	 orig commit -> 5a2de63fd1a59c30c02526d427bc014b98adf508 ......
		 5a2de63fd1a59c30c02526d427bc014b98adf508 has problem. Fixes commit -> 278e2148c07559dd4ad8602f22366d61eb2ee7b7
0fe5119e267f3e3d8ac206895f5922195ec55a8a
commit 4100be3e8177049f5bf40769a18f708fc2c3a9b7
Author: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
Date:   Sat Oct 27 12:07:47 2018 +0300

    net: bridge: remove ipv6 zero address check in mcast queries
    
    commit 0fe5119e267f3e3d8ac206895f5922195ec55a8a upstream.
    
    Recently a check was added which prevents marking of routers with zero
    source address, but for IPv6 that cannot happen as the relevant RFCs
    actually forbid such packets:
    RFC 2710 (MLDv1):
    "To be valid, the Query message MUST
     come from a link-local IPv6 Source Address, be at least 24 octets
     long, and have a correct MLD checksum."
    
    Same goes for RFC 3810.
    
    And also it can be seen as a requirement in ipv6_mc_check_mld_query()
    which is used by the bridge to validate the message before processing
    it. Thus any queries with :: source address won't be processed anyway.
    So just remove the check for zero IPv6 source address from the query
    processing function.
    
    Fixes: 5a2de63fd1a5 ("bridge: do not add port to router list when receives query with source 0.0.0.0")
    Signed-off-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Cc: Hangbin Liu <liuhangbin@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit 0effb9fb3dfeac514d8ce8a2ba3da970793711ba
Author: Hangbin Liu <liuhangbin@gmail.com>
Date:   Fri Feb 22 21:22:32 2019 +0800

    Revert "bridge: do not add port to router list when receives query with source 0.0.0.0"
    
    commit 278e2148c07559dd4ad8602f22366d61eb2ee7b7 upstream.
    
    This reverts commit 5a2de63fd1a5 ("bridge: do not add port to router list
    when receives query with source 0.0.0.0") and commit 0fe5119e267f ("net:
    bridge: remove ipv6 zero address check in mcast queries")
    
    The reason is RFC 4541 is not a standard but suggestive. Currently we
    will elect 0.0.0.0 as Querier if there is no ip address configured on
    bridge. If we do not add the port which recives query with source
    0.0.0.0 to router list, the IGMP reports will not be about to forward
    to Querier, IGMP data will also not be able to forward to dest.
    
    As Nikolay suggested, revert this change first and add a boolopt api
    to disable none-zero election in future if needed.
    
    Reported-by: Linus Lüssing <linus.luessing@c0d3.blue>
    Reported-by: Sebastian Gottschall <s.gottschall@newmedia-net.de>
    Fixes: 5a2de63fd1a5 ("bridge: do not add port to router list when receives query with source 0.0.0.0")
    Fixes: 0fe5119e267f ("net: bridge: remove ipv6 zero address check in mcast queries")
    Signed-off-by: Hangbin Liu <liuhangbin@gmail.com>
    Acked-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 4100be3e8177049f5bf40769a18f708fc2c3a9b7
Author: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
Date:   Sat Oct 27 12:07:47 2018 +0300

    net: bridge: remove ipv6 zero address check in mcast queries
    
    commit 0fe5119e267f3e3d8ac206895f5922195ec55a8a upstream.
    
    Recently a check was added which prevents marking of routers with zero
    source address, but for IPv6 that cannot happen as the relevant RFCs
    actually forbid such packets:
    RFC 2710 (MLDv1):
    "To be valid, the Query message MUST
     come from a link-local IPv6 Source Address, be at least 24 octets
     long, and have a correct MLD checksum."
    
    Same goes for RFC 3810.
    
    And also it can be seen as a requirement in ipv6_mc_check_mld_query()
    which is used by the bridge to validate the message before processing
    it. Thus any queries with :: source address won't be processed anyway.
    So just remove the check for zero IPv6 source address from the query
    processing function.
    
    Fixes: 5a2de63fd1a5 ("bridge: do not add port to router list when receives query with source 0.0.0.0")
    Signed-off-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Cc: Hangbin Liu <liuhangbin@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 6f52608e74f3712b20d6e1c24a84d79ea77e4e34 ......
	 orig commit -> da15fc2fa9c07b23db8f5e479bd8a9f0d741ca07 ......
checking 25e2243ad203b1afa12ce15004a4e67f287d9137 ......
	 orig commit -> d616f81cdd2a21edfa90a595a4e9b143f5ba8414 ......
checking fa2075baa95c1957b477c830415d4d6b72282ddc ......
	 orig commit -> ac081c3be3fae6d0cc3e1862507fca3862d30b67 ......
checking 55df64d96155659e06c6c4ae2126f23b08cfe8e2 ......
	 orig commit -> eea96566c189c77e5272585984eb2729881a2f1d ......
checking fbba23bb4071123431812a653ff98de7b94fe61e ......
	 orig commit -> 68fe55680d0f3342969f49412fceabb90bdfadba ......
checking a5ce9639fc792b1321ef9f88cbbf5e5aeb127adc ......
	 orig commit -> 2a83fba6cae89dd9c0625e68ff8ffff791c67ac0 ......
	 orig commit -> 182785335447957409282ca745aa5bc3968facee ......
	 orig commit -> 440aeca4b9858248d8f16d724d9fa87a4f65fa33 ......
	 orig commit -> 4e684f59d760a2c7c716bb60190783546e2d08a1 ......
checking 0f951e1a4186372583e05850240e861d8ca8b6a2 ......
	 orig commit -> cea8cd498f4f1c30ea27e3664b3c671e495c4fce ......
checking 83aa7d13df9f9cabc87ce1c70f86c5b35c0f5ead ......
	 orig commit -> 934767c56b0d9dbb95a40e9e6e4d9dcdc3a165ad ......
checking b1f4be0ee470f7244d85152dbde7f50a23d15c0b ......
	 orig commit -> 19cdead3e2ef8ed765c5d1ce48057ca9d97b5094 ......
checking 1bd2b909fd4579dcb5d231ab276e2d2f20b81a82 ......
	 orig commit -> 9e578b37505018622dfafc40eed7cd78ff2af221 ......
checking dfb3a6a31fd001e89973c53123752c608f0acd07 ......
	 orig commit -> 27d30400c448264c1ac9434cb836de0c230af213 ......
checking 87c7239cde199a612892d3347e95342272e8adc5 ......
	 orig commit -> 9a6b94796ae6feaf275ec6200e9b2964db208182 ......
checking 61d2a3e63bc2a5a149fc01c367fd59cc5e5cf9ef ......
	 orig commit -> ba8afe94723e9ba665aee9cca649fb2c80f7304c ......
checking f46b1dc562a56970e0669ecd488ddb71574416f8 ......
	 orig commit -> 11887ed172a6960673f130dad8f8fb42778f64d7 ......
checking 8025a41779ebae3670dc060ff759be2fa4bcc1f0 ......
	 orig commit -> 378da4a65f3a0390837b38145bb5d8c2d20c2cf7 ......
checking 18747e4caac9c6d7352e2af9c57ccaf0e94776f8 ......
	 orig commit -> 0ae99ecba7928c7bc66cf14d8a88f0b6ec9fc78e ......
checking fd5939e73ea78ac33e597de3b7677c3d7dc50e63 ......
	 orig commit -> 99dbff202e28ad1dadf55b058bcae7908678e963 ......
checking 047719209751af5133cf7614f2d6edce495d11e5 ......
	 orig commit -> 46edf52d08342b3dc1f9a61c5200ab8b1c0f5a37 ......
checking 7f71f461af4a3e8e29e543d15fca150a2057faf4 ......
	 orig commit -> ca1f3ae3154ad6d08caa740c99be0d86644a4e44 ......
checking 20d01c513f8d00633a0778df60d07d79878f24fc ......
	 orig commit -> 0ede1c401332173ab0693121dc6cde04a4dbf131 ......
checking b99152a593de5df769c889177e731565845aefbd ......
	 orig commit -> 7b2c63de20080c18d0de35b292ad61fc9bc8328e ......
checking cc014084cb850df29b19e4bf4419f129c5cfea95 ......
	 orig commit -> 1e953d846ac015fbfcf09c857e8f893924cb629c ......
checking 9954f1884eec0c584136a08290a62d996fd010ea ......
	 orig commit -> 7588f1ecc5f0c914e669d8afb6525f47cd1c4355 ......
checking 27e13827973eccb7fcbf3c70832305082aa082c2 ......
	 orig commit -> ec085c5a51b768947ca481f90b66653e36b3c566 ......
checking 414fb21bd5e0b72ff76045e3b76cea9629b47ea0 ......
	 orig commit -> a3c18422a4b4e108bcf6a2328f48867e1003fd95 ......
		 a3c18422a4b4e108bcf6a2328f48867e1003fd95 has problem. Fixes commit -> 94d7ee0baa8b764cf64ad91ed69464c1a6a0066b
commit 80ab1e24e2c03585fe4883aaf591cfe07da96edd
Author: Guillaume Nault <g.nault@alphalink.fr>
Date:   Wed Mar 29 08:44:59 2017 +0200

    l2tp: hold tunnel socket when handling control frames in l2tp_ip and l2tp_ip6
    
    commit 94d7ee0baa8b764cf64ad91ed69464c1a6a0066b upstream.
    
    The code following l2tp_tunnel_find() expects that a new reference is
    held on sk. Either sk_receive_skb() or the discard_put error path will
    drop a reference from the tunnel's socket.
    
    This issue exists in both l2tp_ip and l2tp_ip6.
    
    Fixes: a3c18422a4b4 ("l2tp: hold socket before dropping lock in l2tp_ip{, 6}_recv()")
    Signed-off-by: Guillaume Nault <g.nault@alphalink.fr>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 44656b939099b3381134dfe7c1cf5ccfc08d3272 ......
	 orig commit -> 5ea59db8a375216e6c915c5586f556766673b5a7 ......
checking 02bc5312bb66a828f21d85af14425fd45eec08f8 ......
	 orig commit -> c3483384ee511ee2af40b4076366cd82a6a47b86 ......
		 c3483384ee511ee2af40b4076366cd82a6a47b86 has problem. Fixes commit -> a0ca153f98db8cf25298565a09e11fe9d82846ad
checking 152368987f1844ca5728ccbac5e8d7a7de8a7457 ......
	 orig commit -> 7f92083eb58f85ea114d97f65fcbe22be5b0468d ......
checking c21f80e9661b5363638eef93be4bf8ed4fea7577 ......
	 orig commit -> 9f8a7658bcafb2a7853f7a2eae8a94e87e6e695b ......
checking 83aacb9cf479031bb8de3d0a3bcf132cf6b158f0 ......
	 orig commit -> 3ca2b2506ec9a3b1615930a6810d30ec9aba10a1 ......
checking 83662744dcf2abe632b25c8bac256de69c99c06b ......
	 orig commit -> e9ee3238f8a480bbca58e51d02a93628d7c1f265 ......
checking fcac753bf1563ab131dc602e55890fa6b93f5491 ......
	 orig commit -> 85082dba0a5059c538cfa786d07f5ec5370d22fe ......
checking 40e9abaac6531e665cf57e4d456774239264a7cd ......
	 orig commit -> ab0394fe2c258fdb5086c51a251b28f8ee7ab35c ......
checking c97383a60e49db65a88c864aa0280d491e299e36 ......
	 orig commit -> d0f71afffa1c3d5a36a4a278f1dbbd2643176dc3 ......
checking 1b6a863ff29ccd7b65b0112bbec1cda26b7f9c4e ......
	 orig commit -> 61c12b49e1c9c77d7a1bcc161de540d0fd21cf0c ......
checking 4a3948cb6da454f21f89a34e694cea322ea559f9 ......
	 orig commit -> 4813766325374af6ed0b66879ba6a0bbb05c83b6 ......
checking e25dc63aa366fd0f61d1d9ba67b66f5d75fc4372 ......
	 orig commit -> 1aacde3d22c42281236155c1ef6d7a5aa32a826b ......
checking 75c8542375a1ed286ad617badf24408ce376de80 ......
	 orig commit -> a4fd4a724d6c30ad671046d83be2e9be2f11d275 ......
checking ab0b3b9dbf559a5633d460e748144697bd2d3aa3 ......
	 orig commit -> d7f4f332f082c4d4ba53582f902ed6b44fd6f45e ......
checking c300313d484db2511f3496bdca96b1e902462839 ......
	 orig commit -> 9a78d4fc28904785ffe4c2d361e25b251b479704 ......
checking d896b9f298afcfc4873000a290324ba72b23eef5 ......
	 orig commit -> f9279c968c257ee39b0d7bd2571a4d231a67bcc1 ......
checking 9e9fe58a92a46c6d154d2901735bf230d91b8507 ......
	 orig commit -> 2b06cdf3e688b98fcc9945873b5d42792bd4eee0 ......
checking db769a03103b7cd1d419c76d3840e2d3a64c0df8 ......
	 orig commit -> 6d332747fa5f0a6843b56b5b129168ba909336d1 ......
checking 22979776093abc47dcbc6a06eab41d24800ec32d ......
	 orig commit -> 40920c2bb119fd49ba03e2f97a172171781be442 ......
checking 796c9c018b9a11399c3b7fb54f4d37485ad9fc6e ......
	 orig commit -> 50c7a0ef2d97e56c7ce2f1ea5fe1d8e25aadc1bb ......
checking f629104427a6dc9ab20dc10424896777a2bbe506 ......
	 orig commit -> dcd2d1f78664fdc75eadaaf65257834e24383d01 ......
checking 1c84d14eb7f4cefe455facae6b1ac06e7841db56 ......
	 orig commit -> 5a1aca4469fdccd5b74ba0b4e490173b2b447895 ......
checking af521c7f828f49ec73324c47bef073d39e0d93ba ......
	 orig commit -> d5468d7afaa9c9e961e150f0455a14a9f4872a98 ......
checking 5796c70e5b1d62016bdc3b678346ffbd433d030a ......
	 orig commit -> 201c2f85bd0bc13b712d9c0b3d11251b182e06ae ......
checking 93e8e691675a33960b607d9fd0858d5a35f0e419 ......
	 orig commit -> 116d77fea02e2a5aded7d29ba4c692774cb339f1 ......
checking 92fe37c0f09c48ba42300d7ac79c0750e48d7a3f ......
	 orig commit -> da77b67195de1c65bef4908fa29967c4d0af2da2 ......
checking c447410b6dfacf132865e79af7bc26fa977f24e5 ......
	 orig commit -> 4f3b193dee4423d8c89c9a3e8e05f9197ea459a4 ......
checking c8a5f83fa43e8464f7bef12a8dc22f4e778bd78b ......
	 orig commit -> 26716ce124fce88f288f07738ef685d5dfe5c13f ......
checking 90f9ed93549e68cd5e349d7c3a8ce0983728f1fe ......
	 orig commit -> 4d2f1794c07aae55b8f25f4d8aebcafc0d3e501d ......
checking c1504091b9805d131abb36a1f01af7a5c99ac9fc ......
	 orig commit -> 35bbb97fc898aeb874cb7c8b746f091caa359994 ......
checking 137b1ce318f0bd9847f68520cfd68c24e79ea258 ......
	 orig commit -> 6fe1f348b3dd1f700f9630562b7d38afd6949568 ......
checking 53025e7f5667cc7b5915ead628867fd1db983a76 ......
	 orig commit -> f44f1e7da7c8e3f4575d5d61c4df978496903fcc ......
checking 274337f8da92f188edb798e0fcdccb80618bcf79 ......
	 orig commit -> 48cac18ecf1de82f76259a54402c3adb7839ad01 ......
checking 61918dbc7efef25294f32431869720d99772b4ca ......
	 orig commit -> 4850cf4581578216468b7b3c3d06cc5abb0a697d ......
		 4850cf4581578216468b7b3c3d06cc5abb0a697d has problem. Fixes commit -> 61b6034c6cfdcb265bb453505c3d688e7567727a
checking 80176161f4514af9064f75a52a5dece6084128b5 ......
	 orig commit -> e3c42b61ff813921ba58cfc0019e3fd63f651190 ......
checking 11eea056980680aa4a24870165da340f4b32d06d ......
	 orig commit -> 3cb9185c67304b2a7ea9be73e7d13df6fb2793a1 ......
checking 9903f3abf2a3e088d485551726814e90a5c37f68 ......
	 orig commit -> e535ec0899d1fe52ec3a84c9bc03457ac67ad6f7 ......
checking 011859fdb4764ccf46e6e36dbdfeb3442a17a71e ......
	 orig commit -> bb4add2ce991e4ec891b5a0287fd1ab77b631979 ......
checking 70b3d6c5aa7172eb2c86128ca19f038ae61a7fb7 ......
	 orig commit -> be54f69c26193de31053190761e521903b89d098 ......
checking 6b3d1619c1c8968bf890589af3a2ceabb672cf84 ......
	 orig commit -> 8d2c3ab4445640957d136caa3629857d63544a2a ......
checking ca4a744b1828d8f9c3b62ba84305b69361b515e6 ......
	 orig commit -> 3575dbf2cbbc8e598f17ec441aed526dbea0e1bd ......
	 orig commit -> 712f4aad406bb1ed67f3f98d04c044191f0ff593 ......
		 712f4aad406bb1ed67f3f98d04c044191f0ff593 has problem. Fixes commit -> 415e3d3e90ce9e18727e8843ae343eda5a58fad6
commit 3ba9b9f2409168fb50d0a0758b922508e7885f48
Author: Hannes Frederic Sowa <hannes@stressinduktion.org>
Date:   Wed Feb 3 02:11:03 2016 +0100

    unix: correctly track in-flight fds in sending process user_struct
    
    [ Upstream commit 415e3d3e90ce9e18727e8843ae343eda5a58fad6 ]
    
    The commit referenced in the Fixes tag incorrectly accounted the number
    of in-flight fds over a unix domain socket to the original opener
    of the file-descriptor. This allows another process to arbitrary
    deplete the original file-openers resource limit for the maximum of
    open files. Instead the sending processes and its struct cred should
    be credited.
    
    To do so, we add a reference counted struct user_struct pointer to the
    scm_fp_list and use it to account for the number of inflight unix fds.
    
    Fixes: 712f4aad406bb1 ("unix: properly account for FDs passed over unix sockets")
    Reported-by: David Herrmann <dh.herrmann@gmail.com>
    Cc: David Herrmann <dh.herrmann@gmail.com>
    Cc: Willy Tarreau <w@1wt.eu>
    Cc: Linus Torvalds <torvalds@linux-foundation.org>
    Suggested-by: Linus Torvalds <torvalds@linux-foundation.org>
    Signed-off-by: Hannes Frederic Sowa <hannes@stressinduktion.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 997a4944ce4fdfc5a0ce3adee367ca5daff48244 ......
	 orig commit -> c15c0ab12fd62f2b19181d05c62d24bc9fa55a42 ......
checking 9aae17f851e2828de33fa4330cf519397c9aa2bf ......
	 orig commit -> d636bd9f12a66ea3775c9fabbf3f8e118253467a ......
checking 6596d0ab8c602b6bb9f4a8423ddd7fc3acb2418f ......
	 orig commit -> 2c05d88818ab6571816b93edce4d53703870d7ae ......
checking 4f0336a8a0084e3bbddf71af87869aa9c612669a ......
	 orig commit -> cd6fb677ce7e460c25bdd66f689734102ec7d642 ......
checking 863fdd166500af2613aad12552cf4eb503845e47 ......
	 orig commit -> c530c471ba37bdd9fe1c7185b01455c00ae606fb ......
checking 66e43f427d5d3ee003a3a5f38a8673b8c94e2b84 ......
	 orig commit -> 9c734b2769a73eea2e9e9767c0e0bf839ff23679 ......
checking 2bb181d8a8ec755e5f977fe8e74fc81e86f7af4d ......
	 orig commit -> f2750df1548bd8a2b060eb609fc43ca82811af4c ......
checking 24665cbd768ad4b923cce0347d9905db504048fd ......
	 orig commit -> c5cb93e994ffb43b7b3b1ff10b9f928f54574a36 ......
checking 04d846cddb4a941b5dc5b49b677736eb0c9e8431 ......
	 orig commit -> eb9ad088f96653a26b340f7c447c44cf023d5cdc ......
checking f3d71a323f51d033929ed70b53bd4bca27c7da3c ......
	 orig commit -> 5ba6b4aa9a410c5e2c6417df52b5e2118ea9b467 ......
checking 644d1918531ba9d6efa74e2228df8f0dd7002b53 ......
	 orig commit -> c4ce446e33d7a0e978256ac6fea4c80e59d9de5f ......
checking df2d090bc5df33e92b43b2134d118fc60e2e0c97 ......
	 orig commit -> d85536cde91fcfed6fb8d983783bd2b92c843939 ......
checking b0c52fbff860b5dd23df44fd36f48e6a52ba8bfa ......
	 orig commit -> cb28c306b93b71f2741ce1a5a66289db26715f4d ......
checking 6879c047ae6e9b6b43e54e8a34bebb7a52467198 ......
	 orig commit -> 28ef8b49a338dc1844e86b7954cfffc7dfa2660a ......
checking 5217bec5a6e7bd3c95d1229fc6029d956a470060 ......
	 orig commit -> 32bf94fb5c2ec4ec842152d0e5937cd4bb6738fa ......
checking f4c24fd3b6919a7fb0fa5e858381299e593daf44 ......
	 orig commit -> 3a58ac65e2d7969bcdf1b6acb70fa4d12a88e53e ......
checking db420bc4b798c1a5c91ce87e40011c89c118aef7 ......
	 orig commit -> 24f33e64fcd0d50a4b1a8e5b41bd0257aa66b0e8 ......
checking 7402bc9ca983a6a4c1545a4048e8b1a859b882ba ......
	 orig commit -> 8682250b3c1b75a45feb7452bc413d004cfe3778 ......
checking 4e16c61e87a1c3fc79253fc07cf043533b33b661 ......
	 orig commit -> 215ab0f021c9fea3c18b75e7d522400ee6a49990 ......
	 orig commit -> d6990976af7c5d8f55903bfb4289b6fb030bf754 ......
checking 5ce93bd4cc02ef3c1b25587ce65eaa84f6b4172a ......
	 orig commit -> 07bf7908950a8b14e81aa1807e3c667eab39287a ......
