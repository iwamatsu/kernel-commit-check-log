Check from v4.4.74 to v4.4.75
Commit count: 27
checking 6ee496d7218aeccffe5380cb65e9d50d1a61c323 ......
checking cb7be08dee4e065d84efe3244fc798e69828a127 ......
	 orig commit -> b5a10c5f7532b7473776da87e67f8301bbc32693 ......
checking bddc80274a128596876f8aad29afb875183c993c ......
	 orig commit -> 54adc01055b75ec8769c5a36574c7a0895c0c0b2 ......
		 54adc01055b75ec8769c5a36574c7a0895c0c0b2 has problem. Fixes commit -> b5a10c5f7532b7473776da87e67f8301bbc32693
commit cb7be08dee4e065d84efe3244fc798e69828a127
Author: Guilherme G. Piccoli <gpiccoli@linux.vnet.ibm.com>
Date:   Wed Dec 28 22:13:15 2016 -0200

    nvme: apply DELAY_BEFORE_CHK_RDY quirk at probe time too
    
    commit b5a10c5f7532b7473776da87e67f8301bbc32693 upstream.
    
    Commit 54adc01055b7 ("nvme/quirk: Add a delay before checking for adapter
    readiness") introduced a quirk to adapters that cannot read the bit
    NVME_CSTS_RDY right after register NVME_REG_CC is set; these adapters
    need a delay or else the action of reading the bit NVME_CSTS_RDY could
    somehow corrupt adapter's registers state and it never recovers.
    
    When this quirk was added, we checked ctrl->tagset in order to avoid
    quirking in probe time, supposing we would never require such delay
    during probe. Well, it was too optimistic; we in fact need this quirk
    at probe time in some cases, like after a kexec.
    
    In some experiments, after abnormal shutdown of machine (aka power cord
    unplug), we booted into our bootloader in Power, which is a Linux kernel,
    and kexec'ed into another distro. If this kexec is too quick, we end up
    reaching the probe of NVMe adapter in that distro when adapter is in
    bad state (not fully initialized on our bootloader). What happens next
    is that nvme_wait_ready() is unable to complete, except if the quirk is
    enabled.
    
    So, this patch removes the original ctrl->tagset verification in order
    to enable the quirk even on probe time.
    
    Fixes: 54adc01055b7 ("nvme/quirk: Add a delay before checking for adapter readiness")
    Reported-by: Andrew Byrne <byrneadw@ie.ibm.com>
    Reported-by: Jaime A. H. Gomez <jahgomez@mx1.ibm.com>
    Reported-by: Zachary D. Myers <zdmyers@us.ibm.com>
    Signed-off-by: Guilherme G. Piccoli <gpiccoli@linux.vnet.ibm.com>
    Acked-by: Jeffrey Lien <Jeff.Lien@wdc.com>
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    [mauricfo: backport to v4.4.70 without nvme quirk handling & nvme_ctrl]
    Signed-off-by: Mauricio Faria de Oliveira <mauricfo@linux.vnet.ibm.com>
    Tested-by: Narasimhan Vaidyanathan <vnarasimhan@in.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking e5f87c73384279f005d9bb27bed03a29335c3492 ......
	 orig commit -> 898805e0cdf7fd860ec21bf661d3a0285a3defbd ......
checking 9b54821d518407b9763b0abf382a413a5029feaa ......
	 orig commit -> bb1a619735b4660f21bce3e728b937640024b4ad ......
checking 889caad4fbe49e3a612ccb971e40c50912f90ace ......
	 orig commit -> b7f73850bb4fac1e2209a4dd5e636d39be92f42c ......
checking db7130d63fd80256d448686a06a5154a8b9b4f62 ......
checking 8fcb215c5426301fa6d49899028b7161dc189d88 ......
	 orig commit -> 807c16253319ee6ccf8873ae64f070f7eb532cd5 ......
checking 7dfea167fc1d4ba886a305802c94fde99516b2e1 ......
	 orig commit -> 3ec754410cb3e931a6c4920b1a150f21a94a2bf4 ......
checking eab38dfd66d7f13b9eecfae7728ff0d2e49ff16f ......
	 orig commit -> 5f2f97656ada8d811d3c1bef503ced266fcd53a0 ......
checking 800d7454e50fea1af3801adf4debf249922b2c88 ......
	 orig commit -> ec963b412a54aac8e527708ecad06a6988a86fb4 ......
checking 525e496a9722a6189f7ece9236a76f00cb8abef0 ......
	 orig commit -> 52b482b0f4fd6d5267faf29fe91398e203f3c230 ......
checking 526527847355f703a519c62edf505f158592723c ......
	 orig commit -> 05b4017b37f1fce4b7185f138126dd8decdb381f ......
checking 4f3d0f468552b83eaa011e17af358bf418d23da2 ......
	 orig commit -> acfd6ee4fa7ebeee75511825fe02be3f7ac1d668 ......
checking f8242fa8119b935d4b94557139fca1ba7ad8dd66 ......
	 orig commit -> 4eb59793cca00b0e629b6d55b5abb5acb82c5868 ......
checking fe8003da611320aa8b2a5cf0a37e866ea254011a ......
	 orig commit -> abb85a9b512e8ca7ad04a5a8a6db9664fe644974 ......
	 orig commit -> c72c5250224d475614a00c1d7e54a67f77cd3410 ......
checking d374be75f4c7e178fc34140ebec3f54f3f72ae15 ......
	 orig commit -> 73d4e580ccc5c3e05cea002f18111f66c9c07034 ......
checking 1fecf3977defb3161ba194e5ddbdeca9be638377 ......
	 orig commit -> ceea5e3771ed2378668455fa21861bead7504df5 ......
checking 255ad85b5ecc9e76af7c7f3ab2a57c43f0f3e12c ......
	 orig commit -> 817ae460c784f32cd45e60b2b1b21378c3c6a847 ......
checking 3ee9033e228def8bef0e450d492421f0a6abaac4 ......
	 orig commit -> a9f8553e935f26cb5447f67e280946b0923cd2dc ......
checking bc7b3e9984a8e83e3256c08a059ca745b5d0935c ......
	 orig commit -> 57db7e4a2d92c2d3dfbca4ef8057849b2682436b ......
checking 005253ffe4ad25341ee040e0de0e42b316a8d082 ......
	 orig commit -> 3db28271f0feae129262d30e41384a7c4c767987 ......
checking 63ba840a53d61a502a742db2ca6f2334b9717a4f ......
	 orig commit -> dcd87838c06f05ab7650b249ebf0d5b57ae63e1e ......
checking 824b9506e4f27bf63dea55f1af27a2a75ff8934e ......
	 orig commit -> 46a704f8409f79fd66567ad3f8a7304830a84293 ......
		 46a704f8409f79fd66567ad3f8a7304830a84293 has problem. Fixes commit -> e47057151422a67ce08747176fa21cb3b526a2c9
checking 7b88f761929e86813c2a1eb878dcc17abbb6119f ......
	 orig commit -> a91e0f680bcd9e10c253ae8b62462a38bd48f09f ......
checking b95aa98e77d7086f4a303a5e9402ab165a5f0cc6 ......
	 orig commit -> 9fa4eb8e490a28de40964b1b0e583d8db4c7e57c ......
checking 1d3d0f8b7cf758136ed36b30620442d989601737 ......
	 orig commit -> 98da7d08850fb8bdeb395d6368ed15753304aa0c ......
