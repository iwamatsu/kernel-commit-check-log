Check from v4.14.109 to v4.14.110
Commit count: 108
checking 80bf6c64d5cca26b4d2a94e38cbd89c2615a25c3 ......
checking 2cca5be88ac06622da6c6aaa8a2dc7d0ed28c25e ......
	 orig commit -> 50b7f1b7236bab08ebbbecf90521e84b068d7a17 ......
checking 1cb3e7f166b5c3efea42d2576eb2d4625a6c81ac ......
	 orig commit -> cf4df407e0d7cde60a45369c2a3414d18e2d4fdd ......
checking 0c60bc18506e1157624107fbab1d7883f894fc72 ......
	 orig commit -> 0cf9135b773bf32fba9dd8e6699c1b331ee4b749 ......
checking 9badc8549fa75b3f1b5d74eea9d22c60a525b242 ......
	 orig commit -> ddba91801aeb5c160b660caed1800eb3aef403f8 ......
checking a6c42842c655ccb00ab71ee771396a0fbf09a71e ......
	 orig commit -> bebd024e4815b1a170fcd21ead9c2222b23ce9e6 ......
checking 5f6b5b8b609bbe3d40b95aa611f66ab967fb2011 ......
	 orig commit -> 206b92353c839c0b27a0b9bec24195f93fd6cf7a ......
checking 25e902d6661a63dd4f8901ec2ea16fee94309958 ......
	 orig commit -> f3b4e06b3bda759afd042d3d5fa86bea8f1fe278 ......
checking 4774a369518091f46435e0539de6a45bf0681c74 ......
	 orig commit -> d2b2c6dd227ba5b8a802858748ec9a780cb75b47 ......
checking 35b7c12b3a9561db89bbce1476826d7f4ba97fd8 ......
	 orig commit -> 93e1c8a638308980309e009cc40b5a57ef87caf1 ......
checking 09fa576a74c2b6872a617b304e62acb1183e5254 ......
	 orig commit -> 6cbcf596934c8e16d6288c7cc62dfb7ad8eadf15 ......
checking dc4267dceaca44f938e7fbfb94d9445dfdeef996 ......
	 orig commit -> 40fc165304f0faaae78b761f8ee30b5d216b1850 ......
checking 60397a4e109bbfaa88d1a0b26e17228f7118b6f3 ......
	 orig commit -> 238e0268c82789e4c107a37045d529a6dbce51a9 ......
checking 3e043e5d7f8cfcfa960ea8c76c556c34c1fb8cef ......
	 orig commit -> 072684e8c58d17e853f8e8b9f6d9ce2e58d2b036 ......
checking 54333dcc9d341f0753d18ccce76f604d135ed60a ......
	 orig commit -> 3d54d10c6afed34fd45b852bf76f55e8da31d8ef ......
checking d05885ad4d32582da1716f1122cfa28f976abb7d ......
	 orig commit -> 1396929e8a903db80425343cacca766a18ad6409 ......
checking 5d4cc25d578cf253a76b14c1ea3ebbc825b2f38a ......
	 orig commit -> c5bc6e526d3f217ed2cc3681d256dc4a2af4cc2b ......
checking e708e5db25085d42481dfc8da49cac67e3b103b2 ......
	 orig commit -> 7ecced0934e574b528a1ba6c237731e682216a74 ......
checking 2ea1c197bfbd166723c788f3e346265b3f8f27c0 ......
	 orig commit -> 21d2b122732318b48c10b7262e15595ce54511d3 ......
checking 0d9ef3f5b07e4b6fe6105a45603de1e133e4df49 ......
	 orig commit -> 23da9588037ecdd4901db76a5b79a42b529c4ec3 ......
		 23da9588037ecdd4901db76a5b79a42b529c4ec3 has problem. Fixes commit -> 89189557b47b35683a27c80ee78aef18248eefb4
commit a50d8db5f3ec1cd11d97fffca6ba242cff18f1ea
Author: YueHaibing <yuehaibing@huawei.com>
Date:   Thu Apr 25 22:24:05 2019 -0700

    fs/proc/proc_sysctl.c: Fix a NULL pointer dereference
    
    commit 89189557b47b35683a27c80ee78aef18248eefb4 upstream.
    
    Syzkaller report this:
    
      sysctl could not get directory: /net//bridge -12
      kasan: CONFIG_KASAN_INLINE enabled
      kasan: GPF could be caused by NULL-ptr deref or user memory access
      general protection fault: 0000 [#1] SMP KASAN PTI
      CPU: 1 PID: 7027 Comm: syz-executor.0 Tainted: G         C        5.1.0-rc3+ #8
      Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
      RIP: 0010:__write_once_size include/linux/compiler.h:220 [inline]
      RIP: 0010:__rb_change_child include/linux/rbtree_augmented.h:144 [inline]
      RIP: 0010:__rb_erase_augmented include/linux/rbtree_augmented.h:186 [inline]
      RIP: 0010:rb_erase+0x5f4/0x19f0 lib/rbtree.c:459
      Code: 00 0f 85 60 13 00 00 48 89 1a 48 83 c4 18 5b 5d 41 5c 41 5d 41 5e 41 5f c3 48 89 f2 48 b8 00 00 00 00 00 fc ff df 48 c1 ea 03 <80> 3c 02 00 0f 85 75 0c 00 00 4d 85 ed 4c 89 2e 74 ce 4c 89 ea 48
      RSP: 0018:ffff8881bb507778 EFLAGS: 00010206
      RAX: dffffc0000000000 RBX: ffff8881f224b5b8 RCX: ffffffff818f3f6a
      RDX: 000000000000000a RSI: 0000000000000050 RDI: ffff8881f224b568
      RBP: 0000000000000000 R08: ffffed10376a0ef4 R09: ffffed10376a0ef4
      R10: 0000000000000001 R11: ffffed10376a0ef4 R12: ffff8881f224b558
      R13: 0000000000000000 R14: 0000000000000000 R15: 0000000000000000
      FS:  00007f3e7ce13700(0000) GS:ffff8881f7300000(0000) knlGS:0000000000000000
      CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
      CR2: 00007fd60fbe9398 CR3: 00000001cb55c001 CR4: 00000000007606e0
      DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
      DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
      PKRU: 55555554
      Call Trace:
       erase_entry fs/proc/proc_sysctl.c:178 [inline]
       erase_header+0xe3/0x160 fs/proc/proc_sysctl.c:207
       start_unregistering fs/proc/proc_sysctl.c:331 [inline]
       drop_sysctl_table+0x558/0x880 fs/proc/proc_sysctl.c:1631
       get_subdir fs/proc/proc_sysctl.c:1022 [inline]
       __register_sysctl_table+0xd65/0x1090 fs/proc/proc_sysctl.c:1335
       br_netfilter_init+0x68/0x1000 [br_netfilter]
       do_one_initcall+0xbc/0x47d init/main.c:901
       do_init_module+0x1b5/0x547 kernel/module.c:3456
       load_module+0x6405/0x8c10 kernel/module.c:3804
       __do_sys_finit_module+0x162/0x190 kernel/module.c:3898
       do_syscall_64+0x9f/0x450 arch/x86/entry/common.c:290
       entry_SYSCALL_64_after_hwframe+0x49/0xbe
      Modules linked in: br_netfilter(+) backlight comedi(C) hid_sensor_hub max3100 ti_ads8688 udc_core fddi snd_mona leds_gpio rc_streamzap mtd pata_netcell nf_log_common rc_winfast udp_tunnel snd_usbmidi_lib snd_usb_toneport snd_usb_line6 snd_rawmidi snd_seq_device snd_hwdep videobuf2_v4l2 videobuf2_common videodev media videobuf2_vmalloc videobuf2_memops rc_gadmei_rm008z 8250_of smm665 hid_tmff hid_saitek hwmon_vid rc_ati_tv_wonder_hd_600 rc_core pata_pdc202xx_old dn_rtmsg as3722 ad714x_i2c ad714x snd_soc_cs4265 hid_kensington panel_ilitek_ili9322 drm drm_panel_orientation_quirks ipack cdc_phonet usbcore phonet hid_jabra hid extcon_arizona can_dev industrialio_triggered_buffer kfifo_buf industrialio adm1031 i2c_mux_ltc4306 i2c_mux ipmi_msghandler mlxsw_core snd_soc_cs35l34 snd_soc_core snd_pcm_dmaengine snd_pcm snd_timer ac97_bus snd_compress snd soundcore gpio_da9055 uio ecdh_generic mdio_thunder of_mdio fixed_phy libphy mdio_cavium iptable_security iptable_raw iptable_mangle
       iptable_nat nf_nat nf_conntrack nf_defrag_ipv6 nf_defrag_ipv4 iptable_filter bpfilter ip6_vti ip_vti ip_gre ipip sit tunnel4 ip_tunnel hsr veth netdevsim vxcan batman_adv cfg80211 rfkill chnl_net caif nlmon dummy team bonding vcan bridge stp llc ip6_gre gre ip6_tunnel tunnel6 tun joydev mousedev ppdev tpm kvm_intel kvm irqbypass crct10dif_pclmul crc32_pclmul crc32c_intel ghash_clmulni_intel aesni_intel ide_pci_generic piix aes_x86_64 crypto_simd cryptd ide_core glue_helper input_leds psmouse intel_agp intel_gtt serio_raw ata_generic i2c_piix4 agpgart pata_acpi parport_pc parport floppy rtc_cmos sch_fq_codel ip_tables x_tables sha1_ssse3 sha1_generic ipv6 [last unloaded: br_netfilter]
      Dumping ftrace buffer:
         (ftrace buffer empty)
      ---[ end trace 68741688d5fbfe85 ]---
    
    commit 23da9588037e ("fs/proc/proc_sysctl.c: fix NULL pointer
    dereference in put_links") forgot to handle start_unregistering() case,
    while header->parent is NULL, it calls erase_header() and as seen in the
    above syzkaller call trace, accessing &header->parent->root will trigger
    a NULL pointer dereference.
    
    As that commit explained, there is also no need to call
    start_unregistering() if header->parent is NULL.
    
    Link: http://lkml.kernel.org/r/20190409153622.28112-1-yuehaibing@huawei.com
    Fixes: 23da9588037e ("fs/proc/proc_sysctl.c: fix NULL pointer dereference in put_links")
    Fixes: 0e47c99d7fe25 ("sysctl: Replace root_list with links between sysctl_table_sets")
    Signed-off-by: YueHaibing <yuehaibing@huawei.com>
    Reported-by: Hulk Robot <hulkci@huawei.com>
    Reviewed-by: Kees Cook <keescook@chromium.org>
    Cc: Luis Chamberlain <mcgrof@kernel.org>
    Cc: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Al Viro <viro@zeniv.linux.org.uk>
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 0209f339b4db01a1555f769d75648df761059dfa ......
	 orig commit -> 3ec8002951ea173e24b466df1ea98c56b7920e63 ......
checking 29c87d2264ed8df669a54296d45d4df83e9cf6c9 ......
	 orig commit -> 84f3b43f7378b98b7e3096d5499de75183d4347c ......
checking 7502ab66ed08eef112babadeddc5f0250261fb2f ......
	 orig commit -> d1252f0237238b912c3e7a51bf237acf34c97983 ......
checking d93cb34931281dfc0cbab4563a13b8c6ffc340f6 ......
	 orig commit -> f8df5c2c3e2df5ffaf9fb5503da93d477a8c7db4 ......
checking 079d7d8e2a6119d4cc7e02852f0ed6f994a8df8a ......
	 orig commit -> 2908b076f5198d231de62713cb2b633a3a4b95ac ......
checking 40c93e6893636fcae2f92c200c587da24d3facca ......
	 orig commit -> 422c2537ba9d42320f8ab6573940269f87095320 ......
checking e76f00ea116822d34f7c6f4763f74faf1ac5f273 ......
	 orig commit -> a595ecdd5f60b2d93863cebb07eec7f935839b54 ......
checking be8c93469b723a77168953bced05bc33048f5af5 ......
	 orig commit -> 93bcefd4c6bad4c69dbc4edcd3fbf774b24d930d ......
checking 0d42abfacfcedc695964d655495c0dbb34e22647 ......
	 orig commit -> 3a10e3dd52e80b9a97a3346020024d17b2c272d6 ......
checking 6c8f9d93c2c7861c0caffe3c9b378c891c92ef39 ......
	 orig commit -> 3b9c2f2e0e99bb67c96abcb659b3465efe3bee1f ......
checking 03f4d949bbd7cd5b979a3c756bdf575eb4cc3b96 ......
	 orig commit -> cc26358f89c3e493b54766b1ca56cfc6b14db78a ......
checking 7787d644703fea7f87a0a30bdca3e477bf9b286c ......
	 orig commit -> bafd9c64056cd034a1174dcadb65cd3b294ff8f6 ......
checking 4f49089456e7537c6c2c3596aaabd89d698dbe15 ......
	 orig commit -> c85be041065c0be8bc48eda4c45e0319caf1d0e5 ......
checking 2689a64637db5270e4b1f54808886a721f428406 ......
	 orig commit -> 242ec1455151267fe35a0834aa9038e4c4670884 ......
checking 69476e1f42ed73cc1347bea07c96fb098ae2214b ......
	 orig commit -> fe67888fc007a76b81e37da23ce5bd8fb95890b0 ......
checking f3b8975525b32e6e5839af22aa0b4cafb462e8cc ......
	 orig commit -> 1d5de5bd311be7cd54f02f7cd164f0349a75c876 ......
checking 683c14fb42f60e6d25dfdc5197e294ecfe14efad ......
	 orig commit -> c14a57264399efd39514a2329c591a4b954246d8 ......
checking e8bf3395ebcd21d7eaae5bd7e33e7dca4414ed80 ......
	 orig commit -> e6a9467ea14bae8691b0f72c500510c42ea8edb8 ......
checking 26c3a3b92782880ea7e95b8704164b0b7a75c82e ......
	 orig commit -> 73601ea5b7b18eb234219ae2adf77530f389da79 ......
checking e75c894d8186c5bc86b40a6eebf887f6ce5ebb75 ......
	 orig commit -> 54a7151b1496cddbb7a83546b7998103e98edc88 ......
checking fe2d6d04e42b7bc4a7a4f2519e219df3ef5dba6e ......
	 orig commit -> da484d00f020af3dd7cfcc6c4b69a7f856832883 ......
checking e1b7eaa9e2db82fe98fe559bc7868efcc26102df ......
	 orig commit -> 136824efaab2c095fc911048f7c7ddeda258c965 ......
checking 6182bdf081fd209a3be00477bc5a13168cdb0aca ......
	 orig commit -> 113ce08109f8e3b091399e7cc32486df1cff48e7 ......
checking 557301cf33aeccdb830bdf4664bd7ce74d73093b ......
	 orig commit -> ca0214ee2802dd47239a4e39fb21c5b00ef61b22 ......
checking 8f368827496b0323d6ca021cd98baf40eaa9739f ......
	 orig commit -> c709f14f0616482b67f9fbcb965e1493a03ff30b ......
checking 910ffe1633eef1a4227d467268ce31cb819ed332 ......
	 orig commit -> 2b1d9c8f87235f593826b9cf46ec10247741fff9 ......
checking af553a246a930bdd7164fab494aa2ee4ab768a3c ......
	 orig commit -> 1eec7151ae0e134bd42e3f128066b2ff8da21393 ......
checking a0aa001a1fdc8e77f517b976ea3a08fa07326f6a ......
	 orig commit -> 0cb98abb5bd13b9a636bde603d952d722688b428 ......
checking fb13de8fe695fccf6a1520c24e2943784f876a4a ......
	 orig commit -> 86be36f6502c52ddb4b85938145324fd07332da1 ......
checking ace6b822bbe5c6c86904043359b276863505dbda ......
	 orig commit -> 91740fc8242b4f260cfa4d4536d8551804777fae ......
checking 2b95e85fb9b14a8e5616d1342181aba486fecace ......
	 orig commit -> 3897b6f0a859288c22fb793fad11ec2327e60fcd ......
checking da04627d0ab4dc83c9dfc27f94b4ada77287ae09 ......
	 orig commit -> 2cc8334270e281815c3850c3adea363c51f21e0d ......
checking dfcb397fe8440182d343b7df677db60e4e2f8845 ......
	 orig commit -> bf504110bc8aa05df48b0e5f0aa84bfb81e0574b ......
checking f16b7c77ddb6292c3e96457f637a92824963e5bf ......
	 orig commit -> 92edf8df0ff2ae86cc632eeca0e651fd8431d40d ......
checking 7b3772c00dc7560fff61e19355981f4d4d76043f ......
	 orig commit -> 27da80719ef132cf8c80eb406d5aeb37dddf78cc ......
checking 64a0f413dbb58b75a91a873209dbdff0047bc1ce ......
	 orig commit -> 039daac5526932ec731e4499613018d263af8b3e ......
checking 9c8a8cef5b369c0323f282c832a8c688288b7eec ......
	 orig commit -> dfa88658fb0583abb92e062c7a9cd5a5b94f2a46 ......
checking feafb29fe0ce9f090a3f7a202d7fb09a15308059 ......
	 orig commit -> 3bc8ea8603ae4c1e09aca8de229ad38b8091fcb3 ......
checking 51a498016367f57118a905f209410f3f13f59862 ......
	 orig commit -> e7aa61f47b23afbec41031bc47ca8d6cb6516abc ......
checking d5b60fb984dd9e9974f9adb949cbc2ac2d4ac6e4 ......
	 orig commit -> 7fef436295bf6c05effe682c8797dfcb0deb112a ......
checking a6942e23076de4d5f81e9c396de841d494c83399 ......
	 orig commit -> 10c5e83afd4a3f01712d97d3bb1ae34d5b74a185 ......
		 10c5e83afd4a3f01712d97d3bb1ae34d5b74a185 has problem. Fixes commit -> 27da80719ef132cf8c80eb406d5aeb37dddf78cc
commit 7b3772c00dc7560fff61e19355981f4d4d76043f
Author: Christophe Leroy <christophe.leroy@c-s.fr>
Date:   Fri Mar 29 22:26:19 2019 +1100

    powerpc/fsl: Fix the flush of branch predictor.
    
    commit 27da80719ef132cf8c80eb406d5aeb37dddf78cc upstream.
    
    The commit identified below adds MC_BTB_FLUSH macro only when
    CONFIG_PPC_FSL_BOOK3E is defined. This results in the following error
    on some configs (seen several times with kisskb randconfig_defconfig)
    
    arch/powerpc/kernel/exceptions-64e.S:576: Error: Unrecognized opcode: `mc_btb_flush'
    make[3]: *** [scripts/Makefile.build:367: arch/powerpc/kernel/exceptions-64e.o] Error 1
    make[2]: *** [scripts/Makefile.build:492: arch/powerpc/kernel] Error 2
    make[1]: *** [Makefile:1043: arch/powerpc] Error 2
    make: *** [Makefile:152: sub-make] Error 2
    
    This patch adds a blank definition of MC_BTB_FLUSH for other cases.
    
    Fixes: 10c5e83afd4a ("powerpc/fsl: Flush the branch predictor at each kernel entry (64bit)")
    Cc: Diana Craciun <diana.craciun@nxp.com>
    Signed-off-by: Christophe Leroy <christophe.leroy@c-s.fr>
    Reviewed-by: Daniel Axtens <dja@axtens.net>
    Reviewed-by: Diana Craciun <diana.craciun@nxp.com>
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 36f75b15da9da072688711be8296e57e4523150c ......
	 orig commit -> f633a8ad636efb5d4bba1a047d4a0f1ef719aa06 ......
checking d09c53d3bacbcd79f3276285bde70854799d1f2f ......
	 orig commit -> 98518c4d8728656db349f875fcbbc7c126d4c973 ......
checking 191adcc50e1155331b230d0120100b211ea2c032 ......
	 orig commit -> 7d8bad99ba5a22892f0cad6881289fdc3875a930 ......
checking f7a1d9fabc254ec0c8313b925b4735deccaeeb35 ......
	 orig commit -> 1cbf8990d79ff69da8ad09e8a3df014e1494462b ......
checking 555891364134518e8992ef36de733c71dcace363 ......
	 orig commit -> 76a5eaa38b15dda92cd6964248c39b5a6f3a4e9d ......
checking 5d758cf42903f218205902993bde630fb9dc8103 ......
	 orig commit -> 99d54754d3d5f896a8f616b0b6520662bc99d66b ......
checking 05cc3eb64e1532606ae632f527b1e5821f1b9305 ......
	 orig commit -> ba72dc171954b782a79d25e0f4b3ed91090c3b1e ......
checking 9346855c66dc54a15febd728c2a78d72bc3454c8 ......
	 orig commit -> ee13cb249fabdff8b90aaff61add347749280087 ......
		 ee13cb249fabdff8b90aaff61add347749280087 has problem. Fixes commit -> 92edf8df0ff2ae86cc632eeca0e651fd8431d40d
7d8bad99ba5a22892f0cad6881289fdc3875a930
commit 191adcc50e1155331b230d0120100b211ea2c032
Author: Diana Craciun <diana.craciun@nxp.com>
Date:   Fri Mar 29 22:26:10 2019 +1100

    powerpc/fsl: Fix spectre_v2 mitigations reporting
    
    commit 7d8bad99ba5a22892f0cad6881289fdc3875a930 upstream.
    
    Currently for CONFIG_PPC_FSL_BOOK3E the spectre_v2 file is incorrect:
    
      $ cat /sys/devices/system/cpu/vulnerabilities/spectre_v2
      "Mitigation: Software count cache flush"
    
    Which is wrong. Fix it to report vulnerable for now.
    
    Fixes: ee13cb249fab ("powerpc/64s: Add support for software count cache flush")
    Cc: stable@vger.kernel.org # v4.19+
    Signed-off-by: Diana Craciun <diana.craciun@nxp.com>
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit f16b7c77ddb6292c3e96457f637a92824963e5bf
Author: Michael Ellerman <mpe@ellerman.id.au>
Date:   Fri Mar 29 22:26:20 2019 +1100

    powerpc/security: Fix spectre_v2 reporting
    
    commit 92edf8df0ff2ae86cc632eeca0e651fd8431d40d upstream.
    
    When I updated the spectre_v2 reporting to handle software count cache
    flush I got the logic wrong when there's no software count cache
    enabled at all.
    
    The result is that on systems with the software count cache flush
    disabled we print:
    
      Mitigation: Indirect branch cache disabled, Software count cache flush
    
    Which correctly indicates that the count cache is disabled, but
    incorrectly says the software count cache flush is enabled.
    
    The root of the problem is that we are trying to handle all
    combinations of options. But we know now that we only expect to see
    the software count cache flush enabled if the other options are false.
    
    So split the two cases, which simplifies the logic and fixes the bug.
    We were also missing a space before "(hardware accelerated)".
    
    The result is we see one of:
    
      Mitigation: Indirect branch serialisation (kernel only)
      Mitigation: Indirect branch cache disabled
      Mitigation: Software count cache flush
      Mitigation: Software count cache flush (hardware accelerated)
    
    Fixes: ee13cb249fab ("powerpc/64s: Add support for software count cache flush")
    Cc: stable@vger.kernel.org # v4.19+
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
    Reviewed-by: Michael Neuling <mikey@neuling.org>
    Reviewed-by: Diana Craciun <diana.craciun@nxp.com>
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 191adcc50e1155331b230d0120100b211ea2c032
Author: Diana Craciun <diana.craciun@nxp.com>
Date:   Fri Mar 29 22:26:10 2019 +1100

    powerpc/fsl: Fix spectre_v2 mitigations reporting
    
    commit 7d8bad99ba5a22892f0cad6881289fdc3875a930 upstream.
    
    Currently for CONFIG_PPC_FSL_BOOK3E the spectre_v2 file is incorrect:
    
      $ cat /sys/devices/system/cpu/vulnerabilities/spectre_v2
      "Mitigation: Software count cache flush"
    
    Which is wrong. Fix it to report vulnerable for now.
    
    Fixes: ee13cb249fab ("powerpc/64s: Add support for software count cache flush")
    Cc: stable@vger.kernel.org # v4.19+
    Signed-off-by: Diana Craciun <diana.craciun@nxp.com>
    Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 3bedc7080f100fd041c639dddc0fd45c1e72b211 ......
	 orig commit -> dc8c6cce9a26a51fc19961accb978217a3ba8c75 ......
checking ef7c2ea84e7f3e2fa368d63208684d5b6eb2c919 ......
	 orig commit -> 06d0bbc6d0f56dacac3a79900e9a9a0d5972d818 ......
checking 0890a57258e06446e04662529e2a7ad3f65d9816 ......
	 orig commit -> c28218d4abbf4f2035495334d8bfcba64bda4787 ......
checking fd4856a96b87da46a862d6205ddad6d4c89e0fdd ......
	 orig commit -> ebcd1bfc33c7a90df941df68a6e5d4018c022fba ......
checking 0c60d583305d36c2d9a67152a8fb43095486d1ab ......
	 orig commit -> 406d2b6ae3420f5bb2b3db6986dc6f0b6dbb637b ......
checking ef245f3d4494224da209adc91a9077d0467b85cd ......
	 orig commit -> af375eefbfb27cbb5b831984e66d724a40d26b5c ......
checking 56fe5a966a902b72e36a3b9991f07ed9c04f67fe ......
	 orig commit -> 179ab1cbf883575c3a585bcfc0f2160f1d22a149 ......
checking 5a56eba71a139f1ded1707cd102017c5f2ad83b1 ......
	 orig commit -> 6453b532f2c8856a80381e6b9a1f5ea2f12294df ......
checking 64ca6cd4ae6dad71db5b3df06237a3bd44b747b9 ......
	 orig commit -> cf175dc315f90185128fb061dc05b6fbb211aa2f ......
checking 5159e24439a1863b2f237bca8880ead7da608400 ......
	 orig commit -> 6d44acae1937b81cf8115ada8958e04f601f3f2e ......
checking 3fe64040fbb266aa998ff69ba8fb47f69f88f853 ......
	 orig commit -> a377514519b9a20fa1ea9adddbb4129573129cef ......
checking d4d3a4b43809a1a8bf6031dd22b7eb9b05e09c09 ......
	 orig commit -> 51973a815c6b46d7b23b68d6af371ad1c9d503ca ......
checking 3692ca6ff3ee470951c91c788447ed38e6f8dd7c ......
	 orig commit -> ddf35cf3764b5a182b178105f57515b42e2634f8 ......
checking ae082ed4702e31ed833b7b40b1afe4ce11adb6b4 ......
	 orig commit -> cb3d6759a93c6d0aea1c10deb6d00e111c29c19c ......
checking 31c3a1e81171f03c7df48aac3efc1d417a18c708 ......
	 orig commit -> 815069ca57c142eb71d27439bc27f41a433a67b3 ......
checking f1a6390af33c9bff231e31d514f295e25c271a8c ......
	 orig commit -> 2eea7f067f495e33b8b116b35b5988ab2b8aec55 ......
checking 6caa2c1036293ef8571f5263b0fb247d81fb19f4 ......
	 orig commit -> 9180bb4f046064dfa4541488102703b402bb04e1 ......
checking 63a85fb4871a096c3bd5777b9f870b2386f45160 ......
	 orig commit -> 4477138fa0ae4e1b699786ef0600863ea6e6c61c ......
		 4477138fa0ae4e1b699786ef0600863ea6e6c61c has problem. Fixes commit -> 9180bb4f046064dfa4541488102703b402bb04e1
commit 6caa2c1036293ef8571f5263b0fb247d81fb19f4
Author: Eric Dumazet <edumazet@google.com>
Date:   Sat Mar 16 13:09:53 2019 -0700

    tun: add a missing rcu_read_unlock() in error path
    
    commit 9180bb4f046064dfa4541488102703b402bb04e1 upstream.
    
    In my latest patch I missed one rcu_read_unlock(), in case
    device is down.
    
    Fixes: 4477138fa0ae ("tun: properly test for IFF_UP")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Reported-by: syzbot <syzkaller@googlegroups.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking f8a85be02fb76fcce4ebf623d42cce4ffbefddb9 ......
	 orig commit -> bb9e5c5bcd76f4474eac3baf643d7a39f7bac7bb ......
checking 50f8cd4d319fc3a8692ce3408e1167ded778b90b ......
	 orig commit -> a7faaa0c5dc7d091cc9f72b870d7edcdd6f43f12 ......
checking d75259910db799b3db39d870c00eda72b74535f7 ......
	 orig commit -> 273160ffc6b993c7c91627f5a84799c66dfe4dee ......
checking bf583844131acbaea3e0436e47bca1214c384029 ......
	 orig commit -> cc4807bb609230d8959fd732b0bf3bd4c2de8eac ......
checking e9df36340030db6efc895a0cbf75f5e77cb8984c ......
	 orig commit -> cd35ef91490ad8049dd180bb060aff7ee192eda9 ......
checking d6a21619421a81669ace172fc6e48c16d33ce2f3 ......
	 orig commit -> b3e208069477588c06f4d5d986164b435bb06e6d ......
checking 94e82e56fdd379d26a8fe4d2a605c976662d8373 ......
	 orig commit -> 89e4130939a20304f4059ab72179da81f5347528 ......
checking 9f6e90284fcf0e710630899d94e80982f58c8441 ......
	 orig commit -> 408f13ef358aa5ad56dc6230c2c7deb92cf462b1 ......
checking 68979f5eccc6ecc2630e6edc7c0d0a915d3d630b ......
	 orig commit -> a4dc6a49156b1f8d6e17251ffda17c9e6a5db78a ......
checking e331c9066901dfe40bea4647521b86e9fb9901bb ......
	 orig commit -> a3e23f719f5c4a38ffb3d30c8d7632a4ed8ccd9e ......
checking a12d2154828c8453e0c16a268815c985846ef157 ......
	 orig commit -> 223a960c01227e4dbcb6f9fa06b47d73bda21274 ......
checking 7ce391ed729b5bf5c4aa909dd5b9e7ffb63879f1 ......
	 orig commit -> e5dcc0c3223c45c94100f05f28d8ef814db3d82c ......
checking 1a3acbd6adb551a5f807148d6512d8aeba8cb8bb ......
	 orig commit -> 398f0132c14754fcd03c1c4f8e7176d001ce8ea1 ......
checking 701052e17bb73979a6321edc6c324622fc7cc56d ......
	 orig commit -> 0b91bce1ebfc797ff3de60c8f4a1e6219a8a3187 ......
checking 7ca0727ee469f2954b689d5bdbe25fea029401bc ......
	 orig commit -> fae846e2b7124d4b076ef17791c73addf3b26350 ......
checking 111fdc6e948b36115e29cf3b1981058d033ffd54 ......
	 orig commit -> ceabee6c59943bdd5e1da1a6a20dc7ee5f8113a2 ......
checking 27eb4125f2a50a0bffe029c5dfcb853666ba92ba ......
	 orig commit -> e0aa67709f89d08c8d8e5bdd9e0b649df61d0090 ......
checking 1e594a4f60abb4e8d10d8a27286d2c4cb9366f97 ......
	 orig commit -> a830405ee452ddc4101c3c9334e6fedd42c6b357 ......
checking 6f90688633d5d3f992cae1c00bcaac272350f1dc ......
	 orig commit -> ace6033ec5c356615eaa3582fb1946e9eaff6662 ......
checking 2b59d36f22622c92c0b06aee7571f0a86a217188 ......
	 orig commit -> 7c9cbd0b5e38a1672fcd137894ace3b042dfbf69 ......
checking 82868814a87236b17ac588fbb779c87616e99345 ......
	 orig commit -> af3d5d1c87664a4f150fcf3534c6567cb19909b0 ......
