Check from v4.14.55 to v4.14.56
Commit count: 55
checking cff26c95b24c7b7147db17b623dee946bd25ec95 ......
checking eab3a34122153f37b4ab13bb76a91eb633eed39b ......
	 orig commit -> a4f843bd004d775cbb360cd375969b8a479568a9 ......
checking d2c18ad18cc7041b0591847d4c4ea4802bbd122e ......
	 orig commit -> d3349b6b3c373ac1fbfb040b810fcee5e2adc7e0 ......
checking e8484443c9db30c7c84a867d41ffebe3a9794ced ......
	 orig commit -> 7a8690ed6f5346f6738971892205e91d39b6b901 ......
checking 140eae92cf7023422aec3a1647f78c1e0bdd6bf8 ......
	 orig commit -> fc14eebfc20854a38fd9f1d93a42b1783dad4d17 ......
checking 6f9f5797fc7de2e9f801b2f7af0726e1349d33a4 ......
	 orig commit -> d2ac838e4cd7e5e9891ecc094d626734b0245c99 ......
checking 348b32aa3a37899724b961a7108feeb461b7ff2f ......
	 orig commit -> c568503ef02030f169c9e19204def610a3510918 ......
checking e5ee20c65b3404fa0aa43a6622664cb005bb2a7a ......
	 orig commit -> ba062ebb2cd561d404e0fba8ee4b3f5ebce7cbfc ......
checking 0032322689bb5fbf480e7de18488d0c0659cb129 ......
	 orig commit -> 90718e32e1dcc2479acfa208ccfc6442850b594c ......
checking 19f39eff68b40746703285ee55209041fedca6b3 ......
	 orig commit -> b7b73cd5d74694ed59abcdb4974dacb4ff8b2a2a ......
checking 2a017ea2ea1448d8d9505f7589a537c2eed64f31 ......
	 orig commit -> 815c6704bf9f1c59f3a6be380a4032b9c57b12f1 ......
checking 54ca2776fccae337d0538b6b10811476cf669df1 ......
	 orig commit -> 0ce0bba4e5e0eb9b753bb821785de5d23c494392 ......
checking f47f1f976745a9dc9f77c36018a5ff278207be5b ......
	 orig commit -> 7b72717a20bba8bdd01b14c0460be7d15061cd6b ......
checking 33beaca902a67b425cd0fc0fe2ba41cb9e1a0aaf ......
	 orig commit -> 54836e2d03e76d80aec3399368ffaf5b7caadd1b ......
checking ac5270d4bd46e1bfd44d4d907a6c14cfed84c38b ......
	 orig commit -> b697d7d8c741f27b728a878fc55852b06d0f6f5e ......
checking e61f8cb63ededc7519afc32ffc94ffc68a83bf5f ......
	 orig commit -> 9feeb638cde083c737e295c0547f1b4f28e99583 ......
checking d8148f7327488cbeaf5448ed839344b4b3de6efd ......
	 orig commit -> 2fd8eb4ad87104c54800ef3cea498c92eb15c78a ......
checking 324881805629d163a1dae9f05da3b57ee1bf4686 ......
	 orig commit -> 3f9cdee5929b7d035e86302dcf08fbf3e80b0739 ......
checking 36244e3a60cf44c0cb17fc1f3e4498479316bc9d ......
	 orig commit -> f8494fa3dd10b52eab47a9666a8bc34719a129aa ......
checking 81ebc9decd164fa4a874767e99ae65aec571dd8c ......
	 orig commit -> bb177a732c4369bb58a1fe1df8f552b6f0f7db5f ......
checking ff62981880d165c09957e68f147067b7fd7d5bbd ......
	 orig commit -> 24962af7e1041b7e50c1bc71d8d10dc678c556b5 ......
checking e6f011384c922015e5a973a60cf565b543a18c22 ......
	 orig commit -> e70cc2bd579e8a9d6d153762f0fe294d0e652ff0 ......
checking 684a2d8ed53f162dc731b117cd71239b77c47450 ......
	 orig commit -> bce73e4842390f7b7309c8e253e139db71288ac3 ......
checking f329f46764b116fa3809113d1c14fc49bde27519 ......
	 orig commit -> aaa23f86001bdb82d2f937c5c7bce0a1e11a6c5b ......
checking 11c6be539e1a40fb508b17810e7336d5cbc7b579 ......
	 orig commit -> c6b17f1020d956f4113d478cae6171b9093817ba ......
checking e58114824fa60ea0ac841a799eaa761fe8c6bd9a ......
	 orig commit -> adbe552349f2d1e48357a00e564d26135e586634 ......
checking c3aa570dd539e4e762cd59c0a6846a5aa946cfba ......
	 orig commit -> 49a7a4adb0167b656b8dfb6ccb83220d553a1860 ......
checking fda0eab89ccf9d7a6f92d818847090ac4d268cda ......
	 orig commit -> f369a31578c461a360f58c7695e5aef931bada13 ......
checking 90229163fa6cff513387e5e2a422a6193391a3d6 ......
	 orig commit -> e7d36b88435077847e1ea992919c600f3fa9321c ......
checking d7e6dcdaa3ea5f154d8924af26d12881a6380c71 ......
	 orig commit -> c365178f3147f38d26c15bdf43a363bacb5406ec ......
checking ef86f3a72adb8a7931f67335560740a7ad696d1d ......
	 orig commit -> 84676c1f21e8ff54befe985f4f14dc1edc10046b ......
		 84676c1f21e8ff54befe985f4f14dc1edc10046b has problem. Fixes commit -> b5b6e8c8d3b4cbeb447a0f10c7d5de3caa573299
adbe552349f2d1e48357a00e564d26135e586634
8b834bff1b73dce46f4e9f5e84af6f73fed8b0ef
commit 1edd825c11f8ed2c409d6fb6b3d90a042cbf738d
Author: Ming Lei <ming.lei@redhat.com>
Date:   Tue Mar 13 17:42:39 2018 +0800

    scsi: hpsa: fix selection of reply queue
    
    commit 8b834bff1b73dce46f4e9f5e84af6f73fed8b0ef upstream.
    
    Since commit 84676c1f21e8 ("genirq/affinity: assign vectors to all
    possible CPUs") we could end up with an MSI-X vector that did not have
    any online CPUs mapped. This would lead to I/O hangs since there was no
    CPU to receive the completion.
    
    Retrieve IRQ affinity information using pci_irq_get_affinity() and use
    this mapping to choose a reply queue.
    
    [mkp: tweaked commit desc]
    
    Cc: Hannes Reinecke <hare@suse.de>
    Cc: "Martin K. Petersen" <martin.petersen@oracle.com>,
    Cc: James Bottomley <james.bottomley@hansenpartnership.com>,
    Cc: Christoph Hellwig <hch@lst.de>,
    Cc: Don Brace <don.brace@microsemi.com>
    Cc: Kashyap Desai <kashyap.desai@broadcom.com>
    Cc: Laurence Oberman <loberman@redhat.com>
    Cc: Meelis Roos <mroos@linux.ee>
    Cc: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Cc: Mike Snitzer <snitzer@redhat.com>
    Fixes: 84676c1f21e8 ("genirq/affinity: assign vectors to all possible CPUs")
    Signed-off-by: Ming Lei <ming.lei@redhat.com>
    Tested-by: Laurence Oberman <loberman@redhat.com>
    Tested-by: Don Brace <don.brace@microsemi.com>
    Tested-by: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Acked-by: Don Brace <don.brace@microsemi.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit e58114824fa60ea0ac841a799eaa761fe8c6bd9a
Author: Ming Lei <ming.lei@redhat.com>
Date:   Tue Mar 13 17:42:40 2018 +0800

    scsi: megaraid_sas: fix selection of reply queue
    
    commit adbe552349f2d1e48357a00e564d26135e586634 upstream.
    
    Since commit 84676c1f21e8 ("genirq/affinity: assign vectors to all
    possible CPUs") we could end up with an MSI-X vector that did not have
    any online CPUs mapped. This would lead to I/O hangs since there was no
    CPU to receive the completion.
    
    Retrieve IRQ affinity information using pci_irq_get_affinity() and use
    this mapping to choose a reply queue.
    
    [mkp: tweaked commit desc]
    
    Cc: Hannes Reinecke <hare@suse.de>
    Cc: "Martin K. Petersen" <martin.petersen@oracle.com>,
    Cc: James Bottomley <james.bottomley@hansenpartnership.com>,
    Cc: Christoph Hellwig <hch@lst.de>,
    Cc: Don Brace <don.brace@microsemi.com>
    Cc: Kashyap Desai <kashyap.desai@broadcom.com>
    Cc: Laurence Oberman <loberman@redhat.com>
    Cc: Mike Snitzer <snitzer@redhat.com>
    Cc: Meelis Roos <mroos@linux.ee>
    Cc: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Fixes: 84676c1f21e8 ("genirq/affinity: assign vectors to all possible CPUs")
    Signed-off-by: Ming Lei <ming.lei@redhat.com>
    Acked-by: Kashyap Desai <kashyap.desai@broadcom.com>
    Tested-by: Kashyap Desai <kashyap.desai@broadcom.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>
    Tested-by: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit 70b522f163bbb32e120b9fff6977f507abb44f9a
Author: Ming Lei <ming.lei@redhat.com>
Date:   Tue Mar 13 17:42:42 2018 +0800

    scsi: virtio_scsi: fix IO hang caused by automatic irq vector affinity
    
    commit b5b6e8c8d3b4cbeb447a0f10c7d5de3caa573299 upstream.
    
    Since commit 84676c1f21e8ff5 ("genirq/affinity: assign vectors to all
    possible CPUs") it is possible to end up in a scenario where only
    offline CPUs are mapped to an interrupt vector.
    
    This is only an issue for the legacy I/O path since with blk-mq/scsi-mq
    an I/O can't be submitted to a hardware queue if the queue isn't mapped
    to an online CPU.
    
    Fix this issue by forcing virtio-scsi to use blk-mq.
    
    [mkp: commit desc]
    
    Cc: Omar Sandoval <osandov@fb.com>,
    Cc: "Martin K. Petersen" <martin.petersen@oracle.com>,
    Cc: James Bottomley <james.bottomley@hansenpartnership.com>,
    Cc: Christoph Hellwig <hch@lst.de>,
    Cc: Don Brace <don.brace@microsemi.com>
    Cc: Kashyap Desai <kashyap.desai@broadcom.com>
    Cc: Paolo Bonzini <pbonzini@redhat.com>
    Cc: Mike Snitzer <snitzer@redhat.com>
    Cc: Laurence Oberman <loberman@redhat.com>
    Fixes: 84676c1f21e8 ("genirq/affinity: assign vectors to all possible CPUs")
    Signed-off-by: Ming Lei <ming.lei@redhat.com>
    Reviewed-by: Hannes Reinecke <hare@suse.de>
    Acked-by: Paolo Bonzini <pbonzini@redhat.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 1edd825c11f8ed2c409d6fb6b3d90a042cbf738d
Author: Ming Lei <ming.lei@redhat.com>
Date:   Tue Mar 13 17:42:39 2018 +0800

    scsi: hpsa: fix selection of reply queue
    
    commit 8b834bff1b73dce46f4e9f5e84af6f73fed8b0ef upstream.
    
    Since commit 84676c1f21e8 ("genirq/affinity: assign vectors to all
    possible CPUs") we could end up with an MSI-X vector that did not have
    any online CPUs mapped. This would lead to I/O hangs since there was no
    CPU to receive the completion.
    
    Retrieve IRQ affinity information using pci_irq_get_affinity() and use
    this mapping to choose a reply queue.
    
    [mkp: tweaked commit desc]
    
    Cc: Hannes Reinecke <hare@suse.de>
    Cc: "Martin K. Petersen" <martin.petersen@oracle.com>,
    Cc: James Bottomley <james.bottomley@hansenpartnership.com>,
    Cc: Christoph Hellwig <hch@lst.de>,
    Cc: Don Brace <don.brace@microsemi.com>
    Cc: Kashyap Desai <kashyap.desai@broadcom.com>
    Cc: Laurence Oberman <loberman@redhat.com>
    Cc: Meelis Roos <mroos@linux.ee>
    Cc: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Cc: Mike Snitzer <snitzer@redhat.com>
    Fixes: 84676c1f21e8 ("genirq/affinity: assign vectors to all possible CPUs")
    Signed-off-by: Ming Lei <ming.lei@redhat.com>
    Tested-by: Laurence Oberman <loberman@redhat.com>
    Tested-by: Don Brace <don.brace@microsemi.com>
    Tested-by: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Acked-by: Don Brace <don.brace@microsemi.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit e58114824fa60ea0ac841a799eaa761fe8c6bd9a
Author: Ming Lei <ming.lei@redhat.com>
Date:   Tue Mar 13 17:42:40 2018 +0800

    scsi: megaraid_sas: fix selection of reply queue
    
    commit adbe552349f2d1e48357a00e564d26135e586634 upstream.
    
    Since commit 84676c1f21e8 ("genirq/affinity: assign vectors to all
    possible CPUs") we could end up with an MSI-X vector that did not have
    any online CPUs mapped. This would lead to I/O hangs since there was no
    CPU to receive the completion.
    
    Retrieve IRQ affinity information using pci_irq_get_affinity() and use
    this mapping to choose a reply queue.
    
    [mkp: tweaked commit desc]
    
    Cc: Hannes Reinecke <hare@suse.de>
    Cc: "Martin K. Petersen" <martin.petersen@oracle.com>,
    Cc: James Bottomley <james.bottomley@hansenpartnership.com>,
    Cc: Christoph Hellwig <hch@lst.de>,
    Cc: Don Brace <don.brace@microsemi.com>
    Cc: Kashyap Desai <kashyap.desai@broadcom.com>
    Cc: Laurence Oberman <loberman@redhat.com>
    Cc: Mike Snitzer <snitzer@redhat.com>
    Cc: Meelis Roos <mroos@linux.ee>
    Cc: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Fixes: 84676c1f21e8 ("genirq/affinity: assign vectors to all possible CPUs")
    Signed-off-by: Ming Lei <ming.lei@redhat.com>
    Acked-by: Kashyap Desai <kashyap.desai@broadcom.com>
    Tested-by: Kashyap Desai <kashyap.desai@broadcom.com>
    Reviewed-by: Christoph Hellwig <hch@lst.de>
    Tested-by: Artem Bityutskiy <artem.bityutskiy@intel.com>
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 298243a5fb640f018e2fae22c0c895f1b27f0963 ......
	 orig commit -> 0fa3ecd87848c9c93c2c828ef4c3a8ca36ce46c7 ......
checking a6d26649fda0274b54fde2b84e61c09dca73e934 ......
	 orig commit -> a319b01d9095da6f6c54bd20c1f1300762506255 ......
checking cd360be6488cf3e455ca6be57fff6f6fcc787b15 ......
	 orig commit -> 7d71109df186d630a41280670c8d71d0cf9b0da9 ......
checking 7499390b8ba5e4c9d378d301f7fd7db9be28f922 ......
	 orig commit -> 313db3d6488bb03b61b99de9dbca061f1fd838e1 ......
checking 55f51e5b4cffc6d98b945868281c67dbf0368c25 ......
	 orig commit -> bba57eddadda936c94b5dccf73787cb9e159d0a5 ......
checking 82b9cb4d3f062aa80f15a4f2a2f567b93e2d0739 ......
	 orig commit -> 794744abfffef8b1f3c0c8a4896177d6d13d653d ......
checking 90f2a76ccd37cce2530df49335bcea6cd0e23797 ......
	 orig commit -> f1e255d60ae66a9f672ff9a207ee6cd8e33d2679 ......
checking f24b02c3a0818651f179bdf1026a8de67a97070f ......
	 orig commit -> 01b3cdfca263a17554f7b249d20a247b2a751521 ......
checking 7aa69d8f50be9fa1cf4ebe72d32b79a19f4dfb34 ......
	 orig commit -> 367b160fe4717c14a2a978b6f9ffb75a7762d3ed ......
checking 7ce4add980f54c2ef1fe4eca4136493200292793 ......
	 orig commit -> e33eab9ded328ccc14308afa51b5be7cbe78d30b ......
checking 1fb3563fac7efaf0f2b8796f9f595b3209a79db9 ......
	 orig commit -> 240630e61870e62e39a97225048f9945848fa5f5 ......
checking 1e39eb1bb1c07b6c46f8d8b712095b182bdfcc87 ......
	 orig commit -> 90d72ce079791399ac255c75728f3c9e747b093d ......
checking 33b9257a64fe16277422062bd6ba2a090e78dbcf ......
	 orig commit -> 6edf1d4cb0acde3a0a5dac849f33031bd7abb7b1 ......
checking aae31a169efbd0ee4000c02089597256439bff54 ......
	 orig commit -> b320a0a9f23c98f21631eb27bcbbca91c79b1c6e ......
checking a3bb42c1bc6c1d83abb645afbc28ba7f25a97c38 ......
	 orig commit -> d59d2f9995d28974877750f429e821324bd603c7 ......
checking e5bb39faedd770f6fc56f5a98f72c4e4304aa294 ......
	 orig commit -> 920c92448839bd4f8eb87a92b08cad56d449caff ......
checking 908bfe10dd14e8c4d858bed3e37c4748819f1bf6 ......
	 orig commit -> a0341fc1981a950c1e902ab901e98f60e0e243f3 ......
checking ccb242ec502013f49c8c6117037e766c57c3a06b ......
	 orig commit -> 7a6b9f4d601dfce8cb68f0dcfd834270280e31e6 ......
checking 2c9fa8ff7045bb8604c6e31ead62f9e026a36a1a ......
	 orig commit -> 92748beac07c471d995fbec642b63572dc01b3dc ......
checking 6fce06b68b44396cedc396b63728e100c89dbdd6 ......
	 orig commit -> 523402fa9101090c91d2033b7ebdfdcf65880488 ......
checking 0818c44b8df72205298208b21a14c9e3959bb3b3 ......
	 orig commit -> b63e132b6433a41cf311e8bc382d33fd2b73b505 ......
checking 14ab9902422c96cf2ab4db289edaf10ee605059c ......
	 orig commit -> 5a267832c2ec47b2dad0fdb291a96bb5b8869315 ......
checking 77f738e84293f10980ea94cbcf57a8f204295f78 ......
	 orig commit -> 5845e6155d8f4a4a9bae2d4c1d1bb4a4d9a925c2 ......
checking 99ebaf4f43dd25e18baf02c994c7939f1257f8a3 ......
	 orig commit -> 63039c29f7a4ce8a8bd165173840543c0098d7b0 ......
