Check from v4.14.69 to v4.14.70
Commit count: 116
checking 5dfe87ac34e2326ae2957fc68b63212d84f78701 ......
checking ab088bc2911d773011f45872f1c72671ac8d1352 ......
	 orig commit -> 314d53d297980676011e6fd83dac60db4a01dc70 ......
checking 469c89aa5d7e1a616a174d89d085011de5d75b75 ......
	 orig commit -> 4c4a39dd5fe2d13e2d2fa5fceb8ef95d19fc389a ......
checking 0d2e80411a1a24cc39be3449e62d5621db57bed8 ......
	 orig commit -> ad0eaee6195db1db1749dd46b9e6f4466793d178 ......
checking 03717f80cf2cb24618d56d8eaf3aa958d23931fc ......
	 orig commit -> 94a5d8790e79ab78f499d2d9f1ff2cab63849d9f ......
checking 82a0e0f5cf407ba18efa965f0be0af5d8eac0e7c ......
	 orig commit -> 7288bde1f9df6c1475675419bdd7725ce84dec56 ......
checking e02c9275beea3b4990b61bdfb684da18aef3029c ......
	 orig commit -> 28a1f3ac1d0c8558ee4453d9634dad891a6e922e ......
		 28a1f3ac1d0c8558ee4453d9634dad891a6e922e has problem. Fixes commit -> 7288bde1f9df6c1475675419bdd7725ce84dec56
commit 82a0e0f5cf407ba18efa965f0be0af5d8eac0e7c
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Aug 20 23:37:50 2018 +0200

    x86: kvm: avoid unused variable warning
    
    commit 7288bde1f9df6c1475675419bdd7725ce84dec56 upstream.
    
    Removing one of the two accesses of the maxphyaddr variable led to
    a harmless warning:
    
    arch/x86/kvm/x86.c: In function 'kvm_set_mmio_spte_mask':
    arch/x86/kvm/x86.c:6563:6: error: unused variable 'maxphyaddr' [-Werror=unused-variable]
    
    Removing the #ifdef seems to be the nicest workaround, as it
    makes the code look cleaner than adding another #ifdef.
    
    Fixes: 28a1f3ac1d0c ("kvm: x86: Set highest physical address bits in non-present/reserved SPTEs")
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Cc: stable@vger.kernel.org # L1TF
    Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 39cff99ba4692f8dc94b501d401cbd8b6ecaf1b2 ......
checking e37957305de356b4f8719a3a4c7bc1453a2f0ca3 ......
checking 77be9452d0e5768bab9a041a62116cbeb9dc3174 ......
checking 63fd9d43c0181d668e632832e66c123faf66cfd3 ......
	 orig commit -> 5eda25b10297684c1f46a14199ec00210f3c346e ......
checking 9370868fd3ca87239332d4c288b2d0b3f91ffd2a ......
	 orig commit -> 914b087ff9e0e9a399a4927fa30793064afc0178 ......
checking 1e0750745bdffe0364ef8846af0561c9006bc77f ......
	 orig commit -> 299c2a904b1e8d5096d4813df6371357d97a6cd1 ......
checking 13b23ccfa28811333b866196e38d0bc35f68240d ......
	 orig commit -> f7c90c2aa4004808dff777ba6ae2c7294dd06851 ......
		 f7c90c2aa4004808dff777ba6ae2c7294dd06851 has problem. Fixes commit -> 01bd2ac2f55a1916d81dace12fa8d7ae1c79b5ea
commit cee9e1b3d61987cfa76f3fcf5c970355f71a06aa
Author: Juergen Gross <jgross@suse.com>
Date:   Thu Mar 7 10:11:19 2019 +0100

    xen: fix dom0 boot on huge systems
    
    commit 01bd2ac2f55a1916d81dace12fa8d7ae1c79b5ea upstream.
    
    Commit f7c90c2aa40048 ("x86/xen: don't write ptes directly in 32-bit
    PV guests") introduced a regression for booting dom0 on huge systems
    with lots of RAM (in the TB range).
    
    Reason is that on those hosts the p2m list needs to be moved early in
    the boot process and this requires temporary page tables to be created.
    Said commit modified xen_set_pte_init() to use a hypercall for writing
    a PTE, but this requires the page table being in the direct mapped
    area, which is not the case for the temporary page tables used in
    xen_relocate_p2m().
    
    As the page tables are completely written before being linked to the
    actual address space instead of set_pte() a plain write to memory can
    be used in xen_relocate_p2m().
    
    Fixes: f7c90c2aa40048 ("x86/xen: don't write ptes directly in 32-bit PV guests")
    Cc: stable@vger.kernel.org
    Signed-off-by: Juergen Gross <jgross@suse.com>
    Reviewed-by: Jan Beulich <jbeulich@suse.com>
    Signed-off-by: Juergen Gross <jgross@suse.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking d85c2999a7b5e924172f0cc21f5804bbb1f34d69 ......
	 orig commit -> b2d7a075a1ccef2fb321d595802190c8e9b39004 ......
checking 685a452ce3bfd030700a0360483ce59515facc41 ......
	 orig commit -> 98112041bcca164676367e261c8c1073ef70cb51 ......
checking 44e5d0b6ce634ccb74c70e9457c491b75299d96b ......
	 orig commit -> 01cffe9ded15c0d664e0beb33c594e00c0d57bba ......
checking 801fc191bb15655f7e694ba611ee02189f323291 ......
	 orig commit -> 77dd66a3c67c93ab401ccc15efff25578be281fd ......
checking 1508043c32a9dfe4af214eb712ab4b5b33158f27 ......
	 orig commit -> cd8ddbf7a5e206fe6995ab0aee245d597dd6a7f2 ......
checking fd8cb2e71cdd8e814cbdadddd0d0e6e3d49eaa2c ......
	 orig commit -> 295d6d5e373607729bcc8182c25afe964655714f ......
checking 8d015a362a84930994c99dd44bc7dc945520e05c ......
	 orig commit -> fc91a3c4c27acdca0bc13af6fbb68c35cfd519f2 ......
checking 448b5498f6c6685e0f79dda9dea0ae6d821902a9 ......
	 orig commit -> 8a2336e549d385bb0b46880435b411df8d8200e8 ......
		 8a2336e549d385bb0b46880435b411df8d8200e8 has problem. Fixes commit -> 2ecefa0a15fd0ef88b9cd5d15ceb813008136431
8c0f9f5b309d627182d5da72a69246f58bde1026
commit 50ec69edf3f097693e22b56c7b2140acf98f28eb
Author: Lubomir Rintel <lkundrak@v3.sk>
Date:   Mon Sep 24 13:18:34 2018 +0100

    Revert "uapi/linux/keyctl.h: don't use C++ reserved keyword as a struct member name"
    
    commit 8c0f9f5b309d627182d5da72a69246f58bde1026 upstream.
    
    This changes UAPI, breaking iwd and libell:
    
      ell/key.c: In function 'kernel_dh_compute':
      ell/key.c:205:38: error: 'struct keyctl_dh_params' has no member named 'private'; did you mean 'dh_private'?
        struct keyctl_dh_params params = { .private = private,
                                            ^~~~~~~
                                            dh_private
    
    This reverts commit 8a2336e549d385bb0b46880435b411df8d8200e8.
    
    Fixes: 8a2336e549d3 ("uapi/linux/keyctl.h: don't use C++ reserved keyword as a struct member name")
    Signed-off-by: Lubomir Rintel <lkundrak@v3.sk>
    Signed-off-by: David Howells <dhowells@redhat.com>
    cc: Randy Dunlap <rdunlap@infradead.org>
    cc: Mat Martineau <mathew.j.martineau@linux.intel.com>
    cc: Stephan Mueller <smueller@chronox.de>
    cc: James Morris <jmorris@namei.org>
    cc: "Serge E. Hallyn" <serge@hallyn.com>
    cc: Mat Martineau <mathew.j.martineau@linux.intel.com>
    cc: Andrew Morton <akpm@linux-foundation.org>
    cc: Linus Torvalds <torvalds@linux-foundation.org>
    cc: <stable@vger.kernel.org>
    Signed-off-by: James Morris <james.morris@microsoft.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit 50ec69edf3f097693e22b56c7b2140acf98f28eb
Author: Lubomir Rintel <lkundrak@v3.sk>
Date:   Mon Sep 24 13:18:34 2018 +0100

    Revert "uapi/linux/keyctl.h: don't use C++ reserved keyword as a struct member name"
    
    commit 8c0f9f5b309d627182d5da72a69246f58bde1026 upstream.
    
    This changes UAPI, breaking iwd and libell:
    
      ell/key.c: In function 'kernel_dh_compute':
      ell/key.c:205:38: error: 'struct keyctl_dh_params' has no member named 'private'; did you mean 'dh_private'?
        struct keyctl_dh_params params = { .private = private,
                                            ^~~~~~~
                                            dh_private
    
    This reverts commit 8a2336e549d385bb0b46880435b411df8d8200e8.
    
    Fixes: 8a2336e549d3 ("uapi/linux/keyctl.h: don't use C++ reserved keyword as a struct member name")
    Signed-off-by: Lubomir Rintel <lkundrak@v3.sk>
    Signed-off-by: David Howells <dhowells@redhat.com>
    cc: Randy Dunlap <rdunlap@infradead.org>
    cc: Mat Martineau <mathew.j.martineau@linux.intel.com>
    cc: Stephan Mueller <smueller@chronox.de>
    cc: James Morris <jmorris@namei.org>
    cc: "Serge E. Hallyn" <serge@hallyn.com>
    cc: Mat Martineau <mathew.j.martineau@linux.intel.com>
    cc: Andrew Morton <akpm@linux-foundation.org>
    cc: Linus Torvalds <torvalds@linux-foundation.org>
    cc: <stable@vger.kernel.org>
    Signed-off-by: James Morris <james.morris@microsoft.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 589a8eafc74e0c7c21a822cdde868d46a3850b01 ......
	 orig commit -> 4d77c0f676e910fb1f1870738aa4bd168f253621 ......
checking 4a4afcf76c96a0cc345c8ab4a6918006d49b9aaa ......
	 orig commit -> 235ac9de625a0a586093ad81b3de6f7d7ab913ed ......
checking d47d14de2438f007df90c401dc252d04d91ba0bf ......
	 orig commit -> c9ca989696ff28ffb015cc2b7c5577938ef2626c ......
checking 997157c4eb3883dba69e5a36c9b5319dfa7666c5 ......
	 orig commit -> abf412b3efb2f943d9b98a489e9aca836be21333 ......
checking 65d20e40552f5a1f13540ef33d47ec95b22719f3 ......
	 orig commit -> 435198f33b56d7b875a8173a0227ddf0de285aa1 ......
checking f40ecf3fe04a080a9de1231592f90ddb01de702a ......
	 orig commit -> 25da75043f8690fd083878447c91f289dfb63b87 ......
checking d991f8ae4071e435b0fed4a4313822be6f09e417 ......
	 orig commit -> 2d227ec2c11c568910299e8f913bac2dda47397c ......
checking c46a1b2622fa12f328ebb3f62072a04c4bf7100e ......
	 orig commit -> 226127a67e31a9518d9516d3e4890759b379d874 ......
checking 7e1a6951ca99e78a7d8f3b3c77c6bbaef2462bf8 ......
	 orig commit -> 75eef0f1ed478284911b8723a5bdb659499a7aac ......
checking a35d3352434d6136b7ad8933bbcc2441cb9f2007 ......
	 orig commit -> d1558dfd9f22c99a5b8e1354ad881ee40749da89 ......
checking 1f62d35cd2e176d26a2fd9c67e0b60ee9da71239 ......
	 orig commit -> 7db7a8f5638a2ffe0c0c0d55b5186b6191fd6af7 ......
checking 33f4c5c680447e8eae9b90c649915ce618a22ad0 ......
	 orig commit -> 43794446548730ac8461be30bbe47d5d027d1d16 ......
checking 0cdbc3faf960de16ebe8a427feb3b0544ad983cc ......
	 orig commit -> 389305b2aa68723c754f88d9dbd268a400e10664 ......
checking 2f92584bf1f679ea5111625277d837f48ae33386 ......
	 orig commit -> 1e7e1f9e3aba00c9b9c323bfeeddafe69ff21ff6 ......
checking 145b1f56b99238ec37dfa2b0e9dec039d4d1d2cd ......
	 orig commit -> 64f64f43c89aca1782aa672e0586f6903c5d8979 ......
checking 80f97c79f3e1ce183ed5cc1cf08e01cb85999219 ......
	 orig commit -> 36090bf43a6b835a42f515cb515ff6fa293a25fe ......
checking 1187e0186d81f5ae0018f75acf8df979b86095a1 ......
	 orig commit -> bd9966de4e14fb559e89a06f7f5c9aab2cc028b9 ......
checking 0aa49a4ddc8e10c7c924ad72d6c00346f421afad ......
	 orig commit -> 640332d1a089909df08bc9f3e42888a2019c66e2 ......
checking 92ef9425c6e121b01e734f512e20d699370b04a6 ......
	 orig commit -> 74e96bf44f430cf7a01de19ba6cf49b361cdfd6e ......
checking f3c124c3077d91ed3651ef8cd5e5c53efc0efd65 ......
	 orig commit -> 78ee9946371f5848ddfc88ab1a43867df8f17d83 ......
checking 17b1473e6433ede7fc882df136144455139e2f5b ......
	 orig commit -> f5daf77a55ef0e695cc90c440ed6503073ac5e07 ......
checking e5f0192fe22096be359c72e285633e0ac0e506e8 ......
	 orig commit -> 289131e1f1e6ad8c661ec05e176b8f0915672059 ......
checking f6a01ab96067b686472762e6a026eb575bf96141 ......
	 orig commit -> c281bc0c7412308c7ec0888904f7c99353da4796 ......
checking 9dd38052a3eb5fda89c3b72c35d8ee25bd202b38 ......
	 orig commit -> f7ecb1b109da1006a08d5675debe60990e824432 ......
checking 9b3fa26f0092061b0acd81cc294dd3083aa6dc45 ......
	 orig commit -> 5941923da29e84bc9e2a1abb2c14fffaf8d71e2f ......
checking e33c8a2896ecbce3563eed297c55e1c16da9c76c ......
	 orig commit -> 7c27a26e1ed5a7dd709aa19685d2c98f64e1cf0c ......
checking c861151b1fe9175e37395c2c7f076da63fc62170 ......
	 orig commit -> 04c532a1cdc7e423656c07937aa4b5c1c2b064f9 ......
checking 0a65ab39f8b649c4f9c4a09edbfd179ed7b3da47 ......
	 orig commit -> f861e3e28a3016a2064d9f600eaa92a530b732b4 ......
checking 3e86f51576615af5e8baa7c38a1d3733f1eeff82 ......
	 orig commit -> e083926b3e269d4064825dcf2ad50c636fddf8cf ......
checking 120130a757247f3c2608fbba75e5cd7e55563a51 ......
	 orig commit -> 784c9a29e99eb40b842c29ecf1cc3a79e00fb629 ......
checking 50956ef66cdbcd226eeb06adab328cd44de2aca7 ......
	 orig commit -> dfd0309fd7b30a5baffaf47b2fccb88b46d64d69 ......
checking 301ae59106485b18feba6f95ff3866231f5d7109 ......
	 orig commit -> 3596924a233e45aa918c961a902170fc4916461b ......
checking a333f3f2a25597fecaae27a5b89f58f00a418a61 ......
	 orig commit -> 100294cee9a98bfd4d6cb2d1c8a8aef0e959b0c4 ......
checking a9fac97e2e5012fe1e784e2bda60bdb812fc8c43 ......
	 orig commit -> 72bf75cfc00c02aa66ef6133048f37aa5d88825c ......
checking 8ac6b147534cb09addbcf6eff099e9b0bffe859a ......
	 orig commit -> 0756c57bce3d26da2592d834d8910b6887021701 ......
checking 24165131bcab624409b16bcb31f6214c43c1ac7d ......
	 orig commit -> 5971b0c1594d6c34e257101ed5fdffec65205c50 ......
checking c953a5038d2d3accdf91f703a42ebd1e1274b693 ......
	 orig commit -> 7c6553d4db03350dad0110c3224194c19df76a8f ......
checking ab16afe8c624e63a9e11205f70883f25f82d5ec9 ......
	 orig commit -> 669f3765b755fd8739ab46ce3a9c6292ce8b3d2a ......
checking d67c7c9dd14f3f6d6743d802ef017f14ddc73d3a ......
	 orig commit -> d6c02a9beb67f13d5f14f23e72fa9981e8b84477 ......
checking 6952b4ed9e4229485dde7b52d5511cc16e2c0df8 ......
	 orig commit -> 354b064b8ebc1e1ede58550ca9e08bfa81e6af43 ......
checking af675a6eefe905585bf954d0db309fdc022c6af2 ......
	 orig commit -> c42d3be0c06f0c1c416054022aa535c08a1f9b39 ......
checking c20a5e06b75063d0903872adf583b38cd84966e5 ......
	 orig commit -> f7a6947cd49b7ff4e03f1b4f7e7b223003d752ca ......
checking 47425c36d3fbd00c9f5d1f76d6c70d05fa0274a1 ......
	 orig commit -> 66110abc4c931f879d70e83e1281f891699364bf ......
checking c2842800d6bde2e28574017180ff475826fba75d ......
	 orig commit -> 92aef4675d5b1b55404e1532379e343bed0e5cf2 ......
checking 4cd195263e420311d31451cc053fde8037f326f1 ......
	 orig commit -> 9f476d7c540cb57556d3cc7e78704e6cd5100f5f ......
checking 5859129cf62ea3e96bcaf9592942344a8eff1853 ......
	 orig commit -> 0702bc4d2fe793018ad9aa0eb14bff7f526c4095 ......
checking 5e51aa84f4e82017ebd53b6d5e60c4435d9dd7f3 ......
	 orig commit -> 3f4417d693b43fa240ac8bde4487f67745ca23d8 ......
checking 800dbcee10cd3933991e4e1865e54ba6dd73220e ......
	 orig commit -> 60081dcc4fce385ade26d3145b2479789df0b7e5 ......
checking a77439e5fb28b8396eaec38f24d373393d65e95b ......
	 orig commit -> 6c39d5278e62956238a681e4cfc69fae5507fc57 ......
checking c16a0727c71a3e05e6b9fdaac759d76c79375215 ......
	 orig commit -> a1ceeca679dccc492235f0f629d9e9f7b3d51ca8 ......
checking 0c02e0c3fd13f9b6eb4b5f7ce3b739e7c348ae2b ......
	 orig commit -> 037b0b86ecf5646f8eae777d8b52ff8b401692ec ......
checking 58de2cef2b6834dce6d2c7014215739603d43eab ......
	 orig commit -> 3e673b23b541b8e7f773b2d378d6eb99831741cd ......
	 orig commit -> 90fd131afc565159c9e0ea742f082b337e10f8c6 ......
checking e4f419133dfaa72f9830f258ca10527e3ab359a9 ......
	 orig commit -> 880b29ac107d15644bf4da228376ba3cd6af6d71 ......
checking 044e9463ec2056d1b98e6a7c69075ded1be19426 ......
	 orig commit -> 2f606da78230f09cf1a71fde6ee91d0c710fa2b2 ......
checking ccf1ae823e4a55839873f4e892a19d06f2723f59 ......
	 orig commit -> a53b42c11815d2357e31a9403ae3950517525894 ......
checking a2805f40c77e8db5ad4a0534bf1b82ad01b5c7a7 ......
	 orig commit -> 2d2e7075b87181ed0c675e4936e20bdadba02e1f ......
checking 2b81b00edba15c61117e7e0b727757b6f28dc5dd ......
	 orig commit -> da786717e0894886301ed2536843c13f9e8fd53e ......
checking f95c5cde34e8d5f6a632b084889092dc8a2bdec8 ......
	 orig commit -> 340fd4cff43f18bace9358d4decdc9b6ed0715be ......
checking e20c4abf91867c906fa1df432850d658cc1cf19f ......
	 orig commit -> 6cd00a01f0c1ae6a852b09c59b8dd55cc6c35d1d ......
checking 4570403f6e116701503052011d129e7f86e44abd ......
	 orig commit -> a718e28f538441a3b6612da9ff226973376cdf0f ......
checking 2dc61587a1035b6f0ab333e5151fe89e240c7606 ......
	 orig commit -> b96e9eb62841c519ba1db32d036628be3cdef91f ......
checking 52ec8484a7c53ccc81bdba93468c583d926dc6de ......
	 orig commit -> c513de490f808d8480346f9a58e6a4a5f3de12e7 ......
checking e5ef973b137fcef7d9fea58ad11b7e1c20c913e6 ......
	 orig commit -> 704ae091b061082b37a9968621af4c290c641d50 ......
checking b7540b6235f070b2f02f20f58d6ba46995cb2b9d ......
	 orig commit -> 69599206ea9a3f8f2e94d46580579cbf9d08ad6c ......
checking ab4bddc2d032b175c4c9689a6a6f3e50d1c66f5a ......
	 orig commit -> 1f3aa9002dc6a0d59a4b599b4fc8f01cf43ef014 ......
checking 7bbf1e8a2471d3f604bf91578ebed067461ba4e7 ......
	 orig commit -> 0afa9626667c3659ef8bd82d42a11e39fedf235c ......
checking 305277dae99e0917d4729e464cc254b0a12cf559 ......
	 orig commit -> df865e8337c397471b95f51017fea559bc8abb4a ......
checking 68e787c3c80059c776d1d7afb20f5eb9f20237a5 ......
	 orig commit -> a7ec7a4193a2eb3b5341243fc0b621c1ac9e4ec4 ......
checking 003d4c3bf5a5a722f162fda8da59d2d39fff0c2a ......
	 orig commit -> 8b73ce6a4bae4fe12bcb2c361c0da4183c2e1b6f ......
checking f552f8c28d34ffea62dec915c0a63d900464504b ......
	 orig commit -> 06e62a46bbba20aa5286102016a04214bb446141 ......
checking 8b89affb42ae14e549c233d0a90c8e46e533811f ......
	 orig commit -> 44090cc876926277329e1608bafc01b9f6da627f ......
checking ece4ba1c0c9003a1cde72862b0945bb163013e4f ......
	 orig commit -> dc2572791d3a41bab94400af2b6bca9d71ccd303 ......
checking 7d6eba211a1a3766378d10eadcffcca717537a8e ......
	 orig commit -> 7464726cb5998846306ed0a7d6714afb2e37b25d ......
checking d4e42116f77e41216cee1178fa515a1b4a1beba6 ......
	 orig commit -> e6c47dd0da1e3a484e778046fc10da0b20606a86 ......
checking c9ba1b82ce96256bd4b05120dfb84d7062ba5376 ......
	 orig commit -> 84cb8eb26cb9ce3c79928094962a475a9d850a53 ......
checking e54c50709019d8680ba55b520407f1ba82432683 ......
	 orig commit -> 5ffe57da29b3802baeddaa40909682bbb4cb4d48 ......
		 5ffe57da29b3802baeddaa40909682bbb4cb4d48 has problem. Fixes commit -> 84cb8eb26cb9ce3c79928094962a475a9d850a53
commit c9ba1b82ce96256bd4b05120dfb84d7062ba5376
Author: Vlad Buslov <vladbu@mellanox.com>
Date:   Tue Sep 4 00:44:42 2018 +0300

    net: sched: action_ife: take reference to meta module
    
    [ Upstream commit 84cb8eb26cb9ce3c79928094962a475a9d850a53 ]
    
    Recent refactoring of add_metainfo() caused use_all_metadata() to add
    metainfo to ife action metalist without taking reference to module. This
    causes warning in module_put called from ife action cleanup function.
    
    Implement add_metainfo_and_get_ops() function that returns with reference
    to module taken if metainfo was added successfully, and call it from
    use_all_metadata(), instead of calling __add_metainfo() directly.
    
    Example warning:
    
    [  646.344393] WARNING: CPU: 1 PID: 2278 at kernel/module.c:1139 module_put+0x1cb/0x230
    [  646.352437] Modules linked in: act_meta_skbtcindex act_meta_mark act_meta_skbprio act_ife ife veth nfsv3 nfs fscache xt_CHECKSUM iptable_mangle ipt_MASQUERADE iptable_nat nf_nat_ipv4 nf_nat xt_conntrack nf_conntrack nf_defrag_ipv6 nf_defrag_ipv4 libcrc32c tun ebtable_filter ebtables ip6table_filter ip6_tables bridge stp llc mlx5_ib ib_uverbs ib_core intel_rapl sb_edac x86_pkg_temp_thermal mlx5_core coretemp kvm_intel kvm nfsd igb irqbypass crct10dif_pclmul devlink crc32_pclmul mei_me joydev ses crc32c_intel enclosure auth_rpcgss i2c_algo_bit ioatdma ptp mei pps_core ghash_clmulni_intel iTCO_wdt iTCO_vendor_support pcspkr dca ipmi_ssif lpc_ich target_core_mod i2c_i801 ipmi_si ipmi_devintf pcc_cpufreq wmi ipmi_msghandler nfs_acl lockd acpi_pad acpi_power_meter grace sunrpc mpt3sas raid_class scsi_transport_sas
    [  646.425631] CPU: 1 PID: 2278 Comm: tc Not tainted 4.19.0-rc1+ #799
    [  646.432187] Hardware name: Supermicro SYS-2028TP-DECR/X10DRT-P, BIOS 2.0b 03/30/2017
    [  646.440595] RIP: 0010:module_put+0x1cb/0x230
    [  646.445238] Code: f3 66 94 02 e8 26 ff fa ff 85 c0 74 11 0f b6 1d 51 30 94 02 80 fb 01 77 60 83 e3 01 74 13 65 ff 0d 3a 83 db 73 e9 2b ff ff ff <0f> 0b e9 00 ff ff ff e8 59 01 fb ff 85 c0 75 e4 48 c7 c2 20 62 6b
    [  646.464997] RSP: 0018:ffff880354d37068 EFLAGS: 00010286
    [  646.470599] RAX: 0000000000000000 RBX: ffffffffc0a52518 RCX: ffffffff8c2668db
    [  646.478118] RDX: 0000000000000003 RSI: dffffc0000000000 RDI: ffffffffc0a52518
    [  646.485641] RBP: ffffffffc0a52180 R08: fffffbfff814a4a4 R09: fffffbfff814a4a3
    [  646.493164] R10: ffffffffc0a5251b R11: fffffbfff814a4a4 R12: 1ffff1006a9a6e0d
    [  646.500687] R13: 00000000ffffffff R14: ffff880362bab890 R15: dead000000000100
    [  646.508213] FS:  00007f4164c99800(0000) GS:ffff88036fe40000(0000) knlGS:0000000000000000
    [  646.516961] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
    [  646.523080] CR2: 00007f41638b8420 CR3: 0000000351df0004 CR4: 00000000001606e0
    [  646.530595] Call Trace:
    [  646.533408]  ? find_symbol_in_section+0x260/0x260
    [  646.538509]  tcf_ife_cleanup+0x11b/0x200 [act_ife]
    [  646.543695]  tcf_action_cleanup+0x29/0xa0
    [  646.548078]  __tcf_action_put+0x5a/0xb0
    [  646.552289]  ? nla_put+0x65/0xe0
    [  646.555889]  __tcf_idr_release+0x48/0x60
    [  646.560187]  tcf_generic_walker+0x448/0x6b0
    [  646.564764]  ? tcf_action_dump_1+0x450/0x450
    [  646.569411]  ? __lock_is_held+0x84/0x110
    [  646.573720]  ? tcf_ife_walker+0x10c/0x20f [act_ife]
    [  646.578982]  tca_action_gd+0x972/0xc40
    [  646.583129]  ? tca_get_fill.constprop.17+0x250/0x250
    [  646.588471]  ? mark_lock+0xcf/0x980
    [  646.592324]  ? check_chain_key+0x140/0x1f0
    [  646.596832]  ? debug_show_all_locks+0x240/0x240
    [  646.601839]  ? memset+0x1f/0x40
    [  646.605350]  ? nla_parse+0xca/0x1a0
    [  646.609217]  tc_ctl_action+0x215/0x230
    [  646.613339]  ? tcf_action_add+0x220/0x220
    [  646.617748]  rtnetlink_rcv_msg+0x56a/0x6d0
    [  646.622227]  ? rtnl_fdb_del+0x3f0/0x3f0
    [  646.626466]  netlink_rcv_skb+0x18d/0x200
    [  646.630752]  ? rtnl_fdb_del+0x3f0/0x3f0
    [  646.634959]  ? netlink_ack+0x500/0x500
    [  646.639106]  netlink_unicast+0x2d0/0x370
    [  646.643409]  ? netlink_attachskb+0x340/0x340
    [  646.648050]  ? _copy_from_iter_full+0xe9/0x3e0
    [  646.652870]  ? import_iovec+0x11e/0x1c0
    [  646.657083]  netlink_sendmsg+0x3b9/0x6a0
    [  646.661388]  ? netlink_unicast+0x370/0x370
    [  646.665877]  ? netlink_unicast+0x370/0x370
    [  646.670351]  sock_sendmsg+0x6b/0x80
    [  646.674212]  ___sys_sendmsg+0x4a1/0x520
    [  646.678443]  ? copy_msghdr_from_user+0x210/0x210
    [  646.683463]  ? lock_downgrade+0x320/0x320
    [  646.687849]  ? debug_show_all_locks+0x240/0x240
    [  646.692760]  ? do_raw_spin_unlock+0xa2/0x130
    [  646.697418]  ? _raw_spin_unlock+0x24/0x30
    [  646.701798]  ? __handle_mm_fault+0x1819/0x1c10
    [  646.706619]  ? __pmd_alloc+0x320/0x320
    [  646.710738]  ? debug_show_all_locks+0x240/0x240
    [  646.715649]  ? restore_nameidata+0x7b/0xa0
    [  646.720117]  ? check_chain_key+0x140/0x1f0
    [  646.724590]  ? check_chain_key+0x140/0x1f0
    [  646.729070]  ? __fget_light+0xbc/0xd0
    [  646.733121]  ? __sys_sendmsg+0xd7/0x150
    [  646.737329]  __sys_sendmsg+0xd7/0x150
    [  646.741359]  ? __ia32_sys_shutdown+0x30/0x30
    [  646.746003]  ? up_read+0x53/0x90
    [  646.749601]  ? __do_page_fault+0x484/0x780
    [  646.754105]  ? do_syscall_64+0x1e/0x2c0
    [  646.758320]  do_syscall_64+0x72/0x2c0
    [  646.762353]  entry_SYSCALL_64_after_hwframe+0x49/0xbe
    [  646.767776] RIP: 0033:0x7f4163872150
    [  646.771713] Code: 8b 15 3c 7d 2b 00 f7 d8 64 89 02 48 c7 c0 ff ff ff ff eb cd 66 0f 1f 44 00 00 83 3d b9 d5 2b 00 00 75 10 b8 2e 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 31 c3 48 83 ec 08 e8 be cd 00 00 48 89 04 24
    [  646.791474] RSP: 002b:00007ffdef7d6b58 EFLAGS: 00000246 ORIG_RAX: 000000000000002e
    [  646.799721] RAX: ffffffffffffffda RBX: 0000000000000024 RCX: 00007f4163872150
    [  646.807240] RDX: 0000000000000000 RSI: 00007ffdef7d6bd0 RDI: 0000000000000003
    [  646.814760] RBP: 000000005b8b9482 R08: 0000000000000001 R09: 0000000000000000
    [  646.822286] R10: 00000000000005e7 R11: 0000000000000246 R12: 00007ffdef7dad20
    [  646.829807] R13: 0000000000000000 R14: 0000000000000000 R15: 0000000000679bc0
    [  646.837360] irq event stamp: 6083
    [  646.841043] hardirqs last  enabled at (6081): [<ffffffff8c220a7d>] __call_rcu+0x17d/0x500
    [  646.849882] hardirqs last disabled at (6083): [<ffffffff8c004f06>] trace_hardirqs_off_thunk+0x1a/0x1c
    [  646.859775] softirqs last  enabled at (5968): [<ffffffff8d4004a1>] __do_softirq+0x4a1/0x6ee
    [  646.868784] softirqs last disabled at (6082): [<ffffffffc0a78759>] tcf_ife_cleanup+0x39/0x200 [act_ife]
    [  646.878845] ---[ end trace b1b8c12ffe51e657 ]---
    
    Fixes: 5ffe57da29b3 ("act_ife: fix a potential deadlock")
    Signed-off-by: Vlad Buslov <vladbu@mellanox.com>
    Acked-by: Cong Wang <xiyou.wangcong@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking cd7330c06195d3ff8c7a601bac449b0e8b3f2bec ......
	 orig commit -> 4e407ff5cd67ec76eeeea1deec227b7982dc7f66 ......
checking 8aa07625eb810fa845311a8480f9ec70d7d93faa ......
	 orig commit -> e04e7a7bbd4bbabef4e1a58367e5fc9b2edc3b10 ......
checking dadb0110a49dd50b94efd89c42157e39bceaed19 ......
	 orig commit -> b93c1b5ac8643cc08bb74fa8ae21d6c63dfcb23d ......
checking bf82c2cb14509281df54cd1801b783cd15c0c98b ......
	 orig commit -> 2d66f997f0545c8f7fc5cf0b49af1decb35170e7 ......
checking fe0d111fea19e7d43d78e6b49f1d682e7177706d ......
	 orig commit -> 602b74eda81311dbdb5dbab08c30f789f648ebdc ......
checking 3c035a48e7746d2b6f76719376473ad5d12e423a ......
	 orig commit -> bab1be79a5169ac748d8292b20c86d874022d7ba ......
checking 456e46f05b37e016628c07fa5e63ec42749d13d3 ......
	 orig commit -> 9ad716b95fd6c6be46a4f2d5936e514b5bcd744d ......
checking 8fed734df37511ecfb522adb7dfe8541de362349 ......
	 orig commit -> bd583fe30427500a2d0abe25724025b1cb5e2636 ......
checking 417b068a6a7a42073d72480e1d5722dbe01e878e ......
	 orig commit -> 85eb9af182243ce9a8b72410d5321c440ac5f8d7 ......
checking 56af4184d356e768f977a4bf75839722b83ce97b ......
	 orig commit -> 9f2895461439fda2801a7906fb4c5fb3dbb37a0a ......
checking e4b6c5fd31bddadb97058f38db2ae1a819d65d42 ......
	 orig commit -> 63cc357f7bba6729869565a12df08441a5995d9a ......
checking 3eada53de462d8bbeb826e52ebbd419fea1ee00d ......
	 orig commit -> 9fd0e09a4e86499639653243edfcb417a05c5c46 ......
checking d19688e347a17edcdca2f90be9d15cc5cc09daea ......
	 orig commit -> 6750c87074c5b534d82fdaabb1deb45b8f1f57de ......
checking 7f1e6ec4ff1234bb2bcf1dd7763cd16e66d6a3fe ......
	 orig commit -> 98c8f125fd8a6240ea343c1aa50a1be9047791b8 ......
checking cb765f5c3c5b1e982112e4ccccb80bd90f7cb7bf ......
	 orig commit -> 0da70f808029476001109b6cb076737bc04cea2e ......
checking 1ef819e411f8d970cae5de9a07ec520ba307f02a ......
	 orig commit -> c3c397c1f16c51601a3fac4fe0c63ad8aa85a904 ......
checking a16405ad27f6952f7f18460cda40cf92605b5215 ......
	 orig commit -> 431280eebed9f5079553daf003011097763e71fd ......
checking a08d7ea10bc7df3b0177d7de2aab3805899fb8fd ......
	 orig commit -> 6d784f1625ea68783cc1fb17de8f6cd3e1660c3f ......
