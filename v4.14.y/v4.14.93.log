Check from v4.14.93 to v4.14.94
Commit count: 28
checking 8979da2558a4993989542e1d2db23b426b148ae9 ......
checking cb754d67c084d4e673c3dd420636d7e8eb81b024 ......
	 orig commit -> fb544d1ca65a89f7a3895f7531221ceeed74ada7 ......
checking 65dba32522065b79a16393efc75f8006c2c3dbb8 ......
	 orig commit -> d4b09acf924b84bae77cad090a9d108e70b43643 ......
checking 5903fc6477b1aed7db1165a7f328948e6ef93ef1 ......
	 orig commit -> 95cb67138746451cc84cf8e516e14989746e93b0 ......
checking 82f71b8bc05c6866b7dfae96ebca5ee102f76afa ......
	 orig commit -> ad211f3e94b314a910d4af03178a0b52a7d1ee0a ......
		 ad211f3e94b314a910d4af03178a0b52a7d1ee0a has problem. Fixes commit -> 8fdd60f2ae3682caf2a7258626abc21eb4711892
commit 850d47601371d800a4e8d46ac08a09c5c3aa3891
Author: Theodore Ts'o <tytso@mit.edu>
Date:   Thu Jan 31 23:41:11 2019 -0500

    Revert "ext4: use ext4_write_inode() when fsyncing w/o a journal"
    
    commit 8fdd60f2ae3682caf2a7258626abc21eb4711892 upstream.
    
    This reverts commit ad211f3e94b314a910d4af03178a0b52a7d1ee0a.
    
    As Jan Kara pointed out, this change was unsafe since it means we lose
    the call to sync_mapping_buffers() in the nojournal case.  The
    original point of the commit was avoid taking the inode mutex (since
    it causes a lockdep warning in generic/113); but we need the mutex in
    order to call sync_mapping_buffers().
    
    The real fix to this problem was discussed here:
    
    https://lore.kernel.org/lkml/20181025150540.259281-4-bvanassche@acm.org
    
    The proposed patch was to fix a syzbot complaint, but the problem can
    also demonstrated via "kvm-xfstests -c nojournal generic/113".
    Multiple solutions were discused in the e-mail thread, but none have
    landed in the kernel as of this writing.  Anyway, commit
    ad211f3e94b314 is absolutely the wrong way to suppress the lockdep, so
    revert it.
    
    Fixes: ad211f3e94b314a910d4af03178a0b52a7d1ee0a ("ext4: use ext4_write_inode() when fsyncing w/o a journal")
    Signed-off-by: Theodore Ts'o <tytso@mit.edu>
    Reported: Jan Kara <jack@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking b17971aeaf144ec627b0516ecc990c0a3fd278fe ......
	 orig commit -> e86807862e6880809f191c4cea7f88a489f0ed34 ......
checking b4727299f58df8c7feaac247f7b841b610b5cbaf ......
	 orig commit -> 2b08b1f12cd664dc7d5c84ead9ff25ae97ad5491 ......
checking eb13c60d82db21411ba2ea4557494450a9d6fa11 ......
	 orig commit -> 812c0cab2c0dfad977605dbadf9148490ca5d93f ......
checking 022ce60cc621c84df6d0272984e791f60983fd7a ......
	 orig commit -> 85f5a4d666fd9be73856ed16bb36c5af5b406b29 ......
checking 8b99f1705b5d545c23fc629e51063915e7bb3fce ......
	 orig commit -> 62d85b3bf9d978ed4b6b2aeef5cf0ccf1423906e ......
checking 78e5ef1add51528d0e3818bacdb4739fc6661c78 ......
	 orig commit -> 6ebec961d59bccf65d08b13fc1ad4e6272a89338 ......
checking d3db93d2be900a920aca76a557010a90e2c4a877 ......
	 orig commit -> 2b531d71595d2b5b12782a49b23c335869e2621e ......
checking ec697eb3b840abae279a59725223d4a10dee8938 ......
	 orig commit -> 7d7b467cb95bf29597b417d4990160d4ea6d69b9 ......
checking 8c4da1134aa39b1cd9f77be5df349dc08f3aa569 ......
	 orig commit -> 63f3655f950186752236bb88a22f8252c11ce394 ......
checking e973b3929a13c235a474532e640ddff426c5346e ......
	 orig commit -> 8ab88c7169b7fba98812ead6524b9d05bc76cf00 ......
checking 90bcbcfb745059e555943090ff3f2f615d360e98 ......
	 orig commit -> 09c2e76ed734a1d36470d257a778aaba28e86531 ......
checking ec197f07d3eaee6d78228760bf6ee3ca40cff2b2 ......
	 orig commit -> 3483254b89438e60f719937376c5e0ce2bc46761 ......
checking e8497e3b0b7b165d728941eb652bef6eb7684e4a ......
	 orig commit -> 0a99cc4b8ee83885ab9f097a3737d1ab28455ac0 ......
checking e43d3143ad116b0559bd8fc0f2948d2e60404343 ......
	 orig commit -> c5603d2fdb424849360fe7e3f8c1befc97571b8c ......
checking d42666bd9f35a91ef870344d27b86f5bb1bfe220 ......
	 orig commit -> 34aabf918717dd14e05051896aaecd3b16b53d95 ......
checking 5c467ac09db61069e409d1249c23a9deff747410 ......
	 orig commit -> b9a74cde94957d82003fb9f7ab4777938ca851cd ......
checking 4092ad400ea6ef5c31871ccefdaf809ef8dd32cc ......
	 orig commit -> ee13919c2e8d1f904e035ad4b4239029a8994131 ......
checking edc8099b54ec5c465987b4f6bcd44a0130ed2ffd ......
	 orig commit -> b983f7e92348d7e7d091db1b78b7915e9dd3d63a ......
checking e1008331ce7a1033d70ef3e6559eaf5e072b8218 ......
	 orig commit -> d1dd42110d2727e81b9265841a62bc84c454c3a2 ......
checking cd5a27c87820dd613518243c6422d1ea59b4759c ......
	 orig commit -> 4d4b0c52bde470c379f5d168d5c139ad866cb808 ......
checking 711fd1f564c3e8bdc4e344055abe06f2f6c6b8f7 ......
	 orig commit -> c2a7c55a04065c3b0c32d23b099db7ea1dbf6250 ......
checking 64ac5483a1b187f4e3fa47c65ba53546f9089bd6 ......
	 orig commit -> e4f358916d528d479c3c12bd2fd03f2d5a576380 ......
checking 4124a4cff344abbf8187775eb643d9827830e715 ......
	 orig commit -> f775b13eedee2f7f3c6fdd4e90fb79090ce5d339 ......
		 f775b13eedee2f7f3c6fdd4e90fb79090ce5d339 has problem. Fixes commit -> 5663d8f9bbe4bf15488f7351efb61ea20fa6de06
commit 871424f0c3cfcf51727cb56a0a5f1cbfc9e429c6
Author: Peter Xu <peterx@redhat.com>
Date:   Tue Dec 12 17:15:02 2017 +0100

    kvm: x86: fix WARN due to uninitialized guest FPU state
    
    commit 5663d8f9bbe4bf15488f7351efb61ea20fa6de06 upstream
    
    ------------[ cut here ]------------
     Bad FPU state detected at kvm_put_guest_fpu+0xd8/0x2d0 [kvm], reinitializing FPU registers.
     WARNING: CPU: 1 PID: 4594 at arch/x86/mm/extable.c:103 ex_handler_fprestore+0x88/0x90
     CPU: 1 PID: 4594 Comm: qemu-system-x86 Tainted: G    B      OE    4.15.0-rc2+ #10
     RIP: 0010:ex_handler_fprestore+0x88/0x90
     Call Trace:
      fixup_exception+0x4e/0x60
      do_general_protection+0xff/0x270
      general_protection+0x22/0x30
     RIP: 0010:kvm_put_guest_fpu+0xd8/0x2d0 [kvm]
     RSP: 0018:ffff8803d5627810 EFLAGS: 00010246
      kvm_vcpu_reset+0x3b4/0x3c0 [kvm]
      kvm_apic_accept_events+0x1c0/0x240 [kvm]
      kvm_arch_vcpu_ioctl_run+0x1658/0x2fb0 [kvm]
      kvm_vcpu_ioctl+0x479/0x880 [kvm]
      do_vfs_ioctl+0x142/0x9a0
      SyS_ioctl+0x74/0x80
      do_syscall_64+0x15f/0x600
    
    where kvm_put_guest_fpu is called without a prior kvm_load_guest_fpu.
    To fix it, move kvm_load_guest_fpu to the very beginning of
    kvm_arch_vcpu_ioctl_run.
    
    Cc: stable@vger.kernel.org
    Fixes: f775b13eedee2f7f3c6fdd4e90fb79090ce5d339
    Signed-off-by: Peter Xu <peterx@redhat.com>
    Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
    Signed-off-by: Sudip Mukherjee <sudipm.mukherjee@gmail.com>
    Acked-by: Paolo Bonzini <pbonzini@redhat.com>
    Signed-off-by: Sasha Levin <sashal@kernel.org>
