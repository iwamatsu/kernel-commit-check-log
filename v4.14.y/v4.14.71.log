Check from v4.14.71 to v4.14.72
Commit count: 170
checking 2cc4d365363b1fb681b8231adcf4a8f80082506c ......
checking 9884746ef5c21a9e7aeff6774825359796ef5cf3 ......
	 orig commit -> 4e7dc08e57c95673d2edaba8983c3de4dd1f65f5 ......
checking da2b4ae736e8800b639103edb8a7a769f0806f87 ......
	 orig commit -> e2710dbf0dc1e37d85368e2404049dadda848d5a ......
checking dc2aa33a101d4fae88272819029a14c603d1168a ......
	 orig commit -> 3016e0a0c91246e55418825ba9aae271be267522 ......
checking 7a5b2bf66bf8c72f2b0163a249404970bf83d284 ......
	 orig commit -> 116f4a640b3197401bc93b8adc6c35040308ceff ......
checking dd5456adab14a89c660508c01f7c736f6c6bebd4 ......
	 orig commit -> 361a954e6a7215de11a6179ad9bdc07d7e394b04 ......
checking 5239be076587d82e722cd7025b3dbe5bc614ecaf ......
	 orig commit -> 1f0ea19722ef9dfa229a9540f70b8d1c34a98a6a ......
checking 0d99649c5eeac23cb9bd5f473170e922f0bf693f ......
	 orig commit -> 745d0bd3af99ccc8c5f5822f808cd133eadad6ac ......
checking 57d6f87ac3619b980248972b386a8bfd8f045275 ......
	 orig commit -> f7225172f25aaf0dfd9ad65f05be8da5d6108b12 ......
checking 453740de93cd202453c2d992a4992727dda985f6 ......
	 orig commit -> c5ba5b24657e473b1c64b0a614b168a635a2c935 ......
checking 425026ae6b4cff4ac4456b6d10b92134523009cc ......
	 orig commit -> 975b6a93088e83a41ba2f0dec2f086678fdb2a7a ......
checking 00ac982d7aa3a945a8bdc561d6028b6bd5f92a79 ......
	 orig commit -> 6431a7e36652517df82855ee79c8240001812a55 ......
checking 5e8bf9f23f209170b8a45682726ebf1186edda32 ......
	 orig commit -> 182ead3e418a20328b73152b8e81fc8b4cac3b0b ......
checking a44d267a67e974fd0370ae0e0a691f9e59100462 ......
	 orig commit -> 814453adea7d081ad8917aa0f32d6a14165a3563 ......
checking 29068d29718f0bdef2cb98e587e717496e81cbcc ......
	 orig commit -> b40b3e9358fbafff6a4ba0f4b9658f6617146f9c ......
checking 0eb82af7cd718652ed9e18c00352bed33c270ace ......
	 orig commit -> f7b3182232c82bb9769e2d5471d702bae2972d2b ......
checking 07101e1c8435c942472114f31b03fa4d775dd4fd ......
	 orig commit -> 1cf86bc21257a330e3af51f2a4e885f1a705f6a5 ......
checking a5d093d1857ef4fd1415929b54f9216c36666cdc ......
	 orig commit -> 05e0c828955c1cab58dd71a04539442e5375d917 ......
checking b520f00da41f748fcf90b01d5399e2e2b28cb2f4 ......
	 orig commit -> 1311326cf4755c7ffefd20f576144ecf46d9906b ......
		 1311326cf4755c7ffefd20f576144ecf46d9906b has problem. Fixes commit -> 8dc765d438f1e42b3e8227b3b09fad7d73f4ec9a
commit a061395786ef57f96830ae4791778d1916146cd0
Author: Ming Lei <ming.lei@redhat.com>
Date:   Wed Nov 14 16:25:51 2018 +0800

    SCSI: fix queue cleanup race before queue initialization is done
    
    commit 8dc765d438f1e42b3e8227b3b09fad7d73f4ec9a upstream.
    
    c2856ae2f315d ("blk-mq: quiesce queue before freeing queue") has
    already fixed this race, however the implied synchronize_rcu()
    in blk_mq_quiesce_queue() can slow down LUN probe a lot, so caused
    performance regression.
    
    Then 1311326cf4755c7 ("blk-mq: avoid to synchronize rcu inside blk_cleanup_queue()")
    tried to quiesce queue for avoiding unnecessary synchronize_rcu()
    only when queue initialization is done, because it is usual to see
    lots of inexistent LUNs which need to be probed.
    
    However, turns out it isn't safe to quiesce queue only when queue
    initialization is done. Because when one SCSI command is completed,
    the user of sending command can be waken up immediately, then the
    scsi device may be removed, meantime the run queue in scsi_end_request()
    is still in-progress, so kernel panic can be caused.
    
    In Red Hat QE lab, there are several reports about this kind of kernel
    panic triggered during kernel booting.
    
    This patch tries to address the issue by grabing one queue usage
    counter during freeing one request and the following run queue.
    
    Fixes: 1311326cf4755c7 ("blk-mq: avoid to synchronize rcu inside blk_cleanup_queue()")
    Cc: Andrew Jones <drjones@redhat.com>
    Cc: Bart Van Assche <bart.vanassche@wdc.com>
    Cc: linux-scsi@vger.kernel.org
    Cc: Martin K. Petersen <martin.petersen@oracle.com>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: James E.J. Bottomley <jejb@linux.vnet.ibm.com>
    Cc: stable <stable@vger.kernel.org>
    Cc: jianchao.wang <jianchao.w.wang@oracle.com>
    Signed-off-by: Ming Lei <ming.lei@redhat.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 07a252b478fb1321021931cae559a0573c141ab9 ......
	 orig commit -> b04f50ab8a74129b3041a2836c33c916be3c6667 ......
checking 2f9cd8588241f725fbe0c8cc56c1bd7e092e7b48 ......
	 orig commit -> cd0e0ca69109d025b1a1b6609f70682db62138b0 ......
checking 2c7de6d9c0d726bbf0844f6de2164bb96d2e1650 ......
	 orig commit -> 1416270f4a1ae83ea84156ceba19a66a8f88be1f ......
checking 7a5096cf28864f65f1926e5d63e19ad6fe0431bb ......
	 orig commit -> fa519f701d27198a2858bb108fc18ea9d8c106a7 ......
checking c8831347d7060b48c5e68587ef5b774f9c10c3a0 ......
	 orig commit -> ff2d6acdf6f13d9f8fdcd890844c6d7535ac1f10 ......
		 ff2d6acdf6f13d9f8fdcd890844c6d7535ac1f10 has problem. Fixes commit -> 5363857b916c1f48027e9b96ee8be8376bf20811
commit 7852f54f08a0a7222235561fc57ccd83f1c358d4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 29 12:05:19 2018 +0100

    ALSA: pcm: Fix interval evaluation with openmin/max
    
    commit 5363857b916c1f48027e9b96ee8be8376bf20811 upstream.
    
    As addressed in alsa-lib (commit b420056604f0), we need to fix the
    case where the evaluation of PCM interval "(x x+1]" leading to
    -EINVAL.  After applying rules, such an interval may be translated as
    "(x x+1)".
    
    Fixes: ff2d6acdf6f1 ("ALSA: pcm: Fix snd_interval_refine first/last with open min/max")
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 8be95762229a173c76ded9d2340b2aeffd6a553b ......
	 orig commit -> 7874b919866ba91bac253fa219d3d4c82bb944df ......
checking bb2874bba8eec8dbeed8de569f4d918deca70c97 ......
	 orig commit -> e47cb828eb3fca3e8999a0b9aa053dda18552071 ......
checking bb9dcbf97a9be5a144f65c36e3fdd460307e52f4 ......
	 orig commit -> 193c2a07cfaacb9249ab0e3d34bce32490879355 ......
checking 80784cba90f3e976ac44a18d9dce45d6c706a624 ......
	 orig commit -> 8c8f74f327a76604a499fad8c54c15e1c0ee8051 ......
checking 4101e59a294a401a4fece73bfae7d068b3a992bb ......
	 orig commit -> b23ec59926faf05b0c43680d05671c484e810ac4 ......
checking 492b804d7fa54d528501b88f49a3f58b2a62320a ......
	 orig commit -> 9506755633d0b32ef76f67c345000178e9b0dfc4 ......
checking 34240e87d244a1db8ec4cc4997ee44bf4a54d680 ......
	 orig commit -> 678c5b119307c40f9a17152512f9c949d0ec7292 ......
checking 8e3015e8736ab82811ce11b9ee8adba2d8a40464 ......
	 orig commit -> 5cedd22370a0a460b663c06de1fc10b4ba3c5d0b ......
checking 4334c6e1fcb1daf7be590d22e0569f6b19cd7ffe ......
	 orig commit -> ccff2dfaceaca4517432f5c149594215fe9098cc ......
checking 7a46541d1ecca8d42eb3d39cd9bae354c27ace41 ......
	 orig commit -> fe470f5f7f684ed15bc49b6183a64237547910ff ......
checking e593232f6110c6c9f41c4ec3526de1bcad26712a ......
	 orig commit -> 8fe5c5a937d0f4e84221631833a2718afde52285 ......
checking 8eefff55ccf05d600c5793fa0ff90b49b195c932 ......
	 orig commit -> faa1a47388b33623e4d504c23569188907b039a0 ......
checking 62411c32d1672ea51cfce468e6cbfae364cac57e ......
	 orig commit -> b59fb482b52269977ee5de205308e5b236a03917 ......
checking 7b549a0711626a06d46b944a7a53fad0f8418f74 ......
	 orig commit -> eaeb9010bb4bcdc20e58254fa42f3fe730a7f908 ......
		 eaeb9010bb4bcdc20e58254fa42f3fe730a7f908 has problem. Fixes commit -> 909e9c9c428376e2a43d178ed4b0a2d5ba9cb7d3
commit 19525f7b031f1018a74ed3760b81a4f0f3940fa3
Author: YueHaibing <yuehaibing@huawei.com>
Date:   Thu Feb 28 20:24:59 2019 +0800

    drm/nouveau/debugfs: Fix check of pm_runtime_get_sync failure
    
    [ Upstream commit 909e9c9c428376e2a43d178ed4b0a2d5ba9cb7d3 ]
    
    pm_runtime_get_sync returns negative on failure.
    
    Fixes: eaeb9010bb4b ("drm/nouveau/debugfs: Wake up GPU before doing any reclocking")
    Signed-off-by: YueHaibing <yuehaibing@huawei.com>
    Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
    Signed-off-by: Sasha Levin <sashal@kernel.org>
checking 96ff197fab41164f4b8e41710dca73717d6333ac ......
	 orig commit -> 922a8c82fafdec99688bbaea6c5889f562a42cdc ......
checking 636a9a7d52219fcf4364044a71947e3eebc2ac10 ......
	 orig commit -> 1b5190c2e74c47ebe4bcecf7a072358ad9f1feaa ......
checking 26bea7e6d2cabf0e3a71f577640dbd78b2715ac7 ......
	 orig commit -> 127407e36f4fe3a1d5e8b9998b479956ce83a7dc ......
checking 58d402738d9fd6f9fbb779dd8e44be803f2f6cb1 ......
	 orig commit -> 5552d7ad596c3fea953f40fef74170ce0760c04d ......
checking 49c90d012ab47625e0b41a1d8d49b3ce1ca8a5a7 ......
	 orig commit -> fada18c48d774b9e837928ecdce6a5d5fdd11ee7 ......
checking 3c11fe1edaff491fd43fc9270282e04981621d99 ......
	 orig commit -> 1cee38f0363a88db374e50b232ca17b9a4c12fa0 ......
checking ed3151e4221452a77305e28ba1728db84bc08429 ......
	 orig commit -> d36d0e6309dd8137cf438cbb680e72eb63c81425 ......
checking 7ec40f0ab2582b91f1e943544e06e80f016871d2 ......
	 orig commit -> ac13d6d8eaded15c67265eafc32f439ea3a0ac4a ......
checking 6c4abbeb250948f916dce05e972861b263531008 ......
	 orig commit -> 81646a3d39ef14749301374a3a0b8311384cd412 ......
checking e1912dc20ca6fde09108256aedcd194c953da342 ......
	 orig commit -> 9f30b5ae0585ca5234fe979294b8f897299dec99 ......
checking 24dbc773dd962d795739df2c29718e993587ac40 ......
	 orig commit -> d396cb185c0337aae5664b250cdd9a73f6eb1503 ......
checking 7fd683812e48ef8c52431adf6fc9eb14011a1abb ......
	 orig commit -> 61f0d55569463a1af897117ff47d202b0ccb2e24 ......
checking 9b85641c204b313f0dfe9b2a5969ec12c80d6669 ......
	 orig commit -> 76e079fefc8f62bd9b2cd2950814d1ee806e31a5 ......
checking 93cc60d04bed988b78bf50178ffaae9e89aa8499 ......
	 orig commit -> dc4003d260594aa300028c3c5d040c5719abd19b ......
checking bc87baee19a707b5edfed111dc1a7e6d2ac1e3a5 ......
	 orig commit -> cc57c07343bd071cdf1915a91a24ab7d40c9b590 ......
checking c2bd54bc222050856992e011e3a45b03e07cb647 ......
	 orig commit -> cd87668d601f622e0ebcfea4f78d116d5f572f4d ......
checking 55bdb77aa991c2dfd107c4805e334ad571f73a4f ......
	 orig commit -> 87ea58433208d17295e200d56be5e2a4fe4ce7d6 ......
checking bdf948eaa5593f82bb3345e0432a5671091f487d ......
	 orig commit -> 51eaa08f029c7343df846325d7cf047be8b96e81 ......
checking c818695c71068a30580064fc65fea51e074f57bf ......
	 orig commit -> e2861fa71641c6414831d628a1f4f793b6562580 ......
checking ef49d0e83711230b4a8e516c50953d3b549d8f36 ......
	 orig commit -> b71c69c26b4916d11b8d403d8e667bbd191f1b8f ......
checking 4f4374a9bd25b333971e6f2656b642d29e2efe7b ......
	 orig commit -> a6795a585929d94ca3e931bc8518f8deb8bbe627 ......
checking b888dba2e81d2b20d4896dcdebefb7e6d7e9697d ......
	 orig commit -> 6c6bc9ea84d0008024606bf5ba10519e20d851bf ......
checking 67e522a76d99a0035150b4640295aab2c573d455 ......
	 orig commit -> baa2a4fdd525c8c4b0f704d20457195b29437839 ......
checking a41ab6fe169943cfef516ee5230ba8ce55118112 ......
	 orig commit -> af0e09d0c6762e486b0eb5cc4737396964c34fad ......
checking ebb42f77db4230624e1d63fe65d1ac5fb9e0c4e9 ......
	 orig commit -> 0f4039104ee61e14ac4771a2181c2a20572f4ec9 ......
checking 62e052895d299f32ddeac4e5049c542a50a45d3e ......
	 orig commit -> 2f819db565e82e5f73cd42b39925098986693378 ......
checking 948f1a7f7607b0989a2321b4432ff3104ef6d845 ......
	 orig commit -> 994b15b983a72e1148a173b61e5b279219bb45ae ......
checking 9995545163fcbf2a8b762c15ce4585ae0924f568 ......
	 orig commit -> 6a92b11169a65b3f8cc512c75a252cbd0d096ba0 ......
checking d9951521dd801896889294d27c99aa94ce5abe26 ......
	 orig commit -> 02e184476eff848273826c1d6617bb37e5bcc7ad ......
checking 8c08224aee327ee4608c1b9f6acb34c9a1269c76 ......
	 orig commit -> ef439d49e0bfb26cd5f03c88b4cb7cc9073ed30c ......
checking f3259909c85e815ca474bd745a8465f67cdecd17 ......
	 orig commit -> 56446f218af1133c802dad8e9e116f07f381846c ......
checking 20c8102b322efc8a6f206714a1e0e5db1817aef6 ......
	 orig commit -> 8ad8aa353524d89fa2e09522f3078166ff78ec42 ......
checking 334902cfd93895076539d645e6615c525af8345f ......
	 orig commit -> df3aa13c7bbb307e172c37f193f9a7aa058d4739 ......
checking 80f539981a9b950ecc295ea9893e17f44c08ef9c ......
	 orig commit -> 6e22e3af7bb3a7b9dc53cb4687659f6e63fca427 ......
		 6e22e3af7bb3a7b9dc53cb4687659f6e63fca427 has problem. Fixes commit -> e871db8d78df1c411032cbb3acfdf8930509360e
commit be2360ed2d22761b8cfa5e891fd05ef08736dc71
Author: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
Date:   Tue Sep 11 10:00:44 2018 +0200

    Revert "usb: cdc-wdm: Fix a sleep-in-atomic-context bug in service_outstanding_interrupt()"
    
    commit e871db8d78df1c411032cbb3acfdf8930509360e upstream.
    
    This reverts commit 6e22e3af7bb3a7b9dc53cb4687659f6e63fca427.
    
    The bug the patch describes to, has been already fixed in commit
    2df6948428542 ("USB: cdc-wdm: don't enable interrupts in USB-giveback")
    so need to this, revert it.
    
    Fixes: 6e22e3af7bb3 ("usb: cdc-wdm: Fix a sleep-in-atomic-context bug in service_outstanding_interrupt()")
    Cc: stable <stable@vger.kernel.org>
    Signed-off-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking a383de0d80fa7fce143f93cebc4bd65ee782d928 ......
	 orig commit -> 7e10f14ebface44a48275c8d6dc1caae3668d5a9 ......
checking a98152a6feaa64c33684097eaeb4ff225fab8fca ......
	 orig commit -> 5dfdd24eb3d39d815bc952ae98128e967c9bba49 ......
checking a82200ced75f366e6d0740bf8a6fae3a212ea84c ......
	 orig commit -> bc8acc214d3f1cafebcbcd101a695bbac716595d ......
checking a7d9367ccbb69394662b1411c6d30065bc6d30c2 ......
	 orig commit -> 691a03cfe8ca483f9c48153b869d354e4ae3abef ......
checking d078f295a4c9159a52c63efca70da293cab0e4db ......
	 orig commit -> dec3c23c9aa1815f07d98ae0375b4cbc10971e13 ......
checking 3afbeb5cac2a32a07830676b1b81d02ff3ebe1b5 ......
	 orig commit -> dfe1a51d2a36647f74cbad478801efa7cf394376 ......
checking 6def1c171986c0ec589f29bb9cd061a9eb0e3d6b ......
	 orig commit -> 9b83a1c301ad6d24988a128c69b42cbaaf537d82 ......
checking 1dbc1fd713206b93cdc6ea6f915f11c41c8a9447 ......
	 orig commit -> 6d4f268fa132742fe96dad22307c68d237356d88 ......
checking 760c41fceb300b7388215d386c6e72c957753d26 ......
	 orig commit -> f9a5b4f58b280c1d26255376713c132f93837621 ......
checking 182d130384519b21f1b6dff45375899b099b67dd ......
	 orig commit -> 42d1c6d4a06a77b3ab206a919b9050c3080f3a71 ......
checking 0845f2a4776d2a2bab88de351ce174aa9f64ed39 ......
	 orig commit -> f45681f9becaa65111ed0a691ccf080a0cd5feb8 ......
checking 599f1e90f709a994f35fc20a3da8259535df5bad ......
	 orig commit -> 34f1166afd67f9f48a08c52f36180048908506a4 ......
checking b5936d2741c09eaa76daf53d1ebfd9886c357598 ......
	 orig commit -> 8d2d8935d30cc2acc57a3196dc10dfa8d5cbcdab ......
checking 4e237cfa575b247906375ee51d8f19584ff5c08d ......
	 orig commit -> f3dc41c5d22b2ca14a0802a65d8cdc33a3882d4e ......
checking 58eff5e715b078fbd50bdac890b52bed40e60be2 ......
	 orig commit -> 4937213ba7fafa13f30496b3965ffe93970d8b53 ......
checking fc320be61ff66604309d96cf1dee4ad3bb040d3d ......
	 orig commit -> de916736aaaadddbd6061472969f667b14204aa9 ......
checking 47358b34baa7deacaecda8b2d6196a72d5d54874 ......
	 orig commit -> 86503bd35dec0ce363e9fdbf5299927422ed3899 ......
checking 888e989a753a076d8323fd0c353c0bfcf016f9e8 ......
	 orig commit -> 0745dde62835be7e2afe62fcdb482fcad79cb743 ......
checking f6e23e57d06395aa690afc321160fafa4a093c87 ......
	 orig commit -> 3c398f3c3bef21961eaaeb93227fa66d440dc83d ......
checking 51e8d7d77ca8e6da9fb5162d5090bc06b8957cd8 ......
	 orig commit -> b81126e01a8c6048249955feea46c8217ebefa91 ......
checking b8b9c7f05b3cd11560c0d98dfbb20e06e68cb70e ......
	 orig commit -> 816e846c2eb9129a3e0afa5f920c8bbc71efecaa ......
checking 33e4afbb44fe3d84dd90274b738f6b1c7d0ef68e ......
	 orig commit -> 8edfe2e992b75aee3da9316e9697c531194c2f53 ......
checking 1e5b387747ba285a64348b9a96b246d0b9d52b03 ......
	 orig commit -> 831b624df1b420c8f9281ed1307a8db23afb72df ......
checking 8c705dea5e59509b55b46b5a833e1ed030485668 ......
	 orig commit -> 954a8e3aea87e896e320cf648c1a5bbe47de443e ......
checking a5d247607a5684335b8bedef148694e2e15b0181 ......
	 orig commit -> 21f2706b20100bb3db378461ab9b8e2035309b5b ......
checking ab25ad619343a741da0c8c03ee5cbc4023ca725d ......
	 orig commit -> 935232ce28dfabff1171e5a7113b2d865fa9ee63 ......
checking 16939943660cb459ac5abd76f7ed75a53cb48eb1 ......
	 orig commit -> 8c934e01a7ce685d98e970880f5941d79272c654 ......
checking 36d6a43a16e5ee79917ae58b85d5df8283483c1d ......
	 orig commit -> b2b7d986a89b6c94b1331a909de1217214fb08c1 ......
checking ef275ba514d97398a5a78bd23929663396872c58 ......
	 orig commit -> 0e7d4d932ffc23f75efb31a8c2ac2396c1b81c55 ......
checking 82c53969af8cee3d47181985feed6b19e9b193af ......
	 orig commit -> 8bbafed8dd5cfa81071b50ead5cb60367fdef3a9 ......
checking a8c0b9acf08f39e3b6fcf518fc0732f6fad64698 ......
	 orig commit -> 517fde0eb5a8f46c54ba6e2c36e32563b23cb14f ......
checking ab605544f62b5151c2cb276f6771a8c423378926 ......
	 orig commit -> 3297c8fc65af5d40501ea7cddff1b195cae57e4e ......
checking f3662e33251057a00354a48df6e7b0fadba7fb34 ......
	 orig commit -> 1d47191de7e15900f8fbfe7cccd7c6e1c2d7c31a ......
checking 9af3a46ec7def24d2df480cbf323036d4914ab12 ......
	 orig commit -> c2e2a618eb7104e18fdcf739d4d911563812a81c ......
checking 774367e940fcf1af3ec710d6a1b966bb8d94035f ......
	 orig commit -> 70551dc46ffa3555a0b5f3545b0cd87ab67fd002 ......
checking 6530985bcf82c68f22c77d79febd736896e7a5c1 ......
	 orig commit -> a702349a4099cd5a7bab0904689d8e0bf8dcd622 ......
checking a7909d3fabd3d2fe2227c1a6fdc9f99b97481a34 ......
	 orig commit -> 03864e57770a9541e7ff3990bacf2d9a2fffcd5d ......
checking 2e0a4d3f7c54beb48f7a5ea132c5b7246219296d ......
	 orig commit -> e53db018315b7660bb7000a29e79faff2496c2c2 ......
checking 45ac2120e7c412a26afb1f2cbda1dd3b8390df21 ......
	 orig commit -> 2d408c0d4574b01b9ed45e02516888bf925e11a9 ......
checking 69b400c1b15b6962ef52212d05e289b484c0decc ......
	 orig commit -> 07300f774fec9519663a597987a4083225588be4 ......
checking d08c50e8530bbcdbc8479d07b3668341d5ce5dfc ......
	 orig commit -> 3ea86495aef2f6de26b7cb1599ba350dd6a0c521 ......
		 3ea86495aef2f6de26b7cb1599ba350dd6a0c521 has problem. Fixes commit -> 33412b8673135b18ea42beb7f5117ed0091798b6
commit d6bfb89267efe3ae5eef1fc11984fae3dcd95137
Author: Ard Biesheuvel <ard.biesheuvel@linaro.org>
Date:   Wed Nov 14 09:55:41 2018 -0800

    efi/arm: Revert deferred unmap of early memmap mapping
    
    [ Upstream commit 33412b8673135b18ea42beb7f5117ed0091798b6 ]
    
    Commit:
    
      3ea86495aef2 ("efi/arm: preserve early mapping of UEFI memory map longer for BGRT")
    
    deferred the unmap of the early mapping of the UEFI memory map to
    accommodate the ACPI BGRT code, which looks up the memory type that
    backs the BGRT table to validate it against the requirements of the UEFI spec.
    
    Unfortunately, this causes problems on ARM, which does not permit
    early mappings to persist after paging_init() is called, resulting
    in a WARN() splat. Since we don't support the BGRT table on ARM anway,
    let's revert ARM to the old behaviour, which is to take down the
    early mapping at the end of efi_init().
    
    Signed-off-by: Ard Biesheuvel <ard.biesheuvel@linaro.org>
    Cc: Linus Torvalds <torvalds@linux-foundation.org>
    Cc: Peter Zijlstra <peterz@infradead.org>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: linux-efi@vger.kernel.org
    Fixes: 3ea86495aef2 ("efi/arm: preserve early mapping of UEFI memory ...")
    Link: http://lkml.kernel.org/r/20181114175544.12860-3-ard.biesheuvel@linaro.org
    Signed-off-by: Ingo Molnar <mingo@kernel.org>
    Signed-off-by: Sasha Levin <sashal@kernel.org>
checking 27adb89d1fd44f5f4d625a1a6679d835b3cd677e ......
	 orig commit -> 26fce0557fa639fb7bbc33e31a57cff7df25c3a0 ......
checking c1e2aee9952b8fa32606595d0ed1c05fd3f0086f ......
	 orig commit -> 14d6e289a89780377f8bb09de8926d3c62d763cd ......
checking 991bad26b38fbb1484c8dfe825c238bb182a208f ......
	 orig commit -> fd800f646402c0f85547166b59ca065175928b7b ......
checking bff663136d76ca017acc3fec1e2c108751429ffd ......
	 orig commit -> 129a99890936766f4b69b9da7ed88366313a9210 ......
checking 2b7844ed3c7a6939090260eec43309035ed44a57 ......
	 orig commit -> 133bf90dbb8b873286f8ec2e81ba26e863114b8c ......
checking 68c087ecddbc2ebab02287de5b9c2f68bbeddc57 ......
	 orig commit -> c6ea7e9747318e5a6774995f4f8e3e0f7c0fa8ba ......
checking c27516e62712ed2b8453fb61f17bf537e7c302ee ......
	 orig commit -> d96f8bd28cd0bae3e6702ae90df593628ef6906f ......
checking f80c5cf3de84c08803975e9e1846e414f3fedd4f ......
	 orig commit -> 5b70084f6cbcd53f615433f9d216e01bd71de0bb ......
checking f313b0593d4a95c701edb509fcd0db608b1ab673 ......
	 orig commit -> b7afce51d95726a619743aaad8870db66dfa1479 ......
checking c7afa2064c06b9520f7e3931db7456a166989caf ......
	 orig commit -> bd90284cc6c1c9e8e48c8eadd0c79574fcce0b81 ......
checking 737066efec608045559ce62abda4210962526349 ......
	 orig commit -> 6b8b9a48545e08345b8ff77c9fd51b1aebdbefb3 ......
checking 3cb3868f98f53468160eb732d30ef29aaf046ae3 ......
	 orig commit -> 90140624e8face94207003ac9a9d2a329b309d68 ......
checking fdfa7139899c0e1c21fb521d60d728c521bae822 ......
	 orig commit -> c715fcfda5a08edabaa15508742be926b7ee51db ......
checking 94b37e160cfeb80faccbb4f73709962e4ee169e9 ......
	 orig commit -> cd4806911cee3901bc2b5eb95603cf1958720b57 ......
checking c7c53dc8aad12c0112169a4fd4d2246f5ed5e42e ......
	 orig commit -> 1ba0a59cea41ea05fda92daaf2a2958a2246b9cf ......
checking 0b339773a30ea35b8193552926aaeeeab8be7d83 ......
	 orig commit -> b951d80aaf224b1f774e10def672f5e37488e4ee ......
checking b2b5343639d1f187fc93dccea356bec7a8036554 ......
	 orig commit -> 9068533e4f470daf2b0f29c71d865990acd8826e ......
checking 7ff8989cecf370f8aa4ee09fab4af244e0d165f6 ......
	 orig commit -> b6566b47a67e07fdca44cf51abb14e2fbe17d3eb ......
checking 6a736057f1bb0f2401da13b117daa4ecdab78032 ......
	 orig commit -> 5958fde72d04e7b8c6de3669d1f794a90997e3eb ......
checking b0c7f4ddbf18cbced70ae39c4bc01722de2b637c ......
	 orig commit -> 46b3722cc7765582354488da633aafffcb138458 ......
checking 3cfa558660f82586adc675a1d05796ce324a0a1d ......
	 orig commit -> 5ec1ec35b2979b59d0b33381e7c9aac17e159d16 ......
checking d38d272592737ea88a20bd93bed0f1cf88791c07 ......
	 orig commit -> e8fedff1cc729fd227924305152ccc6f580e8c83 ......
checking d074912d2edeae8eb08d3f85a3f0dab0b3606089 ......
	 orig commit -> e79e0e1428188b24c3b57309ffa54a33c4ae40c4 ......
checking b435dd667b9a225513165d78b7ec142635a060be ......
	 orig commit -> 9ef0112442bdddef5fb55adf20b3a5464b33de75 ......
		 9ef0112442bdddef5fb55adf20b3a5464b33de75 has problem. Fixes commit -> aa90f9f9554616d5738f7bedb4a8f0e5e14d1bc6
commit b8f4d375cd1ebc1bb5fbb174a0237eff24dcbd68
Author: Sandipan Das <sandipan@linux.ibm.com>
Date:   Thu Jul 26 22:47:33 2018 +0530

    perf tests: Fix indexing when invoking subtests
    
    [ Upstream commit aa90f9f9554616d5738f7bedb4a8f0e5e14d1bc6 ]
    
    Recently, the subtest numbering was changed to start from 1.  While it
    is fine for displaying results, this should not be the case when the
    subtests are actually invoked.
    
    Typically, the subtests are stored in zero-indexed arrays and invoked
    based on the index passed to the main test function.  Since the index
    now starts from 1, the second subtest in the array (index 1) gets
    invoked instead of the first (index 0).  This applies to all of the
    following subtests but for the last one, the subtest always fails
    because it does not meet the boundary condition of the subtest index
    being lesser than the number of subtests.
    
    This can be observed on powerpc64 and x86_64 systems running Fedora 28
    as shown below.
    
    Before:
    
      # perf test "builtin clang support"
      55: builtin clang support                                 :
      55.1: builtin clang compile C source to IR                : Ok
      55.2: builtin clang compile C source to ELF object        : FAILED!
    
      # perf test "LLVM search and compile"
      38: LLVM search and compile                               :
      38.1: Basic BPF llvm compile                              : Ok
      38.2: kbuild searching                                    : Ok
      38.3: Compile source for BPF prologue generation          : Ok
      38.4: Compile source for BPF relocation                   : FAILED!
    
      # perf test "BPF filter"
      40: BPF filter                                            :
      40.1: Basic BPF filtering                                 : Ok
      40.2: BPF pinning                                         : Ok
      40.3: BPF prologue generation                             : Ok
      40.4: BPF relocation checker                              : FAILED!
    
    After:
    
      # perf test "builtin clang support"
      55: builtin clang support                                 :
      55.1: builtin clang compile C source to IR                : Ok
      55.2: builtin clang compile C source to ELF object        : Ok
    
      # perf test "LLVM search and compile"
      38: LLVM search and compile                               :
      38.1: Basic BPF llvm compile                              : Ok
      38.2: kbuild searching                                    : Ok
      38.3: Compile source for BPF prologue generation          : Ok
      38.4: Compile source for BPF relocation                   : Ok
    
      # perf test "BPF filter"
      40: BPF filter                                            :
      40.1: Basic BPF filtering                                 : Ok
      40.2: BPF pinning                                         : Ok
      40.3: BPF prologue generation                             : Ok
      40.4: BPF relocation checker                              : Ok
    
    Signed-off-by: Sandipan Das <sandipan@linux.ibm.com>
    Reported-by: Arnaldo Carvalho de Melo <acme@redhat.com>
    Tested-by: Arnaldo Carvalho de Melo <acme@redhat.com>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Hendrik Brueckner <brueckner@linux.ibm.com>
    Cc: Jiri Olsa <jolsa@redhat.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Cc: Naveen N. Rao <naveen.n.rao@linux.vnet.ibm.com>
    Cc: Ravi Bangoria <ravi.bangoria@linux.ibm.com>
    Cc: Thomas Richter <tmricht@linux.ibm.com>
    Fixes: 9ef0112442bd ("perf test: Fix subtest number when showing results")
    Link: http://lkml.kernel.org/r/20180726171733.33208-1-sandipan@linux.ibm.com
    Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
    Signed-off-by: Sasha Levin <sashal@kernel.org>
checking f86f6ebc1bf5ab2394a2866ea66ebed6ae3ba978 ......
	 orig commit -> 4adb0a0432f489c5eb802b33dae7737f69e6fd7a ......
checking 28b6561183ed02dcb3a5f2d261c4a5b46976fa5c ......
	 orig commit -> 1d25e3eeed1d987404e2d2e451eebac8c15cecc1 ......
checking 745cb5eb3cef672b8a5acf0d63d8c9c2a1a3bf19 ......
	 orig commit -> 99a7e2bf704d64c966dfacede1ba2d9b47cb676e ......
checking 030f2ad6ce16f3c49e4d9c65a4cd36f477f8e7b9 ......
	 orig commit -> 42c9cdfe1e11e083dceb0f0c4977b758cf7403b9 ......
checking 394df591433deffef83b794bf95bd7ab12d56497 ......
	 orig commit -> 536ca245c512aedfd84cde072d7b3ca14b6e1792 ......
		 536ca245c512aedfd84cde072d7b3ca14b6e1792 has problem. Fixes commit -> 8b7b59d030cc0d34b83b0c556bb6365c9ae6ba77
checking 5b253f742006e6edfea85df31c69bf3e29fbf536 ......
	 orig commit -> b509d733d337417bcb7fa4a35be3b9a49332b724 ......
checking 9b4328303638947bd06604ed5dc906bf4c279cb8 ......
	 orig commit -> f8a7bfe1cb2c1ebfa07775c9c8ac0ad3ba8e5ff5 ......
checking e1cfd4533ffb2d882ef7a49e6b8d9ef033a95cd1 ......
	 orig commit -> e49756544a21f5625b379b3871d27d8500764670 ......
checking 58119f9bd94df9f52304d95296245daf3373e382 ......
	 orig commit -> 5a1a2f63d840dc2631505b607e11ff65ac1b7d3c ......
checking ee83ce188e0b11a7cac40b2625cd2f9889eaa025 ......
	 orig commit -> 9c2af1c7377a8a6ef86e5cabf80978f3dbbb25c0 ......
checking 62e442fdbcb25ef7adbcad5145137806df327a3f ......
	 orig commit -> f6dab4233d6b64d719109040503b567f71fbfa01 ......
checking d8e7792fae4f54cab45f9877ac3c19966e0f2ce3 ......
	 orig commit -> 365f7a89c881e84f1ebc925f65f899d5d7ce547e ......
checking 45c800f555b08ce80d3f178907fde3ea8658c0ab ......
	 orig commit -> 11177e7a7aaef95935592072985526ebf0a3df43 ......
checking 0fe570942c0d50abb19f3f533ff964ea0cb94ace ......
	 orig commit -> 776125785a87ff05d49938bd5b9f336f2a05bff6 ......
checking 36eb78a6cec7ac9902a84bdb9e11209f415f75ca ......
	 orig commit -> b24dbfe9ce03d9f83306616f22fb0e04e8960abe ......
checking 318f224d1214178870fd096304607cc8c8aadd1b ......
	 orig commit -> 934ffce1343f22ed5e2d0bd6da4440f4848074de ......
checking a51e519d5b4b20d63af112301e515160c588e039 ......
	 orig commit -> bd1cd0eb2ce9141100628d476ead4de485501b29 ......
checking f402334e5d328c9480f32ded3fe3bfeba53ac7fb ......
	 orig commit -> 7c500f9ea139d0c9b80fdea5a9c911db3166ea54 ......
checking 918cad16b45810da7b0d0fa605377630fa9ebedd ......
	 orig commit -> 29859aeb8a6ea17ba207933a81b6b77b4d4df81a ......
checking ea4b3539ab5dfb449a951a38605b553762d34c89 ......
	 orig commit -> 0d535967ac658966c6ade8f82b5799092f7d5441 ......
checking a574b059c0dff9fb6560c5b6fa113314e32b0bcd ......
	 orig commit -> 9a7faac3650216112e034b157289bf1a48a99e2d ......
checking 4b2a6ecd21859d5097af6ef009582c4a416480c5 ......
	 orig commit -> b19b46346f483ae055fa027cb2d5c2ca91484b91 ......
checking effa7afc5283ecbbdbb4af86eb1be4e710edb136 ......
	 orig commit -> 5cf4a8532c992bb22a9ecd5f6d93f873f4eaccc2 ......
checking 1beb52cea6cbfe24137587087e7818b620324714 ......
	 orig commit -> 5a64506b5c2c3cdb29d817723205330378075448 ......
checking 456191a8554ac6a16d6f497d1bf64d53ca173a68 ......
	 orig commit -> 51dc63e3911fbb1f0a7a32da2fe56253e2040ea4 ......
checking 04f625fc5a68905f47349ec54538eff5523f29a5 ......
	 orig commit -> 52ea992cfac357b73180d5c051dca43bc8d20c2a ......
checking 1de5a956681d09a1c64d569bf5c799ba1e645522 ......
	 orig commit -> c88a026e01219488e745f4f0267fd76c2bb68421 ......
checking f8ce022004ca10d218c50f7822726fcd651431d5 ......
	 orig commit -> 5df816e7f43f1297c40021ef17ec6e722b45c82f ......
checking 571f1f6862bf8dfdffe2e833089122a75a19a7b8 ......
	 orig commit -> 47bc94b82291e007da61ee1b3d18c77871f3e158 ......
checking 5ff9c51cbd66e53b70ce50c6ff59908e54576f51 ......
	 orig commit -> cc4dfb7f70a344f24c1c71e298deea0771dadcb2 ......
		 cc4dfb7f70a344f24c1c71e298deea0771dadcb2 has problem. Fixes commit -> 6fa19f5637a6c22bc0999596bcc83bdcac8a4fa6
commit b28b106b1fda3e05986e4d945cac0c6f24c5e85a
Author: Eric Dumazet <edumazet@google.com>
Date:   Thu Jan 31 08:47:10 2019 -0800

    rds: fix refcount bug in rds_sock_addref
    
    [ Upstream commit 6fa19f5637a6c22bc0999596bcc83bdcac8a4fa6 ]
    
    syzbot was able to catch a bug in rds [1]
    
    The issue here is that the socket might be found in a hash table
    but that its refcount has already be set to 0 by another cpu.
    
    We need to use refcount_inc_not_zero() to be safe here.
    
    [1]
    
    refcount_t: increment on 0; use-after-free.
    WARNING: CPU: 1 PID: 23129 at lib/refcount.c:153 refcount_inc_checked lib/refcount.c:153 [inline]
    WARNING: CPU: 1 PID: 23129 at lib/refcount.c:153 refcount_inc_checked+0x61/0x70 lib/refcount.c:151
    Kernel panic - not syncing: panic_on_warn set ...
    CPU: 1 PID: 23129 Comm: syz-executor3 Not tainted 5.0.0-rc4+ #53
    Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
    Call Trace:
     __dump_stack lib/dump_stack.c:77 [inline]
     dump_stack+0x1db/0x2d0 lib/dump_stack.c:113
     panic+0x2cb/0x65c kernel/panic.c:214
     __warn.cold+0x20/0x48 kernel/panic.c:571
     report_bug+0x263/0x2b0 lib/bug.c:186
     fixup_bug arch/x86/kernel/traps.c:178 [inline]
     fixup_bug arch/x86/kernel/traps.c:173 [inline]
     do_error_trap+0x11b/0x200 arch/x86/kernel/traps.c:271
     do_invalid_op+0x37/0x50 arch/x86/kernel/traps.c:290
     invalid_op+0x14/0x20 arch/x86/entry/entry_64.S:973
    RIP: 0010:refcount_inc_checked lib/refcount.c:153 [inline]
    RIP: 0010:refcount_inc_checked+0x61/0x70 lib/refcount.c:151
    Code: 1d 51 63 c8 06 31 ff 89 de e8 eb 1b f2 fd 84 db 75 dd e8 a2 1a f2 fd 48 c7 c7 60 9f 81 88 c6 05 31 63 c8 06 01 e8 af 65 bb fd <0f> 0b eb c1 90 66 2e 0f 1f 84 00 00 00 00 00 55 48 89 e5 41 54 49
    RSP: 0018:ffff8880a0cbf1e8 EFLAGS: 00010282
    RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffc90006113000
    RDX: 000000000001047d RSI: ffffffff81685776 RDI: 0000000000000005
    RBP: ffff8880a0cbf1f8 R08: ffff888097c9e100 R09: ffffed1015ce5021
    R10: ffffed1015ce5020 R11: ffff8880ae728107 R12: ffff8880723c20c0
    R13: ffff8880723c24b0 R14: dffffc0000000000 R15: ffffed1014197e64
     sock_hold include/net/sock.h:647 [inline]
     rds_sock_addref+0x19/0x20 net/rds/af_rds.c:675
     rds_find_bound+0x97c/0x1080 net/rds/bind.c:82
     rds_recv_incoming+0x3be/0x1430 net/rds/recv.c:362
     rds_loop_xmit+0xf3/0x2a0 net/rds/loop.c:96
     rds_send_xmit+0x1355/0x2a10 net/rds/send.c:355
     rds_sendmsg+0x323c/0x44e0 net/rds/send.c:1368
     sock_sendmsg_nosec net/socket.c:621 [inline]
     sock_sendmsg+0xdd/0x130 net/socket.c:631
     __sys_sendto+0x387/0x5f0 net/socket.c:1788
     __do_sys_sendto net/socket.c:1800 [inline]
     __se_sys_sendto net/socket.c:1796 [inline]
     __x64_sys_sendto+0xe1/0x1a0 net/socket.c:1796
     do_syscall_64+0x1a3/0x800 arch/x86/entry/common.c:290
     entry_SYSCALL_64_after_hwframe+0x49/0xbe
    RIP: 0033:0x458089
    Code: 6d b7 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 3b b7 fb ff c3 66 2e 0f 1f 84 00 00 00 00
    RSP: 002b:00007fc266df8c78 EFLAGS: 00000246 ORIG_RAX: 000000000000002c
    RAX: ffffffffffffffda RBX: 0000000000000006 RCX: 0000000000458089
    RDX: 0000000000000000 RSI: 00000000204b3fff RDI: 0000000000000005
    RBP: 000000000073bf00 R08: 00000000202b4000 R09: 0000000000000010
    R10: 0000000000000000 R11: 0000000000000246 R12: 00007fc266df96d4
    R13: 00000000004c56e4 R14: 00000000004d94a8 R15: 00000000ffffffff
    
    Fixes: cc4dfb7f70a3 ("rds: fix two RCU related problems")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Reported-by: syzbot <syzkaller@googlegroups.com>
    Cc: Sowmini Varadhan <sowmini.varadhan@oracle.com>
    Cc: Santosh Shilimkar <santosh.shilimkar@oracle.com>
    Cc: rds-devel@oss.oracle.com
    Cc: Cong Wang <xiyou.wangcong@gmail.com>
    Acked-by: Santosh Shilimkar <santosh.shilimkar@oracle.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking e4df3c97c379a7b0d067a954c9f84559d0a73c8e ......
	 orig commit -> e65a9e480e91ddf9e15155454d370cead64689c8 ......
checking 47f74ff0024397550a2fe5ecef7db3638223bafb ......
	 orig commit -> 76d5581c870454be5f1f1a106c57985902e7ea20 ......
checking 799d8f1f0de86caf67af23324bfc54997a2d277f ......
	 orig commit -> 9d7f19dc4673fbafebfcbf30eb90e09fa7d1c037 ......
