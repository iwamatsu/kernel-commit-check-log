Check from v4.14.88 to v4.14.89
Commit count: 91
checking 3beeb2615681fe87f4e6291ade669d50c27ce59a ......
checking 4465b31b75490c038777cfccfbdf2ba8e9e5286a ......
	 orig commit -> f9bfe4e6a9d08d405fe7b081ee9a13e649c97ecf ......
checking 01a166012cd16b9ce147744c514f228df6cf495e ......
	 orig commit -> 36d842194a57f1b21fbc6a6875f2fa2f9a7f8679 ......
checking d655a1a6684e0d6cc2429caeb4c5dd0fed4efb79 ......
	 orig commit -> bde1a7459623a66c2abec4d0a841e4b06cc88d9a ......
		 bde1a7459623a66c2abec4d0a841e4b06cc88d9a has problem. Fixes commit -> 693abe11aa6b27aed6eb8222162f8fb986325cef
commit a93404876d977150b37854b7c49253d9bcf6e726
Author: Kailang Yang <kailang@realtek.com>
Date:   Tue Jan 29 15:38:21 2019 +0800

    ALSA: hda/realtek - Fixed hp_pin no value
    
    commit 693abe11aa6b27aed6eb8222162f8fb986325cef upstream.
    
    Fix hp_pin always no value.
    
    [More notes on the changes:
    
     The hp_pin value that is referred in alc294_hp_init() is always zero
     at the moment the function gets called, hence this is actually
     useless as in the current code.
    
     And, this kind of init sequence should be called from the codec init
     callback, instead of the parser function.  So, the first fix in this
     patch to move the call call into its own init_hook.
    
     OTOH, this function is needed to be called only once after the boot,
     and it'd take too long for invoking at each resume (where the init
     callback gets called).  So we add a new flag and invoke this only
     once as an additional fix.
    
     The one case is still not covered, though: S4 resume.  But this
     change itself won't lead to any regression in that regard, so we
     leave S4 issue as is for now and fix it later.  -- tiwai ]
    
    Fixes: bde1a7459623 ("ALSA: hda/realtek - Fixed headphone issue for ALC700")
    Signed-off-by: Kailang Yang <kailang@realtek.com>
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 62711dc6898b3186a8a3501e4a3829add8624b3f ......
	 orig commit -> fa9c98e4b975bb3192ed6af09d9fa282ed3cd8a0 ......
checking 16906e5ad4cc0439d03dc294c0251f4c875ccef2 ......
	 orig commit -> fd29edc7232bc19f969e8f463138afc5472b3d5f ......
checking 5d2cc520d1f1ed929ef1f6b7ad57ddde9c42b651 ......
	 orig commit -> 320f35b7bf8cccf1997ca3126843535e1b95e9c4 ......
checking 891e5a89f0faf42766eefd476285d4779fd31a21 ......
	 orig commit -> 0b548e33e6cb2bff240fdaf1783783be15c29080 ......
checking 16c9a316f21f1bcde5ce0633848d61699d63bad3 ......
	 orig commit -> c14376de3a1befa70d9811ca2872d47367b48767 ......
checking 08b7a8f880a27631e25e23ac2569f7c2d166469e ......
	 orig commit -> fd5f7cde1b85d4c8e09ca46ce948e008a2377f64 ......
checking ef433725f5f054e44c11d40f2d80f35824351697 ......
	 orig commit -> c162d5b4338d72deed61aa65ed0f2f4ba2bbc8ab ......
checking 594231141b003939444a1202a02992b3d0adb23e ......
	 orig commit -> dbdda842fe96f8932bae554f0adf463c27c42bc7 ......
		 dbdda842fe96f8932bae554f0adf463c27c42bc7 has problem. Fixes commit -> c14376de3a1befa70d9811ca2872d47367b48767
commit 16c9a316f21f1bcde5ce0633848d61699d63bad3
Author: Petr Mladek <pmladek@suse.com>
Date:   Mon Feb 26 15:44:20 2018 +0100

    printk: Wake klogd when passing console_lock owner
    
    [ Upstream commit c14376de3a1befa70d9811ca2872d47367b48767 ]
    
    wake_klogd is a local variable in console_unlock(). The information
    is lost when the console_lock owner using the busy wait added by
    the commit dbdda842fe96f8932 ("printk: Add console owner and waiter
    logic to load balance console writes"). The following race is
    possible:
    
    CPU0                            CPU1
    console_unlock()
    
      for (;;)
         /* calling console for last message */
    
                                    printk()
                                      log_store()
                                        log_next_seq++;
    
         /* see new message */
         if (seen_seq != log_next_seq) {
            wake_klogd = true;
            seen_seq = log_next_seq;
         }
    
         console_lock_spinning_enable();
    
                                      if (console_trylock_spinning())
                                         /* spinning */
    
         if (console_lock_spinning_disable_and_check()) {
            printk_safe_exit_irqrestore(flags);
            return;
    
                                      console_unlock()
                                        if (seen_seq != log_next_seq) {
                                        /* already seen */
                                        /* nothing to do */
    
    Result: Nobody would wakeup klogd.
    
    One solution would be to make a global variable from wake_klogd.
    But then we would need to manipulate it under a lock or so.
    
    This patch wakes klogd also when console_lock is passed to the
    spinning waiter. It looks like the right way to go. Also userspace
    should have a chance to see and store any "flood" of messages.
    
    Note that the very late klogd wake up was a historic solution.
    It made sense on single CPU systems or when sys_syslog() operations
    were synchronized using the big kernel lock like in v2.1.113.
    But it is questionable these days.
    
    Fixes: dbdda842fe96f8932 ("printk: Add console owner and waiter logic to load balance console writes")
    Link: http://lkml.kernel.org/r/20180226155734.dzwg3aovqnwtvkoy@pathway.suse.cz
    Cc: Steven Rostedt <rostedt@goodmis.org>
    Cc: linux-kernel@vger.kernel.org
    Cc: Tejun Heo <tj@kernel.org>
    Suggested-by: Sergey Senozhatsky <sergey.senozhatsky@gmail.com>
    Reviewed-by: Sergey Senozhatsky <sergey.senozhatsky@gmail.com>
    Signed-off-by: Petr Mladek <pmladek@suse.com>
    Signed-off-by: Sasha Levin <sashal@kernel.org>
checking 62582f67ff7617313b27b897ed02b569b712dcac ......
checking 56926f913bf8284f0d33d79cdf0421f0caec8a1f ......
	 orig commit -> 164f7e586739d07eb56af6f6d66acebb11f315c8 ......
checking 225b11374625aa4827fc1ee0b810c27dfe851809 ......
	 orig commit -> 8de456cf87ba863e028c4dd01bae44255ce3d835 ......
checking 95c8714e3fa0bee316600c46fd007fec2750206b ......
	 orig commit -> c7d7d620dcbd2a1c595092280ca943f2fced7bbd ......
checking 5ee5fa61d04e2bd8ab004f307bd6ad0808482746 ......
	 orig commit -> ce96a407adef126870b3f4a1b73529dd8aa80f49 ......
checking c7aafad098b066ceee0d6a3b2ba63573ef09dc38 ......
	 orig commit -> 8f416836c0d50b198cad1225132e5abebf8980dc ......
checking df2055c0eb8af72790060d6797cac9be56622412 ......
	 orig commit -> e21e57445a64598b29a6f629688f9b9a39e7242a ......
checking 8e3f3c06be02aaf0b09f11eafc3e2f567bdbd6d2 ......
	 orig commit -> ea2412dc21cc790335d319181dddc43682aef164 ......
checking 9407fd14d0ee929ea21571055ccf4361b6e2323a ......
	 orig commit -> f6c8e432cb0479255322c5d0335b9f1699a0270c ......
checking 0859bb2526fb3725d2b53142e67be38e12fca72b ......
	 orig commit -> 31ffa563833576bd49a8bf53120568312755e6e2 ......
checking 38026d1afcc1153aa6efebaeac7fc2a31c2779d0 ......
	 orig commit -> c5a94f434c82529afda290df3235e4d85873c5b4 ......
checking b718d6bede4bd6c8c6faac1369567f3d7587d4c1 ......
	 orig commit -> 89d328f637b9904b6d4c9af73c8a608b8dd4d6f8 ......
checking b9c242b4fad864505f679db31531903d1b3779e9 ......
	 orig commit -> 123664101aa2156d05251704fc63f9bcbf77741a ......
checking f02e0d5fb6695f69c51c38ef5567a5940791521f ......
	 orig commit -> 72791ac854fea36034fa7976b748fde585008e78 ......
checking 6ee9b4deecb18d75a533821864beb6fe598be4fa ......
	 orig commit -> 300625620314194d9e6d4f6dda71f2dc9cf62d9f ......
checking cc92ade5f498bb56f2316588c954d7371849b27b ......
	 orig commit -> ad97d9de45835b6a0f71983b0ae0cffd7306730a ......
checking 8a69edb8f7db6908910334399a9829f98163252e ......
	 orig commit -> c758940158bf29fe14e9d0f89d5848f227b48134 ......
checking 689dee4b72ff02c5e96afee94bac903b7bab5ed0 ......
	 orig commit -> a8bf879af7b1999eba36303ce9cc60e0e7dd816c ......
checking 9966f78ab603ee58909f411c8b034cef4d1b76ae ......
	 orig commit -> e4c39f7926b4de355f7df75651d75003806aae09 ......
checking 7b99a0d73be5fdbbdb0a0eef7de211f6359fc210 ......
	 orig commit -> 9a24ce5b66f9c8190d63b15f4473600db4935f1f ......
checking 397727e77f2f32af322f850b457c1503acdff220 ......
	 orig commit -> ca08987885a147643817d02bf260bc4756ce8cd4 ......
checking b641ee14cfc1fe4d665e8bca98de1d00ed043ba9 ......
	 orig commit -> c9287fa657b3328b4549c0ab39ea7f197a3d6a50 ......
checking ff791c9ec159ce294f949505bd0fe77881e67e02 ......
	 orig commit -> 24a6d2dd263bc910de018c78d1148b3e33b94512 ......
checking 7fdd58deeae47d51ce528ef3bfd1f638f3c399be ......
	 orig commit -> 1e4329ee2c52692ea42cc677fb2133519718b34a ......
checking bb3f86913bdad19cc9a0d0165ddd373ff8c930f7 ......
	 orig commit -> 354cb410d87314e2eda344feea84809e4261570a ......
checking 8f859b2729e980d511f29a68c3474aa27ead72b7 ......
	 orig commit -> 75b7b86bdb0df37e08e44b6c1f99010967f81944 ......
checking 97f048033a07b199b98d5e8f10f1022f10d42ed4 ......
	 orig commit -> 508b09046c0f21678652fb66fd1e9959d55591d2 ......
		 508b09046c0f21678652fb66fd1e9959d55591d2 has problem. Fixes commit -> 15df03c661cb362366ecfc3a21820cb934f3e4ca
commit 8c2183d845a2ba36eefd9df8d3e975932ce5fd6b
Author: Eli Cooper <elicooper@gmx.com>
Date:   Mon Jan 21 18:45:27 2019 +0800

    netfilter: ipv6: Don't preserve original oif for loopback address
    
    commit 15df03c661cb362366ecfc3a21820cb934f3e4ca upstream.
    
    Commit 508b09046c0f ("netfilter: ipv6: Preserve link scope traffic
    original oif") made ip6_route_me_harder() keep the original oif for
    link-local and multicast packets. However, it also affected packets
    for the loopback address because it used rt6_need_strict().
    
    REDIRECT rules in the OUTPUT chain rewrite the destination to loopback
    address; thus its oif should not be preserved. This commit fixes the bug
    that redirected local packets are being dropped. Actually the packet was
    not exactly dropped; Instead it was sent out to the original oif rather
    than lo. When a packet with daddr ::1 is sent to the router, it is
    effectively dropped.
    
    Fixes: 508b09046c0f ("netfilter: ipv6: Preserve link scope traffic original oif")
    Signed-off-by: Eli Cooper <elicooper@gmx.com>
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking f47b8824a83057e9f63d39df86332ffeb703311f ......
	 orig commit -> 31e1ab494559fb46de304cc6c2aed1528f94b298 ......
checking ca993dead6b5ca2181185064502ea6b22797a857 ......
	 orig commit -> 069caf5950dfa75d0526cd89c439ff9d9d3136d8 ......
checking 72c982a3b1dddf68c3d5e259447994fdbf23b75a ......
	 orig commit -> 2c2322fbcab8102b8cadc09d66714700a2da42c2 ......
checking e68f6cb901194b9aa662dbe65b69486c32e58615 ......
	 orig commit -> 6ca6695f576b8453fe68865e84d25946d63b10ad ......
checking 09eb2b90d9e00acf0aa314f59b69de3b0037bb21 ......
	 orig commit -> 99f700366fcea1aa2fa3c49c99f371670c3c62f8 ......
checking 11f8633c5a334850e9171f4808f20f5a2039060e ......
	 orig commit -> 286afdde1640d8ea8916a0f05e811441fbbf4b9d ......
checking 57dea3802f389e38b4e3f4d439e0540f00359205 ......
	 orig commit -> 2a31e4bd9ad255ee40809b5c798c4b1c2b09703b ......
checking 9209043b29881a7ede5e34610c4feadd29e59e40 ......
	 orig commit -> 1efb6ee3edea57f57f9fb05dba8dcb3f7333f61f ......
checking 42cb0b9efc9e18e8b81e9a296082381fc8b70071 ......
	 orig commit -> 2084ac6c505a58f7efdec13eba633c6aaa085ca5 ......
checking bdafd18e24c8fcf704950dc48849e271cceee19f ......
	 orig commit -> ffdcc3638c58d55a6fa68b6e5dfd4fb4109652eb ......
checking 997a8d6c47fae788131e3b113841169d89ecf803 ......
	 orig commit -> 373a500e34aea97971c9d71e45edad458d3da98f ......
checking 4a3fa2a5fed133fd2f26e5f37acdb23ad6e0900c ......
	 orig commit -> dd2f52d8991af9fe0928d59ec502ba52be7bc38d ......
checking a625d3e3ce05d05f8f2e1e5d4546d12c94feec4d ......
	 orig commit -> 4f32fb921b153ae9ea280e02a3e91509fffc03d3 ......
checking 9692eefbee777b18e22998f0dc2852cf8f34174e ......
	 orig commit -> 074fca3a18e7e1e0d4d7dcc9d7badc43b90232f4 ......
checking 67080eb258b4329ff55eefcd11bdee295ce905e5 ......
	 orig commit -> a4390aee72713d9e73f1132bcdeb17d72fbbf974 ......
checking b254f11cc9304b757357460643003ea7087e6c5c ......
	 orig commit -> 4ab7ca092c3c7ac8b16aa28eba723a8868f82f14 ......
checking 5ce4164fff6735d7f26b3e465deb7133cea558e9 ......
	 orig commit -> 22566c1603030f0a036ad564634b064ad1a55db2 ......
checking de21975e71fe3fbb96b42fe6155d8a74fc74e4ca ......
	 orig commit -> 0b9301fb632f7111a3293a30cc5b20f1b82ed08d ......
checking 7d14117bd218a81f9f174af94b7c4f26aca16ad3 ......
	 orig commit -> 68bc10bf992180f269816ff3d22eb30383138577 ......
checking d36cc6073623904cfc937c649370b56bc0e7dd88 ......
	 orig commit -> b01c1f69c8660eaeab7d365cd570103c5c073a02 ......
checking ca0bcef7c60ba2cb12ca99e706adc3f024a4f8a7 ......
	 orig commit -> 09aaf6813cfca4c18034fda7a43e68763f34abb1 ......
checking f500a4ef7e5d7feddee380edfb1a1d91fc8fa627 ......
	 orig commit -> b4e955e9f372035361fbc6f07b21fe2cc6a5be4a ......
checking aa17c9c00ce006de2dd7b0eabed9e45b48d3d044 ......
	 orig commit -> 0145b50566e7de5637e80ecba96c7f0e6fff1aad ......
checking 55b648d1d624b9beced6384c8e2895b35dc69878 ......
	 orig commit -> 882eab6c28d23a970ae73b7eb831b169a672d456 ......
checking b65b4228bdaa8e9d67d10a9206f84df9a20c292d ......
	 orig commit -> 76836fd354922ebe4798a64fda01f8dc6a8b0984 ......
checking fd2c1ba142277bfd6f3488e6105c9eb643246ddc ......
	 orig commit -> 38cd989ee38c16388cde89db5b734f9d55b905f9 ......
checking 250dea0dfb12e2803d6de0105fae7177e4bd1b80 ......
	 orig commit -> 613a41b0d16e617f46776a93b975a1eeea96417c ......
checking 5391e32b9d0692abb1996ba3c3fdf2e0c97b72e4 ......
	 orig commit -> 20e00db2f59bdddf8a8e241473ef8be94631d3ae ......
checking de2324a00979257c7fff8cf9f2bdc3023957fef8 ......
	 orig commit -> 70df9ebbd82c794ddfbb49d45b337f18d5588dc2 ......
checking 38e22947994de227bc1ac57ec82314c24a605605 ......
	 orig commit -> 29e3880109e357fdc607b4393f8308cef6af9413 ......
		 29e3880109e357fdc607b4393f8308cef6af9413 has problem. Fixes commit -> 753c111f655e38bbd52fc01321266633f022ebe2
commit 7cfbf4cefbc9374abe54b4838a737e348e907337
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Feb 13 13:03:53 2019 +0100

    netfilter: nft_compat: use-after-free when deleting targets
    
    commit 753c111f655e38bbd52fc01321266633f022ebe2 upstream.
    
    Fetch pointer to module before target object is released.
    
    Fixes: 29e3880109e3 ("netfilter: nf_tables: fix use-after-free when deleting compat expressions")
    Fixes: 0ca743a55991 ("netfilter: nf_tables: add compatibility layer for x_tables")
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking cae5446b33f65162fe21fdb633a63619633e7ea1 ......
	 orig commit -> 25d8bcedbf4329895dbaf9dd67baa6f18dad918c ......
checking 2ac368e8d504d66c315483b16cb9a3750b4cfb15 ......
	 orig commit -> c4b7d1ba7d263b74bb72e9325262a67139605cde ......
checking 21ffeda14e83665ccd350005e3d51fdb0793d248 ......
	 orig commit -> cec83ff1241ec98113a19385ea9e9cfa9aa4125b ......
checking 5b2afd6261aeaf17da4953e07b731ca71bcabd17 ......
	 orig commit -> 3d8b804bc528d3720ec0c39c212af92dafaf6e84 ......
checking f55ad8d2a215da47b4f1a265a4b1b850ba7167a1 ......
	 orig commit -> c3e43d8b958bd6849817393483e805d8638a8ab7 ......
checking b34888a95334876d971199f94a0f44e818b4a396 ......
	 orig commit -> 3ee9a76a8c5a10e1bfb04b81db767c6d562ddaf3 ......
checking 635e16fc7402e663c03f45e92df5aa6acdf079fc ......
	 orig commit -> eef3dc34a1e0b01d53328b88c25237bcc7323777 ......
checking 520e8609ecf23a3a3ac4ba88f084cb11d00f082f ......
	 orig commit -> 436c9453a1ac0944b82870ef2e0d9be956b396d9 ......
checking 1d2cda4e8ffef837ff0f780633d536eb233a14d5 ......
	 orig commit -> 35b827b6d06199841a83839e8bb69c0cd13a28be ......
checking 6293016fbd9ba1b5ecc7d1afe67fb359d4c05512 ......
	 orig commit -> b2b7af861122a0c0f6260155c29a1b2e594cd5b5 ......
checking 5567e5fefaa904d051ce03a330183125f92d2d37 ......
	 orig commit -> 41727549de3e7281feb174d568c6e46823db8684 ......
		 41727549de3e7281feb174d568c6e46823db8684 has problem. Fixes commit -> f9bfe4e6a9d08d405fe7b081ee9a13e649c97ecf
commit 4465b31b75490c038777cfccfbdf2ba8e9e5286a
Author: Eric Dumazet <edumazet@google.com>
Date:   Thu Dec 6 09:58:24 2018 -0800

    tcp: lack of available data can also cause TSO defer
    
    commit f9bfe4e6a9d08d405fe7b081ee9a13e649c97ecf upstream.
    
    tcp_tso_should_defer() can return true in three different cases :
    
     1) We are cwnd-limited
     2) We are rwnd-limited
     3) We are application limited.
    
    Neal pointed out that my recent fix went too far, since
    it assumed that if we were not in 1) case, we must be rwnd-limited
    
    Fix this by properly populating the is_cwnd_limited and
    is_rwnd_limited booleans.
    
    After this change, we can finally move the silly check for FIN
    flag only for the application-limited case.
    
    The same move for EOR bit will be handled in net-next,
    since commit 1c09f7d073b1 ("tcp: do not try to defer skbs
    with eor mark (MSG_EOR)") is scheduled for linux-4.21
    
    Tested by running 200 concurrent netperf -t TCP_RR -- -r 60000,100
    and checking none of them was rwnd_limited in the chrono_stat
    output from "ss -ti" command.
    
    Fixes: 41727549de3e ("tcp: Do not underestimate rwnd_limited")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Suggested-by: Neal Cardwell <ncardwell@google.com>
    Reviewed-by: Neal Cardwell <ncardwell@google.com>
    Acked-by: Soheil Hassas Yeganeh <soheil@google.com>
    Reviewed-by: Yuchung Cheng <ycheng@google.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 862b5ab951551cd14ee13c8ab0bde21b63b93bd6 ......
	 orig commit -> fb6df5a6234c38a9c551559506a49a677ac6f07a ......
checking 22fa15e6f5b7b0cdf5ccd6beb5e2bf48aa6ac306 ......
	 orig commit -> 688838934c231bb08f46db687e57f6d8bf82709c ......
checking 56ed9f33e03f0a4070a8f3aba9d1ccc443d180a8 ......
	 orig commit -> 9410d386d0a829ace9558336263086c2fbbe8aed ......
checking e44c8cbd09da1c3a9f2c752492b8efa3a53487f9 ......
	 orig commit -> d2a36971ef595069b7a600d1144c2e0881a930a1 ......
checking 583e170ce81654554243790ac2e340ebe2180d14 ......
	 orig commit -> 24be19e47779d604d1492c114459dca9a92acf78 ......
checking 76f67ede4df921f5e4f0c02129a6407c977cab57 ......
	 orig commit -> bd5122cd1e0644d8bd8dd84517c932773e999766 ......
checking 4c65c73cf124dedd9bb64374851f7466d5704750 ......
	 orig commit -> a5d4a89245ead1f37ed135213653c5beebea4237 ......
checking 25f111f2432d69a5014503dc27cf729d6adea285 ......
	 orig commit -> 1b4e5ad5d6b9f15cd0b5121f86d4719165958417 ......
checking 9380dc7c5101c0ac539c282babd5d3c91394b94a ......
	 orig commit -> e6ac64d4c4d095085d7dd71cbd05704ac99829b2 ......
checking ece6a4b7efa8ec7764bda17ad37f46be5e141d16 ......
	 orig commit -> 66033f47ca60294a95fc85ec3a3cc909dab7b765 ......
checking da4b692991fc0f4ac74cb1546f52e67a8fe54801 ......
	 orig commit -> ebaf39e6032faf77218220707fc3fa22487784e0 ......
