Check from v4.14.113 to v4.14.114
Commit count: 73
checking fa5941f45d7ed070118b7c209b7f2c3a034293bd ......
checking 62c1af5fb31a72c229d17f812fa1fc37f69d4dbf ......
	 orig commit -> 9002b21465fa4d829edfc94a5a441005cffaa972 ......
checking 599c8a408f875477624384edd60ce0c821ff7c8a ......
	 orig commit -> 4a195a0bc2e954b91085d5c82eb20c51835ee7b0 ......
	 orig commit -> 71492580571467fb7177aade19c18ce7486267f5 ......
checking d6b11409047f4aa9b1fec4e665b5cd42fcf3bbdb ......
	 orig commit -> b59dfdaef173677b0b7e10f375226c0a1114fd20 ......
checking 4024e3bde13e46489634cd2734d1518b1d92aef4 ......
	 orig commit -> 6e643cd094de3bd0f97edcc1db0089afa24d909f ......
checking 2411a27e7475273aa10179d94bb00e958f6fbec5 ......
	 orig commit -> b7b2846fe26f2c0d7f317c874a13d3ecf22670ff ......
checking 4fa17fc730ba3b7f0cb69937df919a7a226067be ......
	 orig commit -> 5a9d929d6e13278df62bd9e3d3ceae8c87ad1eea ......
checking c5e44540ca312c4bbaafb1950c825a930c9adfdf ......
	 orig commit -> ba4aa02b417f08a0bee5e7b8ed70cac788a7c854 ......
checking 47ad82a34560ea70e85d2eb56be0ada03dc4fd35 ......
	 orig commit -> 00206a69ee32f03e6f40837684dcbe475ea02266 ......
checking 216f6570d18bcd06975205b8af1708ea10a1baf6 ......
	 orig commit -> 8c2f870890fd28e023b0fcf49dcee333f2c8bad7 ......
checking 98ae85677ebfac2fa2243a9c954d96ea58c08e85 ......
	 orig commit -> e8277b3b52240ec1caad8e6df278863e4bf42eac ......
checking 80ef021be19d3cdebe162c73b13d0f249d5bd2f3 ......
	 orig commit -> 0fcc4c8c044e117ac126ab6df4138ea9a67fa2a9 ......
checking d069fe4844f8d799d771659a745fe91870c93fda ......
	 orig commit -> 2e8e19226398db8265a8e675fcc0118b9e80c9e8 ......
checking 56714d4517b45acfb3747980fda39e018deb756a ......
	 orig commit -> a75bb4eb9e565b9f5115e2e8c07377ce32cbe69a ......
checking 74cec2565b14c3bd6d1c77d5e3ef9eaffab70404 ......
	 orig commit -> 997dd96471641e147cb2c33ad54284000d0f5e35 ......
checking 6925083963809d53f1d5ef58c2ef8a3792908166 ......
	 orig commit -> d4289fcc9b16b89619ee1c54f829e05e56de8b9a ......
		 d4289fcc9b16b89619ee1c54f829e05e56de8b9a has problem. Fixes commit -> 47d3d7fdb10a21c223036b58bd70ffdc24a472c4
checking 5d827bfe37a5cecd1de33405afde4708657643c5 ......
	 orig commit -> 70b095c84326640eeacfd69a411db8fc36e8ab1a ......
checking ccfa73daf762f3adac3f6c0e2f09c3c74548775f ......
	 orig commit -> c23f35d19db3b36ffb9e04b08f1d91565d15f84f ......
checking a885a0ff776680ab6cb79cf891a81da9a2c18371 ......
	 orig commit -> 415787d7799f4fccbe8d49cb0b8e5811be6b0389 ......
checking 00a22235025c6d12ee5d67cf50698ea93181b0b6 ......
	 orig commit -> 442601e87a4769a8daba4976ec3afa5222ca211d ......
checking 10bd1c7ad3894bb9bf2a6d2f3669b5b674f1e59e ......
	 orig commit -> f880eea68fe593342fa6e09be9bb661f3c297aec ......
checking 1a7fe5cb7a04ebc00cc282bb227bb8b78f52138b ......
	 orig commit -> ec91e78d378cc5d4b43805a1227d8e04e5dfa17d ......
checking c728ffc5150c0e7b6c895f281a3d37c1bef52a10 ......
	 orig commit -> af849c86109d79222e549826068bbf4e7f9a2472 ......
checking 45fd8679ea86bffb352132a1df4917c3d11375aa ......
	 orig commit -> 869f8a69bb3a4aec4eb914a330d4ba53a9eed495 ......
checking f83cf258b928b94a908d88e692f14ef459f927db ......
	 orig commit -> 4bf780996669280171c9cd58196512849b93434e ......
checking 4cec35e8e251eb953869c199c2a33e841e422fc4 ......
	 orig commit -> fc340115ffb8235c1bbd200c28855e6373d0dd1a ......
checking 3b921dc46fe13fa20d7bc83df3eaa7511bb2717e ......
	 orig commit -> 2f5fb19341883bb6e37da351bc3700489d8506a7 ......
checking 55e7e51f750b91adbce9784cd0283f79b6d07af3 ......
	 orig commit -> 9d5dcc93a6ddfc78124f006ccd3637ce070ef2fc ......
checking 607d291cfc7b5df5df5194fe8a32d22ec1960aa4 ......
	 orig commit -> 1de7edbb59c8f1b46071f66c5c97b8a59569eb51 ......
checking 59809557e84e22d1ae75703a237b020a4acc9508 ......
	 orig commit -> 3fe3331bb285700ab2253dbb07f8e478fcea2f1b ......
checking 5efba8d96466b824aa9d205fe6eabcec2c6aa960 ......
	 orig commit -> 4856bfd230985e43e84c26473c91028ff0a533bd ......
checking 8a80544c5e6f50e7796380381f285488af47287f ......
	 orig commit -> 746ba11f170603bf1eaade817553a6c2e9135bbe ......
checking 5e8002fb22201466d27022c03a5911b30034ff7a ......
	 orig commit -> 5f843ed415581cfad4ef8fefe31c138a8346ca8a ......
checking 18a0a7c1f9d5150dd6da3adf93e2275717f6c6d6 ......
	 orig commit -> fabe38ab6b2bd9418350284c63825f13b8a6abba ......
checking 877e9c51c96cd5ad92b45e36447e275374efc7af ......
	 orig commit -> 3ff9c075cc767b3060bdac12da72fc94dd7da1b8 ......
checking 1f2b61e4657950b96722a5a6c6dd535347d55e8a ......
	 orig commit -> ff8acf929014b7f87315588e0daf8597c8aa9d1c ......
checking 4de25ac0e2d22198395ae6f2ddd133fb824ea9e5 ......
	 orig commit -> 678cce4019d746da6c680c48ba9e6d417803e127 ......
checking bb461ad8e6e0653fc6bd0f26d9173bab0aec235b ......
	 orig commit -> 04f5866e41fb70690e28397487d8bd8eea7d712a ......
checking c197e4693aca226675ffdce69ee5638842fbdfe6 ......
	 orig commit -> 4a58038b9e420276157785afa0a0bbb4b9bc2265 ......
checking bc6b83db8f5ae658f1db0855bcc03c8366b9084e ......
	 orig commit -> 0228034d8e5915b98c33db35a98f5e909e848ae9 ......
checking 49c67980e52ba3bfc7675c777d4896e9ea741efe ......
	 orig commit -> be549d49115422f846b6d96ee8fd7173a5f7ceb0 ......
checking d11a33e9ba584bb6f5cc74df9d74b26156ba9bb2 ......
	 orig commit -> 2a3f7221acddfe1caa9ff09b3a8158c39b2fdeac ......
checking cfb5fb042ee1c8dbfbce53016f331c97c4f29411 ......
	 orig commit -> b26e36b7ef36a8a3a147b1609b2505f8a4ecf511 ......
		 b26e36b7ef36a8a3a147b1609b2505f8a4ecf511 has problem. Fixes commit -> 0a29c57b76624723b6b00c027e0e992d130ace49
commit b4a9378e93cd27d10cc2900748f54c66acfe2603
Author: Kailang Yang <kailang@realtek.com>
Date:   Wed Apr 24 16:34:25 2019 +0800

    ALSA: hda/realtek - Add new Dell platform for headset mode
    
    commit 0a29c57b76624723b6b00c027e0e992d130ace49 upstream.
    
    Add two Dell platform for headset mode.
    
    [ Note: this is a further correction / addition of the previous
      pin-based quirks for Dell machines; another entry for ALC236 with
      the d-mic pin 0x12 and an entry for ALC295 -- tiwai ]
    
    Fixes: b26e36b7ef36 ("ALSA: hda/realtek - add two more pin configuration sets to quirk table")
    Signed-off-by: Kailang Yang <kailang@realtek.com>
    Cc: <stable@vger.kernel.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 9ae4c50f5e5284808370b47e22a2d0f7dcb38e34 ......
	 orig commit -> af4b54a2e5ba18259ff9aac445bf546dd60d037e ......
checking 72cd1a3275cfc4a57d4e0799237666def6fc2510 ......
	 orig commit -> 660cf4ce9d0f3497cc7456eaa6d74c8b71d6282c ......
checking 9de6de262c33c8700a2af6209ba732595eb0f94e ......
	 orig commit -> 663d294b4768bfd89e529e069bffa544a830b5bf ......
checking 586f669a2f06818d0c509b17dbd5ab8e216c3ba0 ......
	 orig commit -> 08b7c2f9208f0e2a32159e4e7a4831b7adb10a3e ......
checking de970d4efc3bfb944d4c835bed5b73b8f96a10c5 ......
	 orig commit -> fe2d3df639a7940a125a33d6460529b9689c5406 ......
checking 0386fd65c2db218972a1965471d9c0428a4f5aba ......
	 orig commit -> 7f75591fc5a123929a29636834d1bcb8b5c9fee3 ......
checking fe400daf26deaf94cb182fec48b80079d305097e ......
	 orig commit -> 09c6bdee51183a575bf7546890c8c137a75a2b44 ......
checking 1ae7297b737d39fe42cec4de3151e54aefec3666 ......
	 orig commit -> 20ea39ef9f2f911bd01c69519e7d69cfec79fde3 ......
checking 8ba5d597593acc318e426d7931d32719039b5138 ......
	 orig commit -> 06003531502d06bc89d32528f6ec96bf978790f9 ......
checking ad0f65cd55b88f2e4d49968f9d5aba26fe3e8c1c ......
	 orig commit -> fccfb9ce70ed4ea7a145f77b86de62e38178517f ......
checking 0336305753a66205f0b74ab9c7236cd436238870 ......
	 orig commit -> 3d02d7082e5823598090530c3988a35f69689943 ......
checking f245ce44d58e88c74d37d73b23ac9617789038d2 ......
	 orig commit -> 40a7198a4a01037003c7ca714f0d048a61e729ac ......
checking b7ad00c028ab8ab238cc72906b8fdb6ed3c874ea ......
	 orig commit -> 409a51e0a4a5f908763191fae2c29008632eb712 ......
checking 63aafa6501a5640032107fe9647818a930b18222 ......
	 orig commit -> 7ce0f216221856a17fc4934b39284678a5fef2e9 ......
checking b69e4d5f1ab43ea3c5e41ac841606eaffdc61402 ......
	 orig commit -> 0a8a29be499cbb67df79370aaf5109085509feb8 ......
checking 8091c2ae4a1949f0f2cb8b48a6ccaf383661a76b ......
	 orig commit -> 99c221796a810055974b54c02e8f53297e48d146 ......
checking bc1919400960a50e50ff55b0fde97342e4be621b ......
	 orig commit -> 8f4dc2e77cdfaf7e644ef29693fa229db29ee1de ......
checking 53fc31a4853e30d6e8f142b824f724da27ff3e40 ......
	 orig commit -> b98749cac4a695f084a5ff076f4510b23e353ecd ......
checking 4a692bc1d5fa706d9170404c34b3efa190ebf039 ......
	 orig commit -> 1f227d16083b2e280b7dde4ca78883d75593f2fd ......
checking 6d5d30e03309fc22a48fc522b2e3f3c02c130092 ......
	 orig commit -> 5ee15c101f29e0093ffb5448773ccbc786eb313b ......
checking 0a7e8300b7f4cf72a6f1c0c2799d92149465c414 ......
	 orig commit -> c543cb4a5f07e09237ec0fc2c60c9f131b2c79ad ......
checking 3d988fcddbe7b8673a231958bd2fba61b5a7ced9 ......
	 orig commit -> ed0de45a1008991fdaa27a0152befcb74d126a8b ......
		 ed0de45a1008991fdaa27a0152befcb74d126a8b has problem. Fixes commit -> 20ff83f10f113c88d0bb74589389b05250994c16
c543cb4a5f07e09237ec0fc2c60c9f131b2c79ad
commit 748ed75029ebd0433d02eb97839fe6a08479ee4b
Author: Eric Dumazet <edumazet@google.com>
Date:   Wed Apr 24 08:04:05 2019 -0700

    ipv4: add sanity checks in ipv4_link_failure()
    
    [ Upstream commit 20ff83f10f113c88d0bb74589389b05250994c16 ]
    
    Before calling __ip_options_compile(), we need to ensure the network
    header is a an IPv4 one, and that it is already pulled in skb->head.
    
    RAW sockets going through a tunnel can end up calling ipv4_link_failure()
    with total garbage in the skb, or arbitrary lengthes.
    
    syzbot report :
    
    BUG: KASAN: stack-out-of-bounds in memcpy include/linux/string.h:355 [inline]
    BUG: KASAN: stack-out-of-bounds in __ip_options_echo+0x294/0x1120 net/ipv4/ip_options.c:123
    Write of size 69 at addr ffff888096abf068 by task syz-executor.4/9204
    
    CPU: 0 PID: 9204 Comm: syz-executor.4 Not tainted 5.1.0-rc5+ #77
    Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
    Call Trace:
     __dump_stack lib/dump_stack.c:77 [inline]
     dump_stack+0x172/0x1f0 lib/dump_stack.c:113
     print_address_description.cold+0x7c/0x20d mm/kasan/report.c:187
     kasan_report.cold+0x1b/0x40 mm/kasan/report.c:317
     check_memory_region_inline mm/kasan/generic.c:185 [inline]
     check_memory_region+0x123/0x190 mm/kasan/generic.c:191
     memcpy+0x38/0x50 mm/kasan/common.c:133
     memcpy include/linux/string.h:355 [inline]
     __ip_options_echo+0x294/0x1120 net/ipv4/ip_options.c:123
     __icmp_send+0x725/0x1400 net/ipv4/icmp.c:695
     ipv4_link_failure+0x29f/0x550 net/ipv4/route.c:1204
     dst_link_failure include/net/dst.h:427 [inline]
     vti6_xmit net/ipv6/ip6_vti.c:514 [inline]
     vti6_tnl_xmit+0x10d4/0x1c0c net/ipv6/ip6_vti.c:553
     __netdev_start_xmit include/linux/netdevice.h:4414 [inline]
     netdev_start_xmit include/linux/netdevice.h:4423 [inline]
     xmit_one net/core/dev.c:3292 [inline]
     dev_hard_start_xmit+0x1b2/0x980 net/core/dev.c:3308
     __dev_queue_xmit+0x271d/0x3060 net/core/dev.c:3878
     dev_queue_xmit+0x18/0x20 net/core/dev.c:3911
     neigh_direct_output+0x16/0x20 net/core/neighbour.c:1527
     neigh_output include/net/neighbour.h:508 [inline]
     ip_finish_output2+0x949/0x1740 net/ipv4/ip_output.c:229
     ip_finish_output+0x73c/0xd50 net/ipv4/ip_output.c:317
     NF_HOOK_COND include/linux/netfilter.h:278 [inline]
     ip_output+0x21f/0x670 net/ipv4/ip_output.c:405
     dst_output include/net/dst.h:444 [inline]
     NF_HOOK include/linux/netfilter.h:289 [inline]
     raw_send_hdrinc net/ipv4/raw.c:432 [inline]
     raw_sendmsg+0x1d2b/0x2f20 net/ipv4/raw.c:663
     inet_sendmsg+0x147/0x5d0 net/ipv4/af_inet.c:798
     sock_sendmsg_nosec net/socket.c:651 [inline]
     sock_sendmsg+0xdd/0x130 net/socket.c:661
     sock_write_iter+0x27c/0x3e0 net/socket.c:988
     call_write_iter include/linux/fs.h:1866 [inline]
     new_sync_write+0x4c7/0x760 fs/read_write.c:474
     __vfs_write+0xe4/0x110 fs/read_write.c:487
     vfs_write+0x20c/0x580 fs/read_write.c:549
     ksys_write+0x14f/0x2d0 fs/read_write.c:599
     __do_sys_write fs/read_write.c:611 [inline]
     __se_sys_write fs/read_write.c:608 [inline]
     __x64_sys_write+0x73/0xb0 fs/read_write.c:608
     do_syscall_64+0x103/0x610 arch/x86/entry/common.c:290
     entry_SYSCALL_64_after_hwframe+0x49/0xbe
    RIP: 0033:0x458c29
    Code: ad b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 7b b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
    RSP: 002b:00007f293b44bc78 EFLAGS: 00000246 ORIG_RAX: 0000000000000001
    RAX: ffffffffffffffda RBX: 0000000000000003 RCX: 0000000000458c29
    RDX: 0000000000000014 RSI: 00000000200002c0 RDI: 0000000000000003
    RBP: 000000000073bf00 R08: 0000000000000000 R09: 0000000000000000
    R10: 0000000000000000 R11: 0000000000000246 R12: 00007f293b44c6d4
    R13: 00000000004c8623 R14: 00000000004ded68 R15: 00000000ffffffff
    
    The buggy address belongs to the page:
    page:ffffea00025aafc0 count:0 mapcount:0 mapping:0000000000000000 index:0x0
    flags: 0x1fffc0000000000()
    raw: 01fffc0000000000 0000000000000000 ffffffff025a0101 0000000000000000
    raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
    page dumped because: kasan: bad access detected
    
    Memory state around the buggy address:
     ffff888096abef80: 00 00 00 f2 f2 f2 f2 f2 00 00 00 00 00 00 00 f2
     ffff888096abf000: f2 f2 f2 f2 00 00 00 00 00 00 00 00 00 00 00 00
    >ffff888096abf080: 00 00 f3 f3 f3 f3 00 00 00 00 00 00 00 00 00 00
                             ^
     ffff888096abf100: 00 00 00 00 f1 f1 f1 f1 00 00 f3 f3 00 00 00 00
     ffff888096abf180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
    
    Fixes: ed0de45a1008 ("ipv4: recompile ip options in ipv4_link_failure")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Cc: Stephen Suryaputra <ssuryaextr@gmail.com>
    Acked-by: Willem de Bruijn <willemb@google.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit 0a7e8300b7f4cf72a6f1c0c2799d92149465c414
Author: Eric Dumazet <edumazet@google.com>
Date:   Sat Apr 13 17:32:21 2019 -0700

    ipv4: ensure rcu_read_lock() in ipv4_link_failure()
    
    [ Upstream commit c543cb4a5f07e09237ec0fc2c60c9f131b2c79ad ]
    
    fib_compute_spec_dst() needs to be called under rcu protection.
    
    syzbot reported :
    
    WARNING: suspicious RCU usage
    5.1.0-rc4+ #165 Not tainted
    include/linux/inetdevice.h:220 suspicious rcu_dereference_check() usage!
    
    other info that might help us debug this:
    
    rcu_scheduler_active = 2, debug_locks = 1
    1 lock held by swapper/0/0:
     #0: 0000000051b67925 ((&n->timer)){+.-.}, at: lockdep_copy_map include/linux/lockdep.h:170 [inline]
     #0: 0000000051b67925 ((&n->timer)){+.-.}, at: call_timer_fn+0xda/0x720 kernel/time/timer.c:1315
    
    stack backtrace:
    CPU: 0 PID: 0 Comm: swapper/0 Not tainted 5.1.0-rc4+ #165
    Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
    Call Trace:
     <IRQ>
     __dump_stack lib/dump_stack.c:77 [inline]
     dump_stack+0x172/0x1f0 lib/dump_stack.c:113
     lockdep_rcu_suspicious+0x153/0x15d kernel/locking/lockdep.c:5162
     __in_dev_get_rcu include/linux/inetdevice.h:220 [inline]
     fib_compute_spec_dst+0xbbd/0x1030 net/ipv4/fib_frontend.c:294
     spec_dst_fill net/ipv4/ip_options.c:245 [inline]
     __ip_options_compile+0x15a7/0x1a10 net/ipv4/ip_options.c:343
     ipv4_link_failure+0x172/0x400 net/ipv4/route.c:1195
     dst_link_failure include/net/dst.h:427 [inline]
     arp_error_report+0xd1/0x1c0 net/ipv4/arp.c:297
     neigh_invalidate+0x24b/0x570 net/core/neighbour.c:995
     neigh_timer_handler+0xc35/0xf30 net/core/neighbour.c:1081
     call_timer_fn+0x190/0x720 kernel/time/timer.c:1325
     expire_timers kernel/time/timer.c:1362 [inline]
     __run_timers kernel/time/timer.c:1681 [inline]
     __run_timers kernel/time/timer.c:1649 [inline]
     run_timer_softirq+0x652/0x1700 kernel/time/timer.c:1694
     __do_softirq+0x266/0x95a kernel/softirq.c:293
     invoke_softirq kernel/softirq.c:374 [inline]
     irq_exit+0x180/0x1d0 kernel/softirq.c:414
     exiting_irq arch/x86/include/asm/apic.h:536 [inline]
     smp_apic_timer_interrupt+0x14a/0x570 arch/x86/kernel/apic/apic.c:1062
     apic_timer_interrupt+0xf/0x20 arch/x86/entry/entry_64.S:807
    
    Fixes: ed0de45a1008 ("ipv4: recompile ip options in ipv4_link_failure")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Reported-by: syzbot <syzkaller@googlegroups.com>
    Cc: Stephen Suryaputra <ssuryaextr@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit 748ed75029ebd0433d02eb97839fe6a08479ee4b
Author: Eric Dumazet <edumazet@google.com>
Date:   Wed Apr 24 08:04:05 2019 -0700

    ipv4: add sanity checks in ipv4_link_failure()
    
    [ Upstream commit 20ff83f10f113c88d0bb74589389b05250994c16 ]
    
    Before calling __ip_options_compile(), we need to ensure the network
    header is a an IPv4 one, and that it is already pulled in skb->head.
    
    RAW sockets going through a tunnel can end up calling ipv4_link_failure()
    with total garbage in the skb, or arbitrary lengthes.
    
    syzbot report :
    
    BUG: KASAN: stack-out-of-bounds in memcpy include/linux/string.h:355 [inline]
    BUG: KASAN: stack-out-of-bounds in __ip_options_echo+0x294/0x1120 net/ipv4/ip_options.c:123
    Write of size 69 at addr ffff888096abf068 by task syz-executor.4/9204
    
    CPU: 0 PID: 9204 Comm: syz-executor.4 Not tainted 5.1.0-rc5+ #77
    Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
    Call Trace:
     __dump_stack lib/dump_stack.c:77 [inline]
     dump_stack+0x172/0x1f0 lib/dump_stack.c:113
     print_address_description.cold+0x7c/0x20d mm/kasan/report.c:187
     kasan_report.cold+0x1b/0x40 mm/kasan/report.c:317
     check_memory_region_inline mm/kasan/generic.c:185 [inline]
     check_memory_region+0x123/0x190 mm/kasan/generic.c:191
     memcpy+0x38/0x50 mm/kasan/common.c:133
     memcpy include/linux/string.h:355 [inline]
     __ip_options_echo+0x294/0x1120 net/ipv4/ip_options.c:123
     __icmp_send+0x725/0x1400 net/ipv4/icmp.c:695
     ipv4_link_failure+0x29f/0x550 net/ipv4/route.c:1204
     dst_link_failure include/net/dst.h:427 [inline]
     vti6_xmit net/ipv6/ip6_vti.c:514 [inline]
     vti6_tnl_xmit+0x10d4/0x1c0c net/ipv6/ip6_vti.c:553
     __netdev_start_xmit include/linux/netdevice.h:4414 [inline]
     netdev_start_xmit include/linux/netdevice.h:4423 [inline]
     xmit_one net/core/dev.c:3292 [inline]
     dev_hard_start_xmit+0x1b2/0x980 net/core/dev.c:3308
     __dev_queue_xmit+0x271d/0x3060 net/core/dev.c:3878
     dev_queue_xmit+0x18/0x20 net/core/dev.c:3911
     neigh_direct_output+0x16/0x20 net/core/neighbour.c:1527
     neigh_output include/net/neighbour.h:508 [inline]
     ip_finish_output2+0x949/0x1740 net/ipv4/ip_output.c:229
     ip_finish_output+0x73c/0xd50 net/ipv4/ip_output.c:317
     NF_HOOK_COND include/linux/netfilter.h:278 [inline]
     ip_output+0x21f/0x670 net/ipv4/ip_output.c:405
     dst_output include/net/dst.h:444 [inline]
     NF_HOOK include/linux/netfilter.h:289 [inline]
     raw_send_hdrinc net/ipv4/raw.c:432 [inline]
     raw_sendmsg+0x1d2b/0x2f20 net/ipv4/raw.c:663
     inet_sendmsg+0x147/0x5d0 net/ipv4/af_inet.c:798
     sock_sendmsg_nosec net/socket.c:651 [inline]
     sock_sendmsg+0xdd/0x130 net/socket.c:661
     sock_write_iter+0x27c/0x3e0 net/socket.c:988
     call_write_iter include/linux/fs.h:1866 [inline]
     new_sync_write+0x4c7/0x760 fs/read_write.c:474
     __vfs_write+0xe4/0x110 fs/read_write.c:487
     vfs_write+0x20c/0x580 fs/read_write.c:549
     ksys_write+0x14f/0x2d0 fs/read_write.c:599
     __do_sys_write fs/read_write.c:611 [inline]
     __se_sys_write fs/read_write.c:608 [inline]
     __x64_sys_write+0x73/0xb0 fs/read_write.c:608
     do_syscall_64+0x103/0x610 arch/x86/entry/common.c:290
     entry_SYSCALL_64_after_hwframe+0x49/0xbe
    RIP: 0033:0x458c29
    Code: ad b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 7b b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
    RSP: 002b:00007f293b44bc78 EFLAGS: 00000246 ORIG_RAX: 0000000000000001
    RAX: ffffffffffffffda RBX: 0000000000000003 RCX: 0000000000458c29
    RDX: 0000000000000014 RSI: 00000000200002c0 RDI: 0000000000000003
    RBP: 000000000073bf00 R08: 0000000000000000 R09: 0000000000000000
    R10: 0000000000000000 R11: 0000000000000246 R12: 00007f293b44c6d4
    R13: 00000000004c8623 R14: 00000000004ded68 R15: 00000000ffffffff
    
    The buggy address belongs to the page:
    page:ffffea00025aafc0 count:0 mapcount:0 mapping:0000000000000000 index:0x0
    flags: 0x1fffc0000000000()
    raw: 01fffc0000000000 0000000000000000 ffffffff025a0101 0000000000000000
    raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
    page dumped because: kasan: bad access detected
    
    Memory state around the buggy address:
     ffff888096abef80: 00 00 00 f2 f2 f2 f2 f2 00 00 00 00 00 00 00 f2
     ffff888096abf000: f2 f2 f2 f2 00 00 00 00 00 00 00 00 00 00 00 00
    >ffff888096abf080: 00 00 f3 f3 f3 f3 00 00 00 00 00 00 00 00 00 00
                             ^
     ffff888096abf100: 00 00 00 00 f1 f1 f1 f1 00 00 f3 f3 00 00 00 00
     ffff888096abf180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
    
    Fixes: ed0de45a1008 ("ipv4: recompile ip options in ipv4_link_failure")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Cc: Stephen Suryaputra <ssuryaextr@gmail.com>
    Acked-by: Willem de Bruijn <willemb@google.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking f052bafe5476347fe9ae0665c4d2297ad1301e38 ......
	 orig commit -> 813dbeb656d6c90266f251d8bd2b02d445afa63f ......
checking b205097fae230acfe7a928e7f4875148568667bd ......
	 orig commit -> 43c2adb9df7ddd6560fd3546d925b42cef92daa0 ......
checking 07b1747f11af7cb3ed0903cd8bf3b5a382452ec4 ......
	 orig commit -> 50ce163a72d817a99e8974222dcf2886d5deb1ae ......
checking 8835f1c7d0fb0faf6df93c1715f13b9ef04a9e99 ......
	 orig commit -> 988dc4a9a3b66be75b30405a5494faf0dc7cffb6 ......
checking c1e7e01e2edb90678e26f100fae0dc50024d139b ......
	 orig commit -> c5b493ce192bd7a4e7bd073b5685aad121eeef82 ......
checking a1a9b69e2605db1edea34bb3a6051cf845b26bc1 ......
	 orig commit -> 3b2e2904deb314cc77a2192f506f2fd44e3d10d0 ......
checking 9fac50c39253b6bef74c2cfc2244a93c4d5a0896 ......
	 orig commit -> 899537b73557aafbdd11050b501cf54b4f5c45af ......
checking a1b3ec23f8884a77cd2def23ace3904d1e2d8788 ......
	 orig commit -> 92480b3977fd3884649d404cbbaf839b70035699 ......
