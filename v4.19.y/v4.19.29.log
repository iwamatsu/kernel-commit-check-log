checking 7794d352260604f02e7d446e632af2ca7fe8dda6 ......
checking 842bdbe83ccc17930af62f730415b06432d4338c ......
	 orig commit -> 7fbe078c37aba3088359c9256c1a1d0c3e39ee81 ......
checking 090ce34b7832c5e450e13847876832c2870bbc63 ......
	 orig commit -> cdec2141c24ef177d929765c5a6f95549c266fb3 ......
checking eab8018fd289304c742212cbdcecc2e08716ba83 ......
	 orig commit -> 51232df5e4b268936beccde5248f312a316800be ......
checking 96ce54b24c38913cc132659dabb6780f660fda3f ......
	 orig commit -> 25dc194b34dd5919dd07b8873ee338182e15df9d ......
checking 27143c71d68be2b60b6f3800d312009158bc24e2 ......
	 orig commit -> b761dcf1217760a42f7897c31dcb649f59b2333e ......
checking d6b577c6201fe12bb33f15167623662f3c5f14d0 ......
	 orig commit -> c634dc6bdedeb0b2c750fc611612618a85639ab2 ......
checking 92c9a3897a4c08a48aebceb324b01a81fb926e42 ......
	 orig commit -> ede271b059463731cbd6dffe55ffd70d7dbe8392 ......
checking 835bc1e2a9043783156e7b7f03a377e7e67bec40 ......
	 orig commit -> cbc05fd6708c1744ee6a61cb4c461ff956d30524 ......
checking be888d9a0ed31d719baddd52e090f3f6422a8114 ......
	 orig commit -> c0ca5eced22215c1e03e3ad479f8fab0bbb30772 ......
checking 8f6cf57ebe5d5c5c07d2712b31493b8724c02e35 ......
	 orig commit -> 8bb37a2a4d7c02affef554f5dc05f6d2e39c31f9 ......
checking 5da055b1ca56a1e426eedf7e8978f0d63251f16c ......
	 orig commit -> 167897f4b32c2bc18b3b6183029a33fb420a114e ......
checking 2191cd581f46277739a1660f1ae5f6638753dd4c ......
	 orig commit -> cfc35f9c128cea8fce6a5513b1de50d36f3b209f ......
checking 8b2d663975419df59e14e3dcb750816642bfcf62 ......
	 orig commit -> f97a0944a72b26a2bece72516294e112a890f98a ......
checking bb2dde7c9edca750e400a373e385ecfb1875fabe ......
	 orig commit -> 7dc661bd8d3261053b69e4e2d0050cd1ee540fc1 ......
checking a8eae05f8dbf9e05ce27e5ad77c338e266834512 ......
	 orig commit -> f764c58b7faa26f5714e6907f892abc2bc0de4f8 ......
checking 2835c059726a100c1de78fd5219cbe4395a894b1 ......
	 orig commit -> 31867b23d7d1ee3535136c6a410a6cf56f666bfc ......
checking 275a2c08c3133861db1e8419cf911dc30c2f4e38 ......
	 orig commit -> ecb3dea400d3beaf611ce76ac7a51d4230492cf2 ......
checking 345af5abca671b625cb64c0078dc37f49c1fa227 ......
	 orig commit -> ae3b564179bfd06f32d051b9e5d72ce4b2a07c37 ......
checking f56b3c297ca71eb780b7c5508532b9675f650355 ......
	 orig commit -> d7cf4a3bf3a83c977a29055e1c4ffada7697b31f ......
checking 795cb33c32d25c0e66c608fce67766de0a0838c7 ......
	 orig commit -> 3c963a3306eada999be5ebf4f293dfa3d3945487 ......
checking 2e4b2aeb02091d45f116dbe477deb5c1d7abcea0 ......
	 orig commit -> bf1dc8bad1d42287164d216d8efb51c5cd381b18 ......
checking 96dd4ef3c0ced87ba48c0047be46a2dac9025456 ......
	 orig commit -> 193f3685d0546b0cea20c99894aadb70098e47bf ......
checking 1856bbbea652f03a1c3fbca7e690e6950078d236 ......
	 orig commit -> 7cc9f7003a969d359f608ebb701d42cafe75b84a ......
checking e5c31b5a685441786592edb18272caa47b4fb3d7 ......
	 orig commit -> 8c7a77267eec81dd81af8412f29e50c0b1082548 ......
checking b9d0cb758145600de19b54e99fa3a8a75f10ea8b ......
	 orig commit -> f5b51fe804ec2a6edce0f8f6b11ea57283f5857b ......
checking fe38cbc9e38a16407dcd566b34ebb98e150479aa ......
	 orig commit -> 97f0082a0592212fc15d4680f5a4d80f79a1687c ......
checking 96a3b14450afa83f4f3ffdeafaca19db8e05c2fd ......
	 orig commit -> 6ff7b060535e87c2ae14dd8548512abfdda528fb ......
checking 13b430574e614d2c8ee432d32d371565379f9447 ......
	 orig commit -> 797a22bd5298c2674d927893f46cadf619dad11d ......
checking c3bdcd9dd2fecbbe9fc22b70b8c06e1e33ef09b3 ......
	 orig commit -> 8511a653e9250ef36b95803c375a7be0e2edb628 ......
checking c3bcf8cb401d3b7d2fef96d8d4f103380770a288 ......
	 orig commit -> c07d27927f2f2e96fcd27bb9fb330c9ea65612d0 ......
checking 1f34d8d2e513cfc75378fe31bd0411028d06b3f3 ......
	 orig commit -> e15ce4b8d11227007577e6dc1364d288b8874fbe ......
checking f09a656b68ef9e7523dc56873975a7187d3ca473 ......
	 orig commit -> 59cbf56fcd98ba2a715b6e97c4e43f773f956393 ......
checking 9f7aeee6542effdd2db34bd69a02bc013438ed27 ......
	 orig commit -> ad6c9986bcb627c7c22b8f9e9a934becc27df87c ......
checking 173e9023a0689b27d6ae212000c1c147534aa86f ......
	 orig commit -> 9d3e1368bb45893a75a5dfb7cd21fdebfa6b47af ......
checking fba43f49fdf76b5f07cbbc10d1b71439852b50d6 ......
	 orig commit -> f2feaefdabb0a6253aa020f65e7388f07a9ed47c ......
checking 8accd04eb9a4123e65b4a17d411edea8d83e7de8 ......
	 orig commit -> 6466e715651f9f358e60c5ea4880e4731325827f ......
checking 0e6b33fa9ae11d5b91da16b13641049a07d3a023 ......
	 orig commit -> 2e990dfd13974d9eae493006f42ffb48707970ef ......
checking c5952168e9dabbe249821efc18eefc3d63743ca2 ......
	 orig commit -> 69ffaebb90369ce08657b5aea4896777b9d6e8fc ......
checking eaa0962e1eb255fca499b891b79fe9ec2f39e073 ......
	 orig commit -> ee60ad219f5c7c4fb2f047f88037770063ef785f ......
checking ec61b95340f892f5a62bda5d04e8283563175445 ......
	 orig commit -> ae9819e339b451da7a86ab6fe38ecfcb6814e78a ......
checking 34dc08b9e916dc02c3a5fa81f27fa698f3d66ba3 ......
	 orig commit -> 9417d81f4f8adfe20a12dd1fadf73a618cbd945d ......
checking 14d5e73b01bafce624b1542f96c41d15a0fcf1f5 ......
	 orig commit -> ee74d0bd4325efb41e38affe5955f920ed973f23 ......
checking b5c109075acafa1ad44c1dbc192141ec84eca807 ......
	 orig commit -> 95d6ebd53c79522bf9502dbc7e89e0d63f94dae4 ......
		 95d6ebd53c79522bf9502dbc7e89e0d63f94dae4 has problem. Fixes commit -> ee74d0bd4325efb41e38affe5955f920ed973f23
commit 14d5e73b01bafce624b1542f96c41d15a0fcf1f5
Author: Eric Dumazet <edumazet@google.com>
Date:   Mon Mar 11 13:48:44 2019 -0700

    net/x25: reset state in x25_connect()
    
    [ Upstream commit ee74d0bd4325efb41e38affe5955f920ed973f23 ]
    
    In case x25_connect() fails and frees the socket neighbour,
    we also need to undo the change done to x25->state.
    
    Before my last bug fix, we had use-after-free so this
    patch fixes a latent bug.
    
    syzbot report :
    
    kasan: CONFIG_KASAN_INLINE enabled
    kasan: GPF could be caused by NULL-ptr deref or user memory access
    general protection fault: 0000 [#1] PREEMPT SMP KASAN
    CPU: 1 PID: 16137 Comm: syz-executor.1 Not tainted 5.0.0+ #117
    Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
    RIP: 0010:x25_write_internal+0x1e8/0xdf0 net/x25/x25_subr.c:173
    Code: 00 40 88 b5 e0 fe ff ff 0f 85 01 0b 00 00 48 8b 8b 80 04 00 00 48 ba 00 00 00 00 00 fc ff df 48 8d 79 1c 48 89 fe 48 c1 ee 03 <0f> b6 34 16 48 89 fa 83 e2 07 83 c2 03 40 38 f2 7c 09 40 84 f6 0f
    RSP: 0018:ffff888076717a08 EFLAGS: 00010207
    RAX: ffff88805f2f2292 RBX: ffff8880a0ae6000 RCX: 0000000000000000
    kobject: 'loop5' (0000000018d0d0ee): kobject_uevent_env
    RDX: dffffc0000000000 RSI: 0000000000000003 RDI: 000000000000001c
    RBP: ffff888076717b40 R08: ffff8880950e0580 R09: ffffed100be5e46d
    R10: ffffed100be5e46c R11: ffff88805f2f2363 R12: ffff888065579840
    kobject: 'loop5' (0000000018d0d0ee): fill_kobj_path: path = '/devices/virtual/block/loop5'
    R13: 1ffff1100ece2f47 R14: 0000000000000013 R15: 0000000000000013
    FS:  00007fb88cf43700(0000) GS:ffff8880ae900000(0000) knlGS:0000000000000000
    CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
    CR2: 00007f9a42a41028 CR3: 0000000087a67000 CR4: 00000000001406e0
    DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
    DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
    Call Trace:
     x25_release+0xd0/0x340 net/x25/af_x25.c:658
     __sock_release+0xd3/0x2b0 net/socket.c:579
     sock_close+0x1b/0x30 net/socket.c:1162
     __fput+0x2df/0x8d0 fs/file_table.c:278
     ____fput+0x16/0x20 fs/file_table.c:309
     task_work_run+0x14a/0x1c0 kernel/task_work.c:113
     get_signal+0x1961/0x1d50 kernel/signal.c:2388
     do_signal+0x87/0x1940 arch/x86/kernel/signal.c:816
     exit_to_usermode_loop+0x244/0x2c0 arch/x86/entry/common.c:162
     prepare_exit_to_usermode arch/x86/entry/common.c:197 [inline]
     syscall_return_slowpath arch/x86/entry/common.c:268 [inline]
     do_syscall_64+0x52d/0x610 arch/x86/entry/common.c:293
     entry_SYSCALL_64_after_hwframe+0x49/0xbe
    RIP: 0033:0x457f29
    Code: ad b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 7b b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
    RSP: 002b:00007fb88cf42c78 EFLAGS: 00000246 ORIG_RAX: 000000000000002a
    RAX: fffffffffffffe00 RBX: 0000000000000003 RCX: 0000000000457f29
    RDX: 0000000000000012 RSI: 0000000020000080 RDI: 0000000000000004
    RBP: 000000000073bf00 R08: 0000000000000000 R09: 0000000000000000
    R10: 0000000000000000 R11: 0000000000000246 R12: 00007fb88cf436d4
    R13: 00000000004be462 R14: 00000000004cec98 R15: 00000000ffffffff
    Modules linked in:
    
    Fixes: 95d6ebd53c79 ("net/x25: fix use-after-free in x25_device_event()")
    Signed-off-by: Eric Dumazet <edumazet@google.com>
    Cc: andrew hendry <andrew.hendry@gmail.com>
    Reported-by: syzbot <syzkaller@googlegroups.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
checking 7cfb97ba8396e460d640799e9f06ff2783501bb1 ......
	 orig commit -> a843dc4ebaecd15fca1f4d35a97210f72ea1473b ......
checking 86a71f00f9f5296b229c4eb41bbe3f584b32c671 ......
	 orig commit -> 1e027960edfaa6a43f9ca31081729b716598112b ......
checking 996ee1aca7def6125e9d96f58151799d44082cfc ......
	 orig commit -> 6caabe7f197d3466d238f70915d65301f1716626 ......
checking ab13fe32a01afff463bc3dca4fdaf55c7272e50b ......
	 orig commit -> deb6bfabdbb634e91f36a4e9cb00a7137d72d886 ......
checking 223264734865ba71eb8bbdd5ea002ff478d837ec ......
	 orig commit -> dd9d9f5907bb475f8b1796c47d4ecc7fb9b72136 ......
checking 96d58cd882ed7f9cd35e4981256f36e557fcdef0 ......
	 orig commit -> 163d1c3d6f17556ed3c340d3789ea93be95d6c28 ......
checking 7760937dc27814d0eb942b8e737cf576b132bd7a ......
	 orig commit -> 22c74764aa2943ecdf9f07c900d8a9c8ba6c9265 ......
checking df737fd033913b4952d4e8f6e3956007eb836acb ......
	 orig commit -> 2a5ff07a0eb945f291e361aa6f6becca8340ba46 ......
checking ef9ef4adb85c3d14ab838a886c153432046c6c02 ......
	 orig commit -> 6d2b0f02f5a07a4bf02e4cbc90d7eaa85cac2986 ......
